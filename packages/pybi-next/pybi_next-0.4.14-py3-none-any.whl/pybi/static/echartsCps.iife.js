var echartsCps=function(f){"use strict";var he;const ge=typeof window<"u",pt=e=>typeof e=="string",dt=()=>{};ge&&((he=window==null?void 0:window.navigator)!=null&&he.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function ht(e){return typeof e=="function"?e():f.unref(e)}function gt(e){return e}function ye(e){return f.getCurrentScope()?(f.onScopeDispose(e),!0):!1}function yt(e,t=!0){f.getCurrentInstance()?f.onMounted(e):t?e():f.nextTick(e)}function _e(e){var t;const r=ht(e);return(t=r==null?void 0:r.$el)!=null?t:r}const ve=ge?window:void 0;function _t(...e){let t,r,n,a;if(pt(e[0])||Array.isArray(e[0])?([r,n,a]=e,t=ve):[t,r,n,a]=e,!t)return dt;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const i=[],o=()=>{i.forEach(p=>p()),i.length=0},s=(p,c,d)=>(p.addEventListener(c,d,a),()=>p.removeEventListener(c,d,a)),u=f.watch(()=>_e(t),p=>{o(),p&&i.push(...r.flatMap(c=>n.map(d=>s(p,c,d))))},{immediate:!0,flush:"post"}),l=()=>{u(),o()};return ye(l),l}function vt(e,t=!1){const r=f.ref(),n=()=>r.value=!!e();return n(),yt(n,t),r}const be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},we="__vueuse_ssr_handlers__";be[we]=be[we]||{};var Oe=Object.getOwnPropertySymbols,bt=Object.prototype.hasOwnProperty,wt=Object.prototype.propertyIsEnumerable,Ot=(e,t)=>{var r={};for(var n in e)bt.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Oe)for(var n of Oe(e))t.indexOf(n)<0&&wt.call(e,n)&&(r[n]=e[n]);return r};function Tt(e,t,r={}){const n=r,{window:a=ve}=n,i=Ot(n,["window"]);let o;const s=vt(()=>a&&"ResizeObserver"in a),u=()=>{o&&(o.disconnect(),o=void 0)},l=f.watch(()=>_e(e),c=>{u(),s.value&&a&&c&&(o=new ResizeObserver(t),o.observe(c,i))},{immediate:!0,flush:"post"}),p=()=>{u(),l()};return ye(p),{isSupported:s,stop:p}}var Te;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Te||(Te={}));var mt=Object.defineProperty,me=Object.getOwnPropertySymbols,At=Object.prototype.hasOwnProperty,$t=Object.prototype.propertyIsEnumerable,Ae=(e,t,r)=>t in e?mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pt=(e,t)=>{for(var r in t||(t={}))At.call(t,r)&&Ae(e,r,t[r]);if(me)for(var r of me(t))$t.call(t,r)&&Ae(e,r,t[r]);return e};Pt({linear:gt},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});function X(e,t){return`${e.id}_opt${t}`}var xt=typeof global=="object"&&global&&global.Object===Object&&global;const $e=xt;var Et=typeof self=="object"&&self&&self.Object===Object&&self,It=$e||Et||Function("return this")();const P=It;var St=P.Symbol;const S=St;var Pe=Object.prototype,Ct=Pe.hasOwnProperty,Ft=Pe.toString,N=S?S.toStringTag:void 0;function Rt(e){var t=Ct.call(e,N),r=e[N];try{e[N]=void 0;var n=!0}catch{}var a=Ft.call(e);return n&&(t?e[N]=r:delete e[N]),a}var Dt=Object.prototype,jt=Dt.toString;function Mt(e){return jt.call(e)}var Gt="[object Null]",Nt="[object Undefined]",xe=S?S.toStringTag:void 0;function j(e){return e==null?e===void 0?Nt:Gt:xe&&xe in Object(e)?Rt(e):Mt(e)}function M(e){return e!=null&&typeof e=="object"}var Lt="[object Symbol]";function Z(e){return typeof e=="symbol"||M(e)&&j(e)==Lt}function Bt(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var Ut=Array.isArray;const A=Ut;var Kt=1/0,Ee=S?S.prototype:void 0,Ie=Ee?Ee.toString:void 0;function Se(e){if(typeof e=="string")return e;if(A(e))return Bt(e,Se)+"";if(Z(e))return Ie?Ie.call(e):"";var t=e+"";return t=="0"&&1/e==-Kt?"-0":t}function L(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function zt(e){return e}var Ht="[object AsyncFunction]",Vt="[object Function]",qt="[object GeneratorFunction]",Qt="[object Proxy]";function Ce(e){if(!L(e))return!1;var t=j(e);return t==Vt||t==qt||t==Ht||t==Qt}var Wt=P["__core-js_shared__"];const J=Wt;var Fe=function(){var e=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Yt(e){return!!Fe&&Fe in e}var Xt=Function.prototype,Zt=Xt.toString;function C(e){if(e!=null){try{return Zt.call(e)}catch{}try{return e+""}catch{}}return""}var Jt=/[\\^$.*+?()[\]{}|]/g,kt=/^\[object .+?Constructor\]$/,er=Function.prototype,tr=Object.prototype,rr=er.toString,nr=tr.hasOwnProperty,ar=RegExp("^"+rr.call(nr).replace(Jt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ir(e){if(!L(e)||Yt(e))return!1;var t=Ce(e)?ar:kt;return t.test(C(e))}function or(e,t){return e==null?void 0:e[t]}function F(e,t){var r=or(e,t);return ir(r)?r:void 0}var sr=F(P,"WeakMap");const k=sr;function ur(){}var cr=function(){try{var e=F(Object,"defineProperty");return e({},"",{}),e}catch{}}();const Re=cr;function fr(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}function lr(e){return e!==e}function pr(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}function dr(e,t,r){return t===t?pr(e,t,r):fr(e,lr,r)}function hr(e,t){var r=e==null?0:e.length;return!!r&&dr(e,t,0)>-1}var gr=9007199254740991,yr=/^(?:0|[1-9]\d*)$/;function ee(e,t){var r=typeof e;return t=t??gr,!!t&&(r=="number"||r!="symbol"&&yr.test(e))&&e>-1&&e%1==0&&e<t}function De(e,t,r){t=="__proto__"&&Re?Re(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function te(e,t){return e===t||e!==e&&t!==t}var _r=Object.prototype,vr=_r.hasOwnProperty;function br(e,t,r){var n=e[t];(!(vr.call(e,t)&&te(n,r))||r===void 0&&!(t in e))&&De(e,t,r)}var wr=9007199254740991;function re(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=wr}function je(e){return e!=null&&re(e.length)&&!Ce(e)}var Or=Object.prototype;function Tr(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Or;return e===r}function mr(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var Ar="[object Arguments]";function Me(e){return M(e)&&j(e)==Ar}var Ge=Object.prototype,$r=Ge.hasOwnProperty,Pr=Ge.propertyIsEnumerable,xr=Me(function(){return arguments}())?Me:function(e){return M(e)&&$r.call(e,"callee")&&!Pr.call(e,"callee")};const Ne=xr;function Er(){return!1}var Le=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Be=Le&&typeof module=="object"&&module&&!module.nodeType&&module,Ir=Be&&Be.exports===Le,Ue=Ir?P.Buffer:void 0,Sr=Ue?Ue.isBuffer:void 0,Cr=Sr||Er;const ne=Cr;var Fr="[object Arguments]",Rr="[object Array]",Dr="[object Boolean]",jr="[object Date]",Mr="[object Error]",Gr="[object Function]",Nr="[object Map]",Lr="[object Number]",Br="[object Object]",Ur="[object RegExp]",Kr="[object Set]",zr="[object String]",Hr="[object WeakMap]",Vr="[object ArrayBuffer]",qr="[object DataView]",Qr="[object Float32Array]",Wr="[object Float64Array]",Yr="[object Int8Array]",Xr="[object Int16Array]",Zr="[object Int32Array]",Jr="[object Uint8Array]",kr="[object Uint8ClampedArray]",en="[object Uint16Array]",tn="[object Uint32Array]",y={};y[Qr]=y[Wr]=y[Yr]=y[Xr]=y[Zr]=y[Jr]=y[kr]=y[en]=y[tn]=!0,y[Fr]=y[Rr]=y[Vr]=y[Dr]=y[qr]=y[jr]=y[Mr]=y[Gr]=y[Nr]=y[Lr]=y[Br]=y[Ur]=y[Kr]=y[zr]=y[Hr]=!1;function rn(e){return M(e)&&re(e.length)&&!!y[j(e)]}function nn(e){return function(t){return e(t)}}var Ke=typeof exports=="object"&&exports&&!exports.nodeType&&exports,B=Ke&&typeof module=="object"&&module&&!module.nodeType&&module,an=B&&B.exports===Ke,ae=an&&$e.process,on=function(){try{var e=B&&B.require&&B.require("util").types;return e||ae&&ae.binding&&ae.binding("util")}catch{}}();const ze=on;var He=ze&&ze.isTypedArray,sn=He?nn(He):rn;const Ve=sn;var un=Object.prototype,cn=un.hasOwnProperty;function fn(e,t){var r=A(e),n=!r&&Ne(e),a=!r&&!n&&ne(e),i=!r&&!n&&!a&&Ve(e),o=r||n||a||i,s=o?mr(e.length,String):[],u=s.length;for(var l in e)(t||cn.call(e,l))&&!(o&&(l=="length"||a&&(l=="offset"||l=="parent")||i&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||ee(l,u)))&&s.push(l);return s}function ln(e,t){return function(r){return e(t(r))}}var pn=ln(Object.keys,Object);const dn=pn;var hn=Object.prototype,gn=hn.hasOwnProperty;function yn(e){if(!Tr(e))return dn(e);var t=[];for(var r in Object(e))gn.call(e,r)&&r!="constructor"&&t.push(r);return t}function ie(e){return je(e)?fn(e):yn(e)}var _n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vn=/^\w*$/;function oe(e,t){if(A(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Z(e)?!0:vn.test(e)||!_n.test(e)||t!=null&&e in Object(t)}var bn=F(Object,"create");const U=bn;function wn(){this.__data__=U?U(null):{},this.size=0}function On(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Tn="__lodash_hash_undefined__",mn=Object.prototype,An=mn.hasOwnProperty;function $n(e){var t=this.__data__;if(U){var r=t[e];return r===Tn?void 0:r}return An.call(t,e)?t[e]:void 0}var Pn=Object.prototype,xn=Pn.hasOwnProperty;function En(e){var t=this.__data__;return U?t[e]!==void 0:xn.call(t,e)}var In="__lodash_hash_undefined__";function Sn(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=U&&t===void 0?In:t,this}function R(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}R.prototype.clear=wn,R.prototype.delete=On,R.prototype.get=$n,R.prototype.has=En,R.prototype.set=Sn;function Cn(){this.__data__=[],this.size=0}function V(e,t){for(var r=e.length;r--;)if(te(e[r][0],t))return r;return-1}var Fn=Array.prototype,Rn=Fn.splice;function Dn(e){var t=this.__data__,r=V(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Rn.call(t,r,1),--this.size,!0}function jn(e){var t=this.__data__,r=V(t,e);return r<0?void 0:t[r][1]}function Mn(e){return V(this.__data__,e)>-1}function Gn(e,t){var r=this.__data__,n=V(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function x(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}x.prototype.clear=Cn,x.prototype.delete=Dn,x.prototype.get=jn,x.prototype.has=Mn,x.prototype.set=Gn;var Nn=F(P,"Map");const K=Nn;function Ln(){this.size=0,this.__data__={hash:new R,map:new(K||x),string:new R}}function Bn(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function q(e,t){var r=e.__data__;return Bn(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Un(e){var t=q(this,e).delete(e);return this.size-=t?1:0,t}function Kn(e){return q(this,e).get(e)}function zn(e){return q(this,e).has(e)}function Hn(e,t){var r=q(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function E(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}E.prototype.clear=Ln,E.prototype.delete=Un,E.prototype.get=Kn,E.prototype.has=zn,E.prototype.set=Hn;var Vn="Expected a function";function se(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Vn);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(se.Cache||E),r}se.Cache=E;var qn=500;function Qn(e){var t=se(e,function(n){return r.size===qn&&r.clear(),n}),r=t.cache;return t}var Wn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Yn=/\\(\\)?/g,Xn=Qn(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Wn,function(r,n,a,i){t.push(a?i.replace(Yn,"$1"):n||r)}),t});const Zn=Xn;function Jn(e){return e==null?"":Se(e)}function ue(e,t){return A(e)?e:oe(e,t)?[e]:Zn(Jn(e))}var kn=1/0;function z(e){if(typeof e=="string"||Z(e))return e;var t=e+"";return t=="0"&&1/e==-kn?"-0":t}function qe(e,t){t=ue(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[z(t[r++])];return r&&r==n?e:void 0}function ea(e,t,r){var n=e==null?void 0:qe(e,t);return n===void 0?r:n}function ta(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}function ra(){this.__data__=new x,this.size=0}function na(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function aa(e){return this.__data__.get(e)}function ia(e){return this.__data__.has(e)}var oa=200;function sa(e,t){var r=this.__data__;if(r instanceof x){var n=r.__data__;if(!K||n.length<oa-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new E(n)}return r.set(e,t),this.size=r.size,this}function I(e){var t=this.__data__=new x(e);this.size=t.size}I.prototype.clear=ra,I.prototype.delete=na,I.prototype.get=aa,I.prototype.has=ia,I.prototype.set=sa;function ua(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}function ca(){return[]}var fa=Object.prototype,la=fa.propertyIsEnumerable,Qe=Object.getOwnPropertySymbols,pa=Qe?function(e){return e==null?[]:(e=Object(e),ua(Qe(e),function(t){return la.call(e,t)}))}:ca;const da=pa;function ha(e,t,r){var n=t(e);return A(e)?n:ta(n,r(e))}function We(e){return ha(e,ie,da)}var ga=F(P,"DataView");const ce=ga;var ya=F(P,"Promise");const fe=ya;var _a=F(P,"Set");const G=_a;var Ye="[object Map]",va="[object Object]",Xe="[object Promise]",Ze="[object Set]",Je="[object WeakMap]",ke="[object DataView]",ba=C(ce),wa=C(K),Oa=C(fe),Ta=C(G),ma=C(k),D=j;(ce&&D(new ce(new ArrayBuffer(1)))!=ke||K&&D(new K)!=Ye||fe&&D(fe.resolve())!=Xe||G&&D(new G)!=Ze||k&&D(new k)!=Je)&&(D=function(e){var t=j(e),r=t==va?e.constructor:void 0,n=r?C(r):"";if(n)switch(n){case ba:return ke;case wa:return Ye;case Oa:return Xe;case Ta:return Ze;case ma:return Je}return t});const et=D;var Aa=P.Uint8Array;const tt=Aa;var $a="__lodash_hash_undefined__";function Pa(e){return this.__data__.set(e,$a),this}function xa(e){return this.__data__.has(e)}function H(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new E;++t<r;)this.add(e[t])}H.prototype.add=H.prototype.push=Pa,H.prototype.has=xa;function Ea(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function rt(e,t){return e.has(t)}var Ia=1,Sa=2;function nt(e,t,r,n,a,i){var o=r&Ia,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var l=i.get(e),p=i.get(t);if(l&&p)return l==t&&p==e;var c=-1,d=!0,h=r&Sa?new H:void 0;for(i.set(e,t),i.set(t,e);++c<s;){var g=e[c],_=t[c];if(n)var b=o?n(_,g,c,t,e,i):n(g,_,c,e,t,i);if(b!==void 0){if(b)continue;d=!1;break}if(h){if(!Ea(t,function(w,O){if(!rt(h,O)&&(g===w||a(g,w,r,n,i)))return h.push(O)})){d=!1;break}}else if(!(g===_||a(g,_,r,n,i))){d=!1;break}}return i.delete(e),i.delete(t),d}function Ca(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}function le(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Fa=1,Ra=2,Da="[object Boolean]",ja="[object Date]",Ma="[object Error]",Ga="[object Map]",Na="[object Number]",La="[object RegExp]",Ba="[object Set]",Ua="[object String]",Ka="[object Symbol]",za="[object ArrayBuffer]",Ha="[object DataView]",at=S?S.prototype:void 0,pe=at?at.valueOf:void 0;function Va(e,t,r,n,a,i,o){switch(r){case Ha:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case za:return!(e.byteLength!=t.byteLength||!i(new tt(e),new tt(t)));case Da:case ja:case Na:return te(+e,+t);case Ma:return e.name==t.name&&e.message==t.message;case La:case Ua:return e==t+"";case Ga:var s=Ca;case Ba:var u=n&Fa;if(s||(s=le),e.size!=t.size&&!u)return!1;var l=o.get(e);if(l)return l==t;n|=Ra,o.set(e,t);var p=nt(s(e),s(t),n,a,i,o);return o.delete(e),p;case Ka:if(pe)return pe.call(e)==pe.call(t)}return!1}var qa=1,Qa=Object.prototype,Wa=Qa.hasOwnProperty;function Ya(e,t,r,n,a,i){var o=r&qa,s=We(e),u=s.length,l=We(t),p=l.length;if(u!=p&&!o)return!1;for(var c=u;c--;){var d=s[c];if(!(o?d in t:Wa.call(t,d)))return!1}var h=i.get(e),g=i.get(t);if(h&&g)return h==t&&g==e;var _=!0;i.set(e,t),i.set(t,e);for(var b=o;++c<u;){d=s[c];var w=e[d],O=t[d];if(n)var Y=o?n(O,w,d,t,e,i):n(w,O,d,e,t,i);if(!(Y===void 0?w===O||a(w,O,r,n,i):Y)){_=!1;break}b||(b=d=="constructor")}if(_&&!b){var v=e.constructor,T=t.constructor;v!=T&&"constructor"in e&&"constructor"in t&&!(typeof v=="function"&&v instanceof v&&typeof T=="function"&&T instanceof T)&&(_=!1)}return i.delete(e),i.delete(t),_}var Xa=1,it="[object Arguments]",ot="[object Array]",Q="[object Object]",Za=Object.prototype,st=Za.hasOwnProperty;function Ja(e,t,r,n,a,i){var o=A(e),s=A(t),u=o?ot:et(e),l=s?ot:et(t);u=u==it?Q:u,l=l==it?Q:l;var p=u==Q,c=l==Q,d=u==l;if(d&&ne(e)){if(!ne(t))return!1;o=!0,p=!1}if(d&&!p)return i||(i=new I),o||Ve(e)?nt(e,t,r,n,a,i):Va(e,t,u,r,n,a,i);if(!(r&Xa)){var h=p&&st.call(e,"__wrapped__"),g=c&&st.call(t,"__wrapped__");if(h||g){var _=h?e.value():e,b=g?t.value():t;return i||(i=new I),a(_,b,r,n,i)}}return d?(i||(i=new I),Ya(e,t,r,n,a,i)):!1}function de(e,t,r,n,a){return e===t?!0:e==null||t==null||!M(e)&&!M(t)?e!==e&&t!==t:Ja(e,t,r,n,de,a)}var ka=1,ei=2;function ti(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var s=r[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){s=r[a];var u=s[0],l=e[u],p=s[1];if(o&&s[2]){if(l===void 0&&!(u in e))return!1}else{var c=new I;if(n)var d=n(l,p,u,e,t,c);if(!(d===void 0?de(p,l,ka|ei,n,c):d))return!1}}return!0}function ut(e){return e===e&&!L(e)}function ri(e){for(var t=ie(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,ut(a)]}return t}function ct(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function ni(e){var t=ri(e);return t.length==1&&t[0][2]?ct(t[0][0],t[0][1]):function(r){return r===e||ti(r,e,t)}}function ai(e,t){return e!=null&&t in Object(e)}function ii(e,t,r){t=ue(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=z(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&re(a)&&ee(o,a)&&(A(e)||Ne(e)))}function oi(e,t){return e!=null&&ii(e,t,ai)}var si=1,ui=2;function ci(e,t){return oe(e)&&ut(t)?ct(z(e),t):function(r){var n=ea(r,e);return n===void 0&&n===t?oi(r,e):de(t,n,si|ui)}}function fi(e){return function(t){return t==null?void 0:t[e]}}function li(e){return function(t){return qe(t,e)}}function pi(e){return oe(e)?fi(z(e)):li(e)}function di(e){return typeof e=="function"?e:e==null?zt:typeof e=="object"?A(e)?ci(e[0],e[1]):ni(e):pi(e)}function hi(e,t,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;){var o=e[a];t(n,o,r(o),e)}return n}function gi(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var u=o[e?s:++a];if(r(i[u],u,i)===!1)break}return t}}var yi=gi();const _i=yi;function vi(e,t){return e&&_i(e,t,ie)}function bi(e,t){return function(r,n){if(r==null)return r;if(!je(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var wi=bi(vi);const Oi=wi;function Ti(e,t,r,n){return Oi(e,function(a,i,o){t(n,a,r(a),o)}),n}function mi(e,t){return function(r,n){var a=A(r)?hi:Ti,i=t?t():{};return a(r,e,di(n),i)}}function Ai(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var $i=Object.prototype,Pi=$i.hasOwnProperty,xi=mi(function(e,t,r){Pi.call(e,r)?e[r].push(t):De(e,r,[t])});const Ei=xi;function Ii(e,t,r,n){if(!L(e))return e;t=ue(t,e);for(var a=-1,i=t.length,o=i-1,s=e;s!=null&&++a<i;){var u=z(t[a]),l=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(a!=o){var p=s[u];l=n?n(p,u,s):void 0,l===void 0&&(l=L(p)?p:ee(t[a+1])?[]:{})}br(s,u,l),s=s[u]}return e}function W(e,t,r){return e==null?e:Ii(e,t,r)}var Si=1/0,Ci=G&&1/le(new G([,-0]))[1]==Si?function(e){return new G(e)}:ur;const Fi=Ci;var Ri=200;function Di(e,t,r){var n=-1,a=hr,i=e.length,o=!0,s=[],u=s;if(r)o=!1,a=Ai;else if(i>=Ri){var l=t?null:Fi(e);if(l)return le(l);o=!1,a=rt,u=new H}else u=t?[]:s;e:for(;++n<i;){var p=e[n],c=t?t(p):p;if(p=r||p!==0?p:0,o&&c===c){for(var d=u.length;d--;)if(u[d]===c)continue e;t&&u.push(c),s.push(p)}else a(u,c,r)||(u!==s&&u.push(c),s.push(p))}return s}function ji(e){return e&&e.length?Di(e):[]}const Mi={uniq:ji,groupBy:Ei};function Gi(e,t){const r=new Function("utils","rows","fields",e??"");function n(a){switch(t){case"udf":if(e!==null)return r(Mi,a.rows,a.fields);break;case"infer":default:return a.inferData()}}return{map:n}}function Ni(e,t,r,n,a){const i=n.db.parse2sqlValueBaseFieldType(a.table,a.field,e),o=X(t,r);n.dataset.addFilter(o,a.table,`${a.field}=${i}`)}function Li(){return function(){let e=null;const t=()=>e;function r(n){e=n}return{setValue:r,value:t}}()}function Bi(e){const t=e.getOption();t.series.forEach((r,n)=>{}),e.setOption(t,!0)}function Ui(e,t){const r=e.getOption();r.series.forEach((n,a)=>{n.data.forEach(i=>{typeof i=="object"&&(i.groupId=t.value)})}),e.setOption(r,!0)}function Ki(e,t){e.series.forEach((r,n)=>{r.dataGroupId=t.value(),r.data.forEach(a=>{typeof a=="object"&&delete a.groupId})})}function zi(e,t,r,n,a,i){let o=null;return e.updateInfos.forEach(s=>{s.actionType===t&&(o=r(s),Ni(o,n,a,i,s))}),o}function Hi(e){return e.updateInfos.some(t=>t.actionType==="click")}function Vi(e,t){Ki(e,t)}function qi(e,t){if(t.valueType==="x"||t.valueType==="y")return e.name;if(t.valueType==="color")return e.seriesName;throw new Error(`bar chart not support value type : ${t.valueType}`)}function Qi(e,t){if(t.valueType==="x"||t.valueType==="y")return e.name;if(t.valueType==="color")return e.seriesName;throw new Error(`line chart not support value type : ${t.valueType}`)}function Wi(e,t){if(t.valueType==="name")return e.name;throw new Error(`pie chart not support value type : ${t.valueType}`)}function Yi(e,t){if(t.valueType==="x")return e.data[0];if(t.valueType==="y")return e.data[1];if(t.valueType==="color")return e.seriesName;throw new Error(`scatter chart not support value type : ${t.valueType}`)}function Xi(e,t){if(t.valueType==="name")return e.name;throw new Error(`scatter chart not support value type : ${t.valueType}`)}function Zi(e,t){if(t.valueType==="name")return e.name;throw new Error(`radar chart not support value type : ${t.valueType}`)}const ft=new Map([["bar",qi],["line",Qi],["pie",Wi],["scatter",Yi],["map",Xi],["radar",Zi]]);function lt(e,t){const r=e.seriesType;if(ft.has(r))return ft.get(r)(e,t);throw new Error(`ParamValueGetter not support chart type:[${r}]`)}function Ji(e,t){if(t.seriesHasData()){const r=t.series.data[0];r.length>0&&(typeof r[0]=="string"&&e.setProps(`xAxis[${t.getXAxisIndex()}].type`,"category"),typeof r[1]=="string"&&e.setProps(`yAxis[${t.getYAxisIndex()}].type`,"category"))}}function ki(e){"xAxis"in e&&!Array.isArray(e.xAxis)&&(e.xAxis=[e.xAxis]),"yAxis"in e&&!Array.isArray(e.yAxis)&&(e.yAxis=[e.yAxis]),e.xAxis,e.yAxis;function t(a,i){W(e,a,i)}function r(a,i,o){t(`series[${a}].${i}`,o)}function n(a){if(a>=e.series.length)return!1;const i=e.series[a];return"data"in i&&i.data.length>0}return{options:e,setProps:t,setSeriesProps:r,seriesHasData:n}}function eo(e){function t(i,o){W(e,i,o)}function r(){return"data"in e&&e.data.length>0}function n(){return"xAxisIndex"in e?e.xAxisIndex:0}function a(){return"yAxisIndex"in e?e.yAxisIndex:0}return{series:e,setProps:t,seriesHasData:r,getXAxisIndex:n,getYAxisIndex:a}}function to(e){for(const t of e.series){if(!("type"in t))continue;const r=ki(e),n=eo(t);switch(t.type){case"line":break;case"bar":break;case"pie":break;case"scatter":Ji(r,n);break}}}function ro(e){return new Function(`f= ${e};return f `)()}function no(e,t,r,n){const a=e.chartInfos[t],i=a.options,o=Li(),s=Hi(a);a.jsCodes.forEach(h=>{const g=ro(h.code);W(i,h.path,g)});function u(){switch(a.datasetInfos.forEach(h=>{const _=n.utils.createSqlQuery(X(e,t),h.sqlInfo.sql).query(),w=Gi(h.sqlInfo.jsMap,h.sqlInfo.type).map(_);W(i,h.path,w)}),r.value){case"forward":Vi(i,o);break}return to(i),i}function l(){a.updateInfos.forEach(h=>{const g=X(e,t);n.dataset.removeFilters(g,h.table)})}function p(h,g){return zi(a,g,b=>lt(h,b),e,t,n)}function c(h){switch(r.value){case"forward":Bi(h);break;case"back":Ui(h,o);break}}function d(h){o.setValue(h)}return{useOptions:u,addFilter:p,removeFilter:l,drillStartPos:c,setDataGroupValue:d,getValueFromParams:lt,hasClickInfo:s}}function ao(e,t){const r=f.ref("none");let n=[];e.optionType==="dict"&&(n=e.chartInfos.map((c,d)=>no(e,d,r,t)));const a=f.ref(0),i=f.computed(()=>a.value>0),o=f.computed(()=>a.value<n.length-1),s=f.computed(()=>n[a.value]);function u(c,d,h){s.value.hasClickInfo&&(r.value="forward",s.value.drillStartPos(c),a.value+=1,s.value.setDataGroupValue(h))}function l(c){r.value="back",s.value.drillStartPos(c),a.value-=1}function p(c,d){const h=c.getOption();h&&(h.series.forEach((g,_)=>{"universalTransition"in g&&"seriesKey"in g.universalTransition&&(g.universalTransition.seriesKey=d),delete g.dataGroupId}),c.setOption(h))}return{curController:s,next:u,canBack:i,canForward:o,back:l,setSeriesKeys:p}}function io(e,t){const r=ao(e,t);function n(){return f.computed(()=>r.curController.value.useOptions())}function a(){r.curController.value.removeFilter()}function i(o,s){return r.curController.value.addFilter(o,s)}return{getData:n,addFilter:i,removeFilter:a,chartController:r}}const oo="sqlAnalyzeKey",so="componentKey",uo="datasetKey",co="dbKey",fo="utilsKey",lo="webResourcesServiceKey",po=["data-tag"],ho={key:0,class:"debug-box"},go={key:0,rows:"25",cols:"50",readonly:""},yo=f.defineComponent({__name:"EChart",props:{model:null},setup(e){const t=e;f.useCssVars(v=>({"06ba90f8":f.unref(g)}));const r=f.inject(uo),n=f.inject(oo),a=f.inject(co),i=f.inject(so),o=f.inject(fo),s=f.inject(lo),u=t.model,l=[];u.chartInfos.forEach(v=>{v==null||v.mapIds.forEach(T=>{const m=s.getResource(T);l.push(m)})});const p=f.computed(()=>l.every(v=>v.value)),c=io(u,{sqlAnalyze:n,dataset:r,db:a,utils:o}),d=c.getData(),h=f.ref(null);u.width;const g=u.height;let _=null;f.onUnmounted(()=>{_==null||_.dispose()}),f.watch([p,h],([v,T])=>{if(!(v&&T)||(_=echarts.init(T,null,{renderer:i.getApp().echartsRenderer}),_===null))return;const m=_;f.watchEffect(()=>{c.chartController.setSeriesKeys(m,d.value.series.map($=>$.id)),m.setOption(d.value,!0)}),m.on("mouseover","series",$=>{c.chartController.curController.value.hasClickInfo||c.addFilter($,"hover")}),m.on("mouseout","series",$=>{c.chartController.curController.value.hasClickInfo||c.removeFilter()});function _o(){c.chartController.curController.value.hasClickInfo&&c.removeFilter()}m.getZr().on("click",function($){$.target||_o()}),m.on("click","series",$=>{if(c.chartController.canForward.value){const vo=c.addFilter($,"click");c.chartController.next(m,$,vo)}else c.addFilter($,"click")}),_t("resize",()=>{m.resize()}),Tt(T,()=>{m.resize()})});function b(){c.chartController.back(_),c.chartController.curController.value.removeFilter()}const w=u.debugTag!==null,O=f.ref(!1);function Y(){O.value=!O.value}return(v,T)=>(f.openBlock(),f.createElementBlock("div",{class:"echart-box pybi-container","data-tag":f.unref(u).tag,"data-pybi-auto-width":""},[f.withDirectives(f.createElementVNode("div",{class:"back",onClick:b},"上一级",512),[[f.vShow,f.unref(c).chartController.canBack.value]]),w?(f.openBlock(),f.createElementBlock("div",ho,[f.createElementVNode("button",{onClick:Y},"options view open"),O.value?(f.openBlock(),f.createElementBlock("textarea",go,f.toDisplayString(f.unref(d)),1)):f.createCommentVNode("",!0)])):f.createCommentVNode("",!0),f.createElementVNode("div",{class:"echart",ref_key:"chartDiv",ref:h},null,512)],8,po))}}),wo="";return[{tag:"EChart",cp:((e,t)=>{const r=e.__vccOpts||e;for(const[n,a]of t)r[n]=a;return r})(yo,[["__scopeId","data-v-cfe5a4f0"]])}]}(Vue);
