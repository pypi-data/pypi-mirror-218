(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8867],{59739:function(e,n,t){"use strict";var r=t(56669);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,n,t,i,o,c){if(c!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function n(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:o,resetWarningCache:i};return t.PropTypes=t,t}},47329:function(e,n,t){e.exports=t(59739)()},56669:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},1210:function(e,n,t){"use strict";t.d(n,{Z:function(){return w}});var r=t(82394),i=t(21831),o=t(82684),c=t(47999),a=t(49894),u=t(93461),s=t(57384),l=t(41424),d=t(72454),f=t(28598);function p(e,n){var t=e.children;return(0,f.jsx)(d.HS,{ref:n,children:t})}var h=o.forwardRef(p),m=t(32063),b=t(85019),g=t(82531),v=t(66166),O=t(3055),x=t(49125),y=t(91427),j=t(24141);function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var w=function(e){var n,t=e.after,r=e.afterHidden,p=e.afterWidth,S=e.afterWidthOverride,w=e.before,_=e.beforeWidth,C=e.breadcrumbs,A=e.children,R=e.errors,E=e.headerMenuItems,N=e.headerOffset,P=e.mainContainerHeader,T=e.navigationItems,k=e.setErrors,D=e.subheaderChildren,I=e.title,M=e.uuid,H=(0,j.i)().width,L="dashboard_after_width_".concat(M),W="dashboard_before_width_".concat(M),z=(0,o.useRef)(null),U=(0,o.useState)(S?p:(0,y.U2)(L,p)),F=U[0],B=U[1],K=(0,o.useState)(!1),X=K[0],Y=K[1],q=(0,o.useState)(w?Math.max((0,y.U2)(W,_),13*x.iI):null),G=q[0],Q=q[1],V=(0,o.useState)(!1),$=V[0],J=V[1],ee=(0,o.useState)(null)[1],ne=g.ZP.projects.list({},{revalidateOnFocus:!1}).data,te=null===ne||void 0===ne?void 0:ne.projects,re=[];C?re.push.apply(re,(0,i.Z)(C)):(null===te||void 0===te?void 0:te.length)>=1&&re.push.apply(re,[{label:function(){var e;return null===(e=te[0])||void 0===e?void 0:e.name},linkProps:{href:"/"}},{bold:!0,label:function(){return I}}]),(0,o.useEffect)((function(){null===z||void 0===z||!z.current||X||$||null===ee||void 0===ee||ee(z.current.getBoundingClientRect().width)}),[X,F,$,G,z,ee,H]),(0,o.useEffect)((function(){X||(0,y.t8)(L,F)}),[r,X,F,L]),(0,o.useEffect)((function(){$||(0,y.t8)(W,G)}),[$,G,W]);var ie=(0,v.Z)(p);return(0,o.useEffect)((function(){S&&ie!==p&&B(p)}),[S,p,ie]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.Z,{title:I}),(0,f.jsx)(l.Z,{breadcrumbs:re,menuItems:E,project:null===te||void 0===te?void 0:te[0],version:null===te||void 0===te||null===(n=te[0])||void 0===n?void 0:n.version}),(0,f.jsxs)(d.Nk,{children:[0!==(null===T||void 0===T?void 0:T.length)&&(0,f.jsx)(d.lm,{showMore:!0,children:(0,f.jsx)(b.Z,{navigationItems:T,showMore:!0})}),(0,f.jsx)(u.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(m.Z,{after:t,afterHeightOffset:O.Mz,afterHidden:r,afterMousedownActive:X,afterWidth:F,before:w,beforeHeightOffset:O.Mz,beforeMousedownActive:$,beforeWidth:d.k1+(w?G:0),headerOffset:N,hideAfterCompletely:!0,leftOffset:w?d.k1:null,mainContainerHeader:P,mainContainerRef:z,setAfterMousedownActive:Y,setAfterWidth:B,setBeforeMousedownActive:J,setBeforeWidth:Q,children:[D&&(0,f.jsx)(h,{children:D}),A]})})]}),R&&(0,f.jsx)(c.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===k||void 0===k?void 0:k(null)},children:(0,f.jsx)(a.Z,Z(Z({},R),{},{onClose:function(){return null===k||void 0===k?void 0:k(null)}}))})]})}},85307:function(e,n,t){"use strict";t.d(n,{$W:function(){return s},cl:function(){return l},cv:function(){return d},dE:function(){return u}});var r=t(38626),i=t(23831),o=t(73942),c=t(49125),a=t(37391),u=r.default.div.withConfig({displayName:"indexstyle__SectionStyle",componentId:"sc-7a1uhf-0"})(["border-radius:","px;padding:","px;",""],o.n_,c.cd*c.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||i.Z.background).popup,";\n  ")})),s=r.default.div.withConfig({displayName:"indexstyle__CodeEditorStyle",componentId:"sc-7a1uhf-1"})(["padding-top:","px;",""],c.cd*c.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||i.Z.background).codeTextarea,";\n  ")})),l=r.default.div.withConfig({displayName:"indexstyle__TableContainerStyle",componentId:"sc-7a1uhf-2"})(["overflow:auto;max-height:90vh;width:100%;"," "," "," "," ",""],a.w5,(function(e){return e.hideHorizontalScrollbar&&"\n    overflow-x: hidden;\n  "}),(function(e){return e.width&&"\n    width: ".concat(e.width,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,";\n  ")}),(function(e){return e.maxHeight&&"\n    max-height: ".concat(e.maxHeight,";\n  ")})),d=r.default.div.withConfig({displayName:"indexstyle__HeaderRowStyle",componentId:"sc-7a1uhf-3"})(["padding:","px;"," "," ",""],2*c.iI,(function(e){return"\n    background-color: ".concat((e.theme||i.Z).interactive.defaultBackground,";\n    border-bottom: ").concat(o.YF,"px ").concat(o.M8," ").concat((e.theme||i.Z).borders.medium,";\n  ")}),(function(e){return e.padding&&"\n    padding: ".concat(e.padding,"px;\n  ")}),(function(e){return e.rounded&&"\n    border-top-left-radius: ".concat(o.n_,"px;\n    border-top-right-radius: ").concat(o.n_,"px;\n  ")}))},65597:function(e,n,t){"use strict";t.d(n,{f:function(){return a}});var r=t(38626),i=t(23831),o=t(49125),c=t(73942),a=r.default.div.withConfig({displayName:"Tablestyle__PopupContainerStyle",componentId:"sc-8ammqd-0"})(["position:absolute;max-height:","px;z-index:10;border-radius:","px;padding:","px;"," "," "," ",""],58*o.iI,c.TR,2*o.iI,(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||i.Z.shadow).popup,";\n    background-color: ").concat((e.theme.interactive||i.Z.interactive).defaultBackground,";\n  ")}),(function(e){return e.leftOffset&&"\n    left: ".concat(e.leftOffset,"px;\n  ")}),(function(e){return e.topOffset&&"\n    top: ".concat(e.topOffset,"px;\n  ")}),(function(e){return e.width&&"\n    width: ".concat(e.width,"px;\n  ")}))},20103:function(e,n,t){"use strict";t.d(n,{L6:function(){return o},HF:function(){return a}});var r,i=t(81132);!function(e){e.MAIN="main",e.STANDALONE="standalone",e.SUB="sub"}(r||(r={}));var o,c=t(10503);function a(e,n,t){var a=e.owner,u=e.roles,s=[{Icon:c.Vz,id:o.WORKSPACES,isSelected:function(){return o.WORKSPACES===t},label:function(){return"Workspaces"},linkProps:{href:"/manage"}}];return(a||u===i.No.ADMIN)&&s.push({Icon:c.NO,id:o.USERS,isSelected:function(){return o.USERS===t},label:function(){return"Users"},linkProps:{href:"/manage/users"}}),n==r.MAIN&&s.push({Icon:c.Zr,id:o.SETTINGS,isSelected:function(){return o.SETTINGS===t},label:function(){return"Settings"},linkProps:{href:"/manage/settings"}}),s}!function(e){e.WORKSPACES="workspaces",e.USERS="users",e.SETTINGS="settings"}(o||(o={}))},3849:function(e,n,t){"use strict";var r=t(82684),i=t(1210),o=t(82531),c=t(49125),a=t(20103),u=t(9736),s=t(28598);n.Z=function(e){var n=e.before,t=e.breadcrumbs,l=void 0===t?[]:t,d=e.children,f=e.errors,p=e.pageName,h=e.subheaderChildren,m=o.ZP.statuses.list().data,b=(0,r.useMemo)((function(){var e,n;return null===m||void 0===m||null===(e=m.statuses)||void 0===e||null===(n=e[0])||void 0===n?void 0:n.project_type}),[m]),g=(0,u.PR)()||{};return(0,s.jsx)(i.Z,{before:n,beforeWidth:n?50*c.iI:0,breadcrumbs:l,errors:f,navigationItems:(0,a.HF)(g,b,p),subheaderChildren:h,title:"Workspaces",uuid:"workspaces/index",children:d})}},86422:function(e,n,t){"use strict";t.d(n,{$W:function(){return h},DA:function(){return p},HX:function(){return g},J8:function(){return b},L8:function(){return c},Lq:function(){return d},M5:function(){return f},Qj:function(){return v},Ut:function(){return j},V4:function(){return y},VZ:function(){return m},dO:function(){return l},f2:function(){return x},iZ:function(){return O},t6:function(){return a},tf:function(){return s}});var r,i,o,c,a,u=t(82394);!function(e){e.CONDITION="condition",e.DBT_SNAPSHOT="snapshot",e.DYNAMIC="dynamic",e.DYNAMIC_CHILD="dynamic_child",e.REDUCE_OUTPUT="reduce_output",e.REPLICA="replica"}(c||(c={})),function(e){e.MARKDOWN="markdown",e.PYTHON="python",e.R="r",e.SQL="sql",e.YAML="yaml"}(a||(a={}));var s,l=(r={},(0,u.Z)(r,a.MARKDOWN,"MD"),(0,u.Z)(r,a.PYTHON,"PY"),(0,u.Z)(r,a.R,"R"),(0,u.Z)(r,a.SQL,"SQL"),(0,u.Z)(r,a.YAML,"YAML"),r);!function(e){e.CALLBACK="callback",e.CHART="chart",e.CONDITIONAL="conditional",e.CUSTOM="custom",e.DATA_EXPORTER="data_exporter",e.DATA_LOADER="data_loader",e.DBT="dbt",e.EXTENSION="extension",e.SCRATCHPAD="scratchpad",e.SENSOR="sensor",e.MARKDOWN="markdown",e.TRANSFORMER="transformer"}(s||(s={}));var d,f=[s.CALLBACK,s.CONDITIONAL,s.EXTENSION];!function(e){e.BLUE="blue",e.GREY="grey",e.PINK="pink",e.PURPLE="purple",e.TEAL="teal",e.YELLOW="yellow"}(d||(d={}));var p,h=[s.CHART,s.CUSTOM,s.DATA_EXPORTER,s.DATA_LOADER,s.SCRATCHPAD,s.SENSOR,s.MARKDOWN,s.TRANSFORMER],m=[s.DATA_EXPORTER,s.DATA_LOADER],b=[s.DATA_EXPORTER,s.DATA_LOADER,s.TRANSFORMER],g=[s.DATA_EXPORTER,s.DATA_LOADER,s.DBT,s.TRANSFORMER],v=[s.CHART,s.SCRATCHPAD,s.SENSOR,s.MARKDOWN],O=[s.CALLBACK,s.CHART,s.EXTENSION,s.SCRATCHPAD,s.MARKDOWN];!function(e){e.EXECUTED="executed",e.FAILED="failed",e.NOT_EXECUTED="not_executed",e.UPDATED="updated"}(p||(p={}));var x=[s.CUSTOM,s.DATA_EXPORTER,s.DATA_LOADER,s.TRANSFORMER],y=(i={},(0,u.Z)(i,s.CALLBACK,"Callback"),(0,u.Z)(i,s.CUSTOM,"Custom"),(0,u.Z)(i,s.DATA_EXPORTER,"Data exporter"),(0,u.Z)(i,s.DATA_LOADER,"Data loader"),(0,u.Z)(i,s.EXTENSION,"Extension"),(0,u.Z)(i,s.SCRATCHPAD,"Scratchpad"),(0,u.Z)(i,s.SENSOR,"Sensor"),(0,u.Z)(i,s.MARKDOWN,"Markdown"),(0,u.Z)(i,s.TRANSFORMER,"Transformer"),i),j=[s.DATA_LOADER,s.TRANSFORMER,s.DATA_EXPORTER,s.SENSOR];o={},(0,u.Z)(o,s.DATA_EXPORTER,"DE"),(0,u.Z)(o,s.DATA_LOADER,"DL"),(0,u.Z)(o,s.SCRATCHPAD,"SP"),(0,u.Z)(o,s.SENSOR,"SR"),(0,u.Z)(o,s.MARKDOWN,"MD"),(0,u.Z)(o,s.TRANSFORMER,"TF")},18776:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(38626),i=t(23831),o=t(73942),c=r.default.div.withConfig({displayName:"indexstyle__PanelStyle",componentId:"sc-1rfr5wd-0"})(["border-radius:","px;"," ",""],o.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||i.Z.background).panel,";\n  ")}),(function(e){return e.fullWidth&&"\n    width: 100%;\n  "})),a=t(28598);var u=function(e){var n=e.children,t=e.fullWidth,r=void 0===t||t;return(0,a.jsx)(c,{fullWidth:r,children:n})}},87372:function(e,n,t){"use strict";var r,i,o,c,a,u,s,l,d=t(82394),f=t(26304),p=t(26653),h=t(38626),m=t(33591),b=t(23831),g=t(2005),v=t(31012),O=t(19711),x=t(49125),y=t(86673),j=t(28598),S=["children","condensed","inline","level","marketing","spacingBelow"];function Z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(t),!0).forEach((function(n){(0,d.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _=(0,h.css)([""," margin:0;"," "," "," "," "," "," "," "," "," "," "," "," ",""],O.IH,(function(e){return e.color&&"\n    color: ".concat(e.color,"\n  ")}),(function(e){return e.yellow&&"\n    color: ".concat((e.theme.accent||b.Z.accent).yellow,";\n  ")}),(function(e){return e.center&&"\n    text-align: center;\n  "}),(function(e){return!e.monospace&&0===Number(e.weightStyle)&&"\n    font-family: ".concat(g.iI,";\n  ")}),(function(e){return!e.monospace&&1===Number(e.weightStyle)&&"\n    font-family: ".concat(g.LX,";\n  ")}),(function(e){return!e.monospace&&2===Number(e.weightStyle)&&"\n    font-family: ".concat(g.LX,";\n  ")}),(function(e){return!e.monospace&&3===Number(e.weightStyle)&&"\n    font-family: ".concat(g.ry,";\n  ")}),(function(e){return!e.monospace&&4===Number(e.weightStyle)&&"\n    font-family: ".concat(g.YC,";\n  ")}),(function(e){return!e.monospace&&5===Number(e.weightStyle)&&"\n    font-family: ".concat(g.nF,";\n  ")}),(function(e){return!e.monospace&&(6===Number(e.weightStyle)||e.bold)&&"\n    font-family: ".concat(g.nF,";\n  ")}),(function(e){return!e.monospace&&7===Number(e.weightStyle)&&"\n    font-family: ".concat(g.nF,";\n  ")}),(function(e){return!e.monospace&&8===Number(e.weightStyle)&&"\n    font-family: ".concat(g.nF,";\n  ")}),(function(e){return e.lineHeightAuto&&"\n    line-height: normal !important;\n  "})),C=h.default.div.withConfig({displayName:"Headline__HeadlineContainerStyle",componentId:"sc-12jzt2e-0"})(["",""],(function(e){return"\n    color: ".concat((e.theme.content||b.Z.content).active,";\n  ")})),A=h.default.h1.withConfig({displayName:"Headline__H1HeroStyle",componentId:"sc-12jzt2e-1"})([""," font-size:42px;line-height:56px;"," "," ",""],_,m.media.md(r||(r=(0,p.Z)(["\n    ","\n  "])),v.aQ),m.media.lg(i||(i=(0,p.Z)(["\n    ","\n  "])),v.aQ),m.media.xl(o||(o=(0,p.Z)(["\n    ","\n  "])),v.aQ)),R=h.default.h1.withConfig({displayName:"Headline__H1Style",componentId:"sc-12jzt2e-2"})([""," ",""],_,v.MJ),E=h.default.h1.withConfig({displayName:"Headline__H1MarketingStyle",componentId:"sc-12jzt2e-3"})([""," "," "," "," "," ",""],_,m.media.xs(c||(c=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*x.iI,7*x.iI),m.media.sm(a||(a=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*x.iI,7*x.iI),m.media.md(u||(u=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*x.iI,7*x.iI),m.media.lg(s||(s=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*x.iI,7*x.iI),m.media.xl(l||(l=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*x.iI,7*x.iI)),N=h.default.h2.withConfig({displayName:"Headline__H2Style",componentId:"sc-12jzt2e-4"})([""," ",""],_,v.BL),P=h.default.h3.withConfig({displayName:"Headline__H3Style",componentId:"sc-12jzt2e-5"})([""," font-size:24px;line-height:32px;"],_),T=h.default.h4.withConfig({displayName:"Headline__H4Style",componentId:"sc-12jzt2e-6"})([""," font-size:20px;line-height:28px;"],_),k=h.default.h5.withConfig({displayName:"Headline__H5Style",componentId:"sc-12jzt2e-7"})([""," font-size:18px;line-height:26px;"],_),D=h.default.span.withConfig({displayName:"Headline__SpanStyle",componentId:"sc-12jzt2e-8"})([""," "," "," "," ",""],_,(function(e){return 1===e.level&&"\n    ".concat(v.MJ,"\n  ")}),(function(e){return 2===e.level&&"\n    ".concat(v.BL,"\n  ")}),(function(e){return 3===e.level&&"\n    font-size: 24px;\n    line-height: 32px;\n  "}),(function(e){return 4===e.level&&"\n    font-size: 20px;\n    line-height: 28px;\n  "})),I=function(e){var n,t=e.children,r=e.condensed,i=e.inline,o=e.level,c=e.marketing,a=e.spacingBelow,u=(0,f.Z)(e,S);i?n=D:0===Number(o)?n=A:1===Number(o)?n=c?E:R:2===Number(o)?n=N:3===Number(o)?n=P:4===Number(o)?n=T:5===Number(o)&&(n=k);var s=(0,j.jsxs)(n,w(w({},u),{},{level:o,children:[a&&(0,j.jsx)(y.Z,{mb:r?2:3,children:t}),!a&&t]}));return i?s:(0,j.jsx)(C,{children:s})};I.defaultProps={level:3,weightStyle:6},n.Z=I},27664:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return G}});var r,i=t(77837),o=t(75582),c=t(38860),a=t.n(c),u=t(82684),s=t(83455),l=t(60328),d=t(47999),f=t(82394),p=t(57722),h=t(67971),m=t(87372),b=t(11135),g=t(18776),v=t(55378),O=t(86673),x=t(19711),y=t(82944),j=t(70902),S=t(82531),Z=["ReadWriteOnce","ReadWriteMany","ReadOnlyMany"],w=[{label:"Workspace name",required:!0,uuid:"name"}],_=[{label:"Service account name",uuid:"service_account_name"},{label:"Storage class name",labelDescription:"Volume claim parameters",uuid:"storage_class_name"},{label:"Storage request size (in GB)",type:"number",uuid:"storage_request_size"}],C=t(86422);!function(e){e.K8S="k8s",e.ECS="ecs",e.CLOUD_RUN="cloud_run",e.EMR="emr"}(r||(r={}));var A=t(73899),R=t(85307),E=t(96510),N=t(90211),P=t(28598);function T(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function k(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?T(Object(t),!0).forEach((function(n){(0,f.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var D=function(e){var n=e.clusterType,t=e.onCancel,i=e.onCreate,c=(0,u.useState)(),a=c[0],l=c[1],d=(0,u.useState)(),T=d[0],D=d[1],I=(0,u.useState)(null),M=I[0],H=I[1],L=(0,s.Db)(S.ZP.workspaces.useCreate(),{onSuccess:function(e){return(0,E.wD)(e,{callback:function(e){e.error_message?l(e.error_message):i()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;l(r),console.log(t,r)}})}}),W=(0,o.Z)(L,2),z=W[0],U=W[1].isLoading,F=(0,u.useMemo)((function(){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(m.Z,{level:5,children:"Kubernetes settings"}),_.map((function(e){var n=e.autoComplete,t=e.disabled,r=e.label,i=e.labelDescription,o=e.required,c=e.type,a=e.uuid;return(0,P.jsxs)(O.Z,{mt:1,children:[i&&(0,P.jsx)(O.Z,{mb:1,children:(0,P.jsx)(x.ZP,{small:!0,children:i})}),(0,P.jsx)(y.Z,{autoComplete:n,disabled:t,label:r,onChange:function(e){H((function(n){return k(k({},n),{},(0,f.Z)({},a,e.target.value))}))},primary:!0,required:o,setContentOnMount:!0,type:c,value:(null===M||void 0===M?void 0:M[a])||""})]},a)})),(0,P.jsx)(O.Z,{mt:1,children:(0,P.jsx)(v.Z,{label:"Access mode",onChange:function(e){e.preventDefault(),H((function(n){return k(k({},n),{},{storage_access_mode:e.target.value})}))},placeholder:"Access mode",value:null===M||void 0===M?void 0:M.storage_access_mode,children:Z.map((function(e){return(0,P.jsx)("option",{value:e,children:e},e)}))})}),(0,P.jsx)(O.Z,{mt:2,children:(0,P.jsxs)(h.Z,{alignItems:"center",children:[(0,P.jsx)(x.ZP,{default:!0,monospace:!0,small:!0,children:"Configure container"}),(0,P.jsx)(O.Z,{ml:1}),(0,P.jsx)(j.Z,{checked:T,onCheck:function(){return D((function(e){return!e}))}})]})}),T&&(0,P.jsx)(O.Z,{mt:1,children:(0,P.jsx)(R.$W,{children:(0,P.jsx)(p.Z,{autoHeight:!0,fontSize:12,language:C.t6.YAML,onChange:function(e){H((function(n){return k(k({},n),{},{container_config:e})}))},tabSize:2,value:null===M||void 0===M?void 0:M.container_config,width:"100%"})})})]})}),[T,M]);return(0,P.jsx)(g.Z,{children:(0,P.jsx)("div",{style:{width:"500px"},children:(0,P.jsxs)(O.Z,{p:2,children:[(0,P.jsx)(h.Z,{justifyContent:"center",children:(0,P.jsx)(m.Z,{level:4,children:"Create new workspace"})}),(0,P.jsxs)("form",{children:[w.map((function(e){var n=e.autoComplete,t=e.disabled,r=e.label,i=e.required,o=e.type,c=e.uuid;return(0,P.jsx)(O.Z,{mt:2,children:(0,P.jsx)(y.Z,{autoComplete:n,disabled:t,label:r,onChange:function(e){H((function(n){return k(k({},n),{},(0,f.Z)({},c,e.target.value))}))},primary:!0,required:i,setContentOnMount:!0,type:o,value:(null===M||void 0===M?void 0:M[c])||""})},c)})),n===r.K8S&&(0,P.jsx)(O.Z,{mt:2,children:F})]}),U&&(0,P.jsx)(O.Z,{mt:1,children:(0,P.jsx)(x.ZP,{small:!0,warning:!0,children:"This may take up to a few minutes... Once the service is created, it may take another 5-10 minutes for the service to be accessible."})}),!U&&a&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(O.Z,{mt:1,children:(0,P.jsx)(x.ZP,{danger:!0,small:!0,children:"Failed to create instance, see error below."})}),(0,P.jsx)(O.Z,{mt:1,children:(0,P.jsx)(x.ZP,{danger:!0,small:!0,children:a})})]}),(0,P.jsx)(O.Z,{my:2,children:(0,P.jsxs)(h.Z,{children:[(0,P.jsx)(b.ZP,{background:A.a$,bold:!0,inline:!0,loading:U,onClick:function(){var e=M||{},t=e.name,r=e.container_config;if(t){var i=k({},M);i.name=function(e){return"ecs"===n?(0,N.We)(e,"_"):(0,N.We)(e,"-")}(t),i.container_config=T&&r,z({workspace:k(k({},i),{},{cluster_type:n})})}else l("Please enter a valid name!")},uuid:"workspaces/create",children:"Create"}),(0,P.jsx)(O.Z,{ml:1}),(0,P.jsx)(b.ZP,{bold:!0,inline:!0,onClick:t,uuid:"workspaces/cancel",children:"Cancel"})]})})]})})})},I=t(62084),M=t(41788),H=t(87815),L=t(3849),W=t(10503),z=t(73942),U=t(99994),F=t(65597),B=t(49125),K=t(20103),X=t(99497);function Y(e){var n=e.fetchWorkspaces,t=e.instance,r=e.clusterType,i=(0,u.useRef)(null),c=(0,u.useState)(),a=c[0],f=c[1],p=(0,u.useState)(),m=p[0],b=p[1],g=t.name,v=(t.task_arn,{cluster_type:r}),y=(0,s.Db)(S.ZP.workspaces.useUpdate(g,v),{onSuccess:function(e){return(0,E.wD)(e,{callback:function(){n(),f(!1)},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),j=(0,o.Z)(y,1)[0],Z=(0,s.Db)(S.ZP.workspaces.useDelete(g,v),{onSuccess:function(e){return(0,E.wD)(e,{callback:function(){n(),f(!1)},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),w=(0,o.Z)(Z,1)[0],_=(0,u.useMemo)((function(){var e=t.status,n=[{label:function(){return(0,P.jsx)(x.ZP,{children:"Delete workspace"})},onClick:function(){return b(!0)},uuid:"delete_workspace"}];return"ecs"===r&&("STOPPED"===e?n.unshift({label:function(){return(0,P.jsx)(x.ZP,{children:"Resume instance"})},onClick:function(){return j({workspace:{action:"resume",cluster_type:r,name:t.name,task_arn:t.task_arn}})},uuid:"resume_instance"}):"RUNNING"===e&&n.unshift({label:function(){return(0,P.jsx)(x.ZP,{children:"Stop instance"})},onClick:function(){return j({workspace:{action:"stop",cluster_type:r,name:t.name,task_arn:t.task_arn}})},uuid:"stop_instance"})),n}),[r,t,j]);return(0,P.jsx)(P.Fragment,{children:["ecs","k8s"].includes(r)&&(0,P.jsxs)("div",{ref:i,style:{position:"relative",zIndex:"1"},children:[(0,P.jsx)(l.Z,{iconOnly:!0,onClick:function(){return f(!a)},children:(0,P.jsx)(W.mH,{size:2*B.iI})}),(0,P.jsx)(d.Z,{disableEscape:!0,onClickOutside:function(){f(!1),b(!1)},open:a,children:m?(0,P.jsxs)(F.f,{leftOffset:30*-B.iI,topOffset:3*-B.iI,width:30*B.iI,children:[(0,P.jsx)(x.ZP,{children:"Are you sure you want to delete"}),(0,P.jsx)(x.ZP,{children:"this instance? You may not be"}),(0,P.jsx)(x.ZP,{children:"able to recover your data."}),(0,P.jsx)(O.Z,{mt:1}),(0,P.jsxs)(h.Z,{children:[(0,P.jsx)(l.Z,{danger:!0,onClick:w,children:"Confirm"}),(0,P.jsx)(O.Z,{ml:1}),(0,P.jsx)(l.Z,{default:!0,onClick:function(){return b(!1)},children:"Cancel"})]})]}):(0,P.jsx)(I.Z,{items:_,left:25*-B.iI,open:a,parentRef:i,topOffset:3*-B.iI,uuid:"workspaces/more_actions",width:25*B.iI})})]})})}function q(){var e=S.ZP.statuses.list().data,n=(0,u.useMemo)((function(){var n,t;return(null===e||void 0===e||null===(n=e.statuses)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.instance_type)||"ecs"}),[e]),t=S.ZP.workspaces.list({cluster_type:n},{refreshInterval:1e4,revalidateOnFocus:!0}),r=t.data,i=t.mutate,c=(0,u.useMemo)((function(){var e;return null===r||void 0===r||null===(e=r.workspaces)||void 0===e?void 0:e.filter((function(e){return e.name}))}),[r]),a=(0,X.dd)((function(){return(0,P.jsx)(D,{clusterType:n,onCancel:f,onCreate:function(){i(),f()}})}),{},[n,i],{background:!0,uuid:"configure_workspace"}),s=(0,o.Z)(a,2),d=s[0],f=s[1];return(0,P.jsx)(L.Z,{breadcrumbs:[{bold:!0,label:function(){return"Workspaces"}}],pageName:K.L6.WORKSPACES,subheaderChildren:(0,P.jsx)(b.ZP,{background:U.eW,beforeElement:(0,P.jsx)(W.mm,{size:2.5*B.iI}),bold:!0,inline:!0,onClick:function(){return d()},uuid:"workspaces/new",children:"Create new workspace"}),children:(0,P.jsx)(H.Z,{columnFlex:[2,4,2,3,1,null],columns:[{uuid:"Status"},{uuid:"Instance Name"},{uuid:"Type"},{uuid:"Public IP address"},{uuid:"Open"},{label:function(){return""},uuid:"Actions"}],rows:null===c||void 0===c?void 0:c.map((function(e){var t=e.instance,r=t.ip,o=t.name,c=t.status,a=t.type,u="http://".concat(r);return"ecs"===n&&(u="http://".concat(r,":6789")),[(0,P.jsx)(l.Z,{borderRadius:z.D7,danger:"STOPPED"===c,default:"PROVISIONING"===c,notClickable:!0,padding:"6px",primary:"RUNNING"===c,warning:"PENDING"===c,children:(0,N.vg)(c)},"status"),(0,P.jsx)(x.ZP,{children:o},"name"),(0,P.jsx)(x.ZP,{children:(0,N.vg)(a)},"type"),(0,P.jsx)(x.ZP,{children:r},"ip"),(0,P.jsx)(l.Z,{disabled:!r,iconOnly:!0,onClick:function(){return window.open(u)},children:(0,P.jsx)(W.M0,{size:2*B.iI})},"open_button"),(0,P.jsx)(Y,{clusterType:n,fetchWorkspaces:i,instance:t},"more_actions")]}))})})}q.getInitialProps=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));var G=(0,M.Z)(q)},13157:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage",function(){return t(27664)}])}},function(e){e.O(0,[844,7607,8789,1424,1005,7815,7722,9774,2888,179],(function(){return n=13157,e(e.s=n);var n}));var n=e.O();_N_E=n}]);