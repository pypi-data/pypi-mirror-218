(function(e){function t(t){for(var i,s,r=t[0],l=t[1],c=t[2],f=0,v=[];f<r.length;f++)s=r[f],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&v.push(n[s][0]),n[s]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);u&&u(t);while(v.length)v.shift()();return a.push.apply(a,c||[]),o()}function o(){for(var e,t=0;t<a.length;t++){for(var o=a[t],i=!0,r=1;r<o.length;r++){var l=o[r];0!==n[l]&&(i=!1)}i&&(a.splice(t--,1),e=s(s.s=o[0]))}return e}var i={},n={conf_editor:0},a=[];function s(t){if(i[t])return i[t].exports;var o=i[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,s),o.l=!0,o.exports}s.m=e,s.c=i,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)s.d(o,i,function(t){return e[t]}.bind(null,i));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/static/webapp/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=l;a.push([2,"chunk-vendors"]),o()})({0:function(e,t){},"07ca":function(e,t,o){"use strict";o("ebde")},"1de6":function(e,t,o){"use strict";o("8749")},2:function(e,t,o){e.exports=o("ea27")},7601:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"outer-form-element"},[o("h2",[e._v("Project Details")]),e.titleOverride?e._e():o("div",[o("label",{staticClass:"form-top-level-label",attrs:{for:"title"}},[e._v("Project title:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.configJson.Title,expression:"configJson.Title"}],attrs:{type:"text",name:"title",size:"50"},domProps:{value:e.configJson.Title},on:{input:function(t){t.target.composing||e.$set(e.configJson,"Title",t.target.value)}}}),o("div",{staticClass:"form-info"},[e._v(" A title for your project ")])]),o("div",{staticClass:"form-label-like-title"},[e._v("Authors:")]),e._l(e.configJson.Authors,(function(t,i){return o("div",{key:"author-"+i,staticClass:"authors"},[o("label",{attrs:{for:"author"}},[e._v("Author "+e._s(i+1)+": ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.configJson.Authors[i],expression:"configJson.Authors[i]"}],attrs:{type:"text",name:"author",size:"30",required:"true"},domProps:{value:e.configJson.Authors[i]},on:{input:function(t){t.target.composing||e.$set(e.configJson.Authors,i,t.target.value)}}}),o("button",{attrs:{type:"button"},on:{click:function(t){return e.removeAuthor(i)}}},[e._v("Remove")])])})),o("button",{attrs:{type:"button"},on:{click:e.addAuthor}},[e._v("Add an author")]),o("label",{staticClass:"form-top-level-label",attrs:{for:"affiliation"}},[e._v("Affiliation:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.configJson.Affiliation,expression:"configJson.Affiliation"}],attrs:{type:"text",name:"affiliation",size:"50"},domProps:{value:e.configJson.Affiliation},on:{input:function(t){t.target.composing||e.$set(e.configJson,"Affiliation",t.target.value)}}}),o("div",{staticClass:"form-info"},[e._v(" The organisation your project is affiliated with. ")]),o("label",{staticClass:"form-top-level-label",attrs:{for:"email"}},[e._v("Project email:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.configJson.Email,expression:"configJson.Email"}],attrs:{type:"text",name:"email",size:"50"},domProps:{value:e.configJson.Email},on:{input:function(t){t.target.composing||e.$set(e.configJson,"Email",t.target.value)}}}),o("div",{staticClass:"form-info"},[e._v(" The email address for people to contact your project. ")]),e.titleOverride?o("div",[o("label",{staticClass:"form-top-level-label",attrs:{for:"title"}},[e._v("Override project title:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.configJson.Title,expression:"configJson.Title"}],attrs:{type:"text",name:"title",size:"50"},domProps:{value:e.configJson.Title},on:{input:function(t){t.target.composing||e.$set(e.configJson,"Title",t.target.value)}}}),o("div",{staticClass:"form-info"},[e._v(" By default your project title is the top level heading on your landing page. This setting can override that title. ")])]):e._e()],2)},n=[],a={name:"ProjectDetails",components:{},data:function(){return{}},props:{configJson:Object,titleOverride:{type:Boolean,default:!0}},mounted:function(){},asyncComputed:{},methods:{addAuthor:function(){this.configJson.Authors.push("")},removeAuthor:function(e){this.configJson.Authors.splice(e,1)}},created:function(){}},s=a,r=o("0c7c"),l=Object(r["a"])(s,i,n,!1,null,"26a7c556",null);t["a"]=l.exports},8749:function(e,t,o){},"9c11":function(e,t,o){},d178:function(e,t,o){},e235:function(e,t,o){"use strict";o("d178")},ea27:function(e,t,o){"use strict";o.r(t);o("cadf"),o("551c"),o("f751"),o("097d");var i=o("2b0e"),n=o("3003"),a=o("28dd"),s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("ConfigEditor")],1)},r=[],l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"cont",attrs:{id:"container"}},[o("div",{attrs:{id:"toolbar"}},[o("div",{attrs:{id:"toolbar-controls"}},[o("button",{attrs:{type:"submit",form:"config-form"}},[e._v("Save")]),o("button",{on:{click:e.exitEditor}},[e._v("Exit editor")]),o("button",{on:{click:e.toggleShowConfig}},[e._v(e._s(e.editorButtonMessage))])]),e._m(0)]),o("div",{attrs:{id:"editor"}},[o("div",{attrs:{id:"form-panel"}},[o("form",{attrs:{id:"config-form"},on:{submit:e.saveChanges}},[e.errors.length?o("div",{attrs:{id:"form-errors"}},[o("b",[e._v("The validator raided the following errors:")]),o("ul",e._l(e.errors,(function(t,i){return o("li",{key:"error-"+i},[e._v(" "+e._s(t)+" ")])})),0),o("b",[e._v("This is likely due to a bug in this form.")])]):e._e(),o("ProjectDetails",{attrs:{configJson:e.configJson}}),o("LicenseInfo",{attrs:{configJson:e.configJson,licenses:e.licenses,pages:e.pages}}),o("div",{staticClass:"outer-form-element"},[o("h2",[e._v("Bill of Materials Configuration")]),o("label",{staticClass:"form-top-level-label",attrs:{for:"page-bom-title"}},[e._v("Title for page BoM:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.configJson.PageBOMTitle,expression:"configJson.PageBOMTitle"}],attrs:{type:"text",name:"page-bom-title",size:"50"},domProps:{value:e.configJson.PageBOMTitle},on:{input:function(t){t.target.composing||e.$set(e.configJson,"PageBOMTitle",t.target.value)}}}),o("div",{staticClass:"form-info"},[e._v(" Title to be displayed for the bill of materials displayed within a page. ")]),o("label",{staticClass:"form-top-level-label",attrs:{for:"default-category"}},[e._v("Default category:")]),o("select",{directives:[{name:"model",rawName:"v-model",value:e.configJson.DefaultCategory,expression:"configJson.DefaultCategory"}],attrs:{name:"default-category"},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.configJson,"DefaultCategory",t.target.multiple?o:o[0])}}},[o("option",{attrs:{value:"part"}},[e._v("Part")]),o("option",{attrs:{value:"tool"}},[e._v("Tool")]),e._l(e.configJson.CustomCategories,(function(t,i){return o("option",{key:"category-"+i,domProps:{value:t._id}},[e._v(" "+e._s(t.DisplayName)+" ")])}))],2),o("div",{staticClass:"form-info"},[e._v(" The default category of when adding items to you bill of materials. ")]),o("div",{staticClass:"form-label-like-title"},[e._v("Custom categories:")]),o("div",{staticClass:"form-info"},[e._v(" Add custom categories for categorising your project's bill of materials. ")]),e._l(e.configJson.CustomCategories,(function(t,i){return o("div",{key:"cat-"+i,staticClass:"custom-categories"},[o("label",{staticClass:"form-top-level-label",attrs:{for:"category-label"}},[e._v("Category label: ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.configJson.CustomCategories[i]._id,expression:"configJson.CustomCategories[i]._id"}],attrs:{type:"text",name:"category-label",size:"30",required:"true"},domProps:{value:e.configJson.CustomCategories[i]._id},on:{input:function(t){t.target.composing||e.$set(e.configJson.CustomCategories[i],"_id",t.target.value)}}}),o("div",{staticClass:"form-info"},[e._v(" The category code used when creating a part link. Ideally this should be short and not contain spaces or special characters. ")]),o("label",{staticClass:"form-top-level-label",attrs:{for:"category-display"}},[e._v("Category display name: ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.configJson.CustomCategories[i].DisplayName,expression:"configJson.CustomCategories[i].DisplayName"}],attrs:{type:"text",name:"category-display",size:"30",required:"true"},domProps:{value:e.configJson.CustomCategories[i].DisplayName},on:{input:function(t){t.target.composing||e.$set(e.configJson.CustomCategories[i],"DisplayName",t.target.value)}}}),o("div",{staticClass:"form-info"},[e._v(" Title for the category in your bill of materials. ")]),o("label",{staticClass:"form-top-level-label",attrs:{for:"category-reuse"}},[e._v("Reuse items? ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.configJson.CustomCategories[i].Reuse,expression:"configJson.CustomCategories[i].Reuse"}],attrs:{type:"checkbox",name:"category-reuse",checked:"false"},domProps:{checked:Array.isArray(e.configJson.CustomCategories[i].Reuse)?e._i(e.configJson.CustomCategories[i].Reuse,null)>-1:e.configJson.CustomCategories[i].Reuse},on:{change:function(t){var o=e.configJson.CustomCategories[i].Reuse,n=t.target,a=!!n.checked;if(Array.isArray(o)){var s=null,r=e._i(o,s);n.checked?r<0&&e.$set(e.configJson.CustomCategories[i],"Reuse",o.concat([s])):r>-1&&e.$set(e.configJson.CustomCategories[i],"Reuse",o.slice(0,r).concat(o.slice(r+1)))}else e.$set(e.configJson.CustomCategories[i],"Reuse",a)}}}),o("div",{staticClass:"form-info"},[e._v(" Set whether items can be reused. For example, this should be set to true for tools, because if you use a screwdriver twice, you only need one screwdriver. ")]),o("button",{staticClass:"block-button",attrs:{type:"button"},on:{click:function(t){return e.removeCategory(i)}}},[e._v(" Remove category ")])])})),o("button",{attrs:{type:"button"},on:{click:e.addCategory}},[e._v("Add a category")])],2),o("div",{staticClass:"outer-form-element"},[o("h2",[e._v("Output Customisation")]),o("label",{staticClass:"form-top-level-label",attrs:{for:"landing-page"}},[e._v("Set landing page:")]),o("select",{directives:[{name:"model",rawName:"v-model",value:e.configJson.LandingPage,expression:"configJson.LandingPage"}],staticClass:"form-select",attrs:{name:"landing-page"},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.configJson,"LandingPage",t.target.multiple?o:o[0])}}},[o("option",{attrs:{selected:"true"}}),e._l(e.pages,(function(t,i){return o("option",{key:"landing-page-"+i,domProps:{value:t}},[e._v(e._s(t))])}))],2),o("div",{staticClass:"form-info"},[e._v(" By default the landing page of your documentation is a file named "),o("tt",[e._v("index.md")]),e._v(". This option to make another page the landing page. This may cause some problems if a page is called "),o("tt",[e._v("index.md")]),e._v(". ")],1),o("div",{staticClass:"form-label-like-title"},[e._v("Navigation:")]),o("div",{staticClass:"form-info"},[e._v(" If set this will override the auto-generated navigation ")]),e._l(e.configJson.Navigation,(function(t,i){return o("div",{key:"navitem-"+i,staticClass:"navigation-config"},[o("label",{staticClass:"form-top-level-label",attrs:{for:"nav-link"}},[e._v("Navigation Item Link: ")]),o("select",{directives:[{name:"model",rawName:"v-model",value:e.configJson.Navigation[i].Link,expression:"configJson.Navigation[i].Link"}],staticClass:"form-select",attrs:{name:"nav-link",required:"True"},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.configJson.Navigation[i],"Link",t.target.multiple?o:o[0])}}},e._l(e.pages,(function(t,n){return o("option",{key:i+"nav-page-"+n,domProps:{value:t}},[e._v(e._s(t))])})),0),o("label",{staticClass:"form-top-level-label",attrs:{for:"nav-title"}},[e._v("Navigation Item Title: ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.configJson.Navigation[i].Title,expression:"configJson.Navigation[i].Title"}],attrs:{type:"text",name:"nav-title",size:"30",required:"true"},domProps:{value:e.configJson.Navigation[i].Title},on:{input:function(t){t.target.composing||e.$set(e.configJson.Navigation[i],"Title",t.target.value)}}}),e._l(e.configJson.Navigation[i].SubNavigation,(function(t,n){return o("div",{key:"nav-"+i+"-sub-"+n,staticClass:"sub-nav-config"},[o("label",{staticClass:"form-top-level-label",attrs:{for:"sub-nav-link"}},[e._v("Sub-navigation Item Link: ")]),o("select",{directives:[{name:"model",rawName:"v-model",value:e.configJson.Navigation[i].SubNavigation[n].Link,expression:"configJson.Navigation[i].SubNavigation[j].Link"}],staticClass:"form-select",attrs:{name:"sub-nav-link",required:"True"},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.configJson.Navigation[i].SubNavigation[n],"Link",t.target.multiple?o:o[0])}}},e._l(e.pages,(function(t,a){return o("option",{key:"nav-"+i+"-sub-"+n+"-page-"+a,domProps:{value:t}},[e._v(e._s(t))])})),0),o("label",{staticClass:"form-top-level-label",attrs:{for:"sub-nav-title"}},[e._v("Sub-navigation Item Title: ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.configJson.Navigation[i].SubNavigation[n].Title,expression:"configJson.Navigation[i].SubNavigation[j].Title"}],attrs:{type:"text",name:"sub-nav-title",size:"30",required:"true"},domProps:{value:e.configJson.Navigation[i].SubNavigation[n].Title},on:{input:function(t){t.target.composing||e.$set(e.configJson.Navigation[i].SubNavigation[n],"Title",t.target.value)}}}),o("button",{staticClass:"block-button",attrs:{type:"button"},on:{click:function(t){return e.removeSubNavItem(i,n)}}},[e._v(" Remove this sub-navigation item ")])])})),o("button",{staticClass:"block-button",attrs:{type:"button"},on:{click:function(t){return e.addSubNavItem(i)}}},[e._v(" Add sub-navigation item ")]),o("button",{staticClass:"block-button",attrs:{type:"button"},on:{click:function(t){return e.removeNavItem(i)}}},[e._v(" Remove this navigation item ")])],2)})),o("button",{attrs:{type:"button"},on:{click:e.addNavItem}},[e._v(" Add navigation item ")]),o("label",{staticClass:"form-top-level-label",attrs:{for:"autocomplete-subnav"}},[e._v(" Autocomplete Sub-Navigation?: ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.configJson.AutoCompleteSubNav,expression:"configJson.AutoCompleteSubNav"}],attrs:{type:"checkbox",checked:"True",name:"autocomplete-subnav"},domProps:{checked:Array.isArray(e.configJson.AutoCompleteSubNav)?e._i(e.configJson.AutoCompleteSubNav,null)>-1:e.configJson.AutoCompleteSubNav},on:{change:function(t){var o=e.configJson.AutoCompleteSubNav,i=t.target,n=!!i.checked;if(Array.isArray(o)){var a=null,s=e._i(o,a);i.checked?s<0&&e.$set(e.configJson,"AutoCompleteSubNav",o.concat([a])):s>-1&&e.$set(e.configJson,"AutoCompleteSubNav",o.slice(0,s).concat(o.slice(s+1)))}else e.$set(e.configJson,"AutoCompleteSubNav",n)}}}),o("div",{staticClass:"form-info"},[e._v(" If selected any pages set in the custom navigation with have their sub-navigation automatically generated. ")]),o("label",{staticClass:"form-top-level-label",attrs:{for:"bottom-nav"}},[e._v(" Remove bottom navigation: ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.configJson.RemoveBottomNav,expression:"configJson.RemoveBottomNav"}],attrs:{type:"checkbox",name:"bottom-nav"},domProps:{checked:Array.isArray(e.configJson.RemoveBottomNav)?e._i(e.configJson.RemoveBottomNav,null)>-1:e.configJson.RemoveBottomNav},on:{change:function(t){var o=e.configJson.RemoveBottomNav,i=t.target,n=!!i.checked;if(Array.isArray(o)){var a=null,s=e._i(o,a);i.checked?s<0&&e.$set(e.configJson,"RemoveBottomNav",o.concat([a])):s>-1&&e.$set(e.configJson,"RemoveBottomNav",o.slice(0,s).concat(o.slice(s+1)))}else e.$set(e.configJson,"RemoveBottomNav",n)}}}),o("div",{staticClass:"form-info"},[e._v(" Check to remove the Previous and Next links at the bottom of pages. ")])],2),o("div",{staticClass:"outer-form-element"},[o("h2",[e._v("Data Settings")]),o("div",{staticClass:"form-label-like-title"},[e._v("External directories:")]),o("div",{staticClass:"form-info"},[e._v(" Allow files to be linked to in specific external directories ")]),e._l(e.configJson.ExternalDirs,(function(t,i){return o("div",{key:"extdir-"+i,staticClass:"external-dirs"},[o("label",{staticClass:"form-top-level-label",attrs:{for:"external-directory"}},[e._v("External Directory Path: ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.configJson.ExternalDirs[i]._value,expression:"configJson.ExternalDirs[i]._value"}],attrs:{type:"text",name:"external-directory",size:"30",required:"true"},domProps:{value:e.configJson.ExternalDirs[i]._value},on:{input:function(t){t.target.composing||e.$set(e.configJson.ExternalDirs[i],"_value",t.target.value)}}}),o("div",{staticClass:"form-info"},[e._v(" The relative path to an external directory ")]),o("label",{staticClass:"form-top-level-label",attrs:{for:"doc-dir"}},[e._v("Documentation path: ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.configJson.ExternalDirs[i]._id,expression:"configJson.ExternalDirs[i]._id"}],attrs:{type:"text",name:"doc-dir",size:"30",required:"true"},domProps:{value:e.configJson.ExternalDirs[i]._id},on:{input:function(t){t.target.composing||e.$set(e.configJson.ExternalDirs[i],"_id",t.target.value)}}}),o("div",{staticClass:"form-info"},[e._v(" The path to use in the output documentation. ")]),o("button",{staticClass:"block-button",attrs:{type:"button"},on:{click:function(t){return e.removeExtDir(i)}}},[e._v(" Remove directory ")])])})),o("button",{attrs:{type:"button"},on:{click:e.addExtDir}},[e._v(" Add external directory ")]),o("div",{staticClass:"form-label-like-title"},[e._v("Excluded files:")]),o("div",{staticClass:"form-info"},[e._v(" List any files that GitBuilding should ignore in the documentation directory. Groups of files can be ignored using gitignore syntax. ")]),e._l(e.configJson.Exclude,(function(t,i){return o("div",{key:"exclusionRule-"+i,staticClass:"exclude"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.configJson.Exclude[i],expression:"configJson.Exclude[i]"}],attrs:{type:"text",name:"exclude",size:"30",required:"true"},domProps:{value:e.configJson.Exclude[i]},on:{input:function(t){t.target.composing||e.$set(e.configJson.Exclude,i,t.target.value)}}}),o("button",{attrs:{type:"button"},on:{click:function(t){return e.removeExclusion(i)}}},[e._v(" Remove ")])])})),o("button",{attrs:{type:"button"},on:{click:e.addExclusion}},[e._v(" Add exclusion rule ")]),o("div",{staticClass:"form-label-like-title"},[e._v("Force Output:")]),o("div",{staticClass:"form-info"},[e._v(" List any files that should always be in the output documentation even if they are not linked to within the documentation. Groups of files can be added with Glob patterns. ")]),e._l(e.configJson.ForceOutput,(function(t,i){return o("div",{key:"forcedOutput-"+i,staticClass:"force-output"},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.configJson.ForceOutput[i],expression:"configJson.ForceOutput[i]"}],attrs:{type:"text",name:"force-output",size:"30",required:"true"},domProps:{value:e.configJson.ForceOutput[i]},on:{input:function(t){t.target.composing||e.$set(e.configJson.ForceOutput,i,t.target.value)}}}),o("button",{attrs:{type:"button"},on:{click:function(t){return e.removeForcedOutput(i)}}},[e._v(" Remove ")])])})),o("button",{attrs:{type:"button"},on:{click:e.addForcedOutput}},[e._v(" Add forced output ")])],2),o("div",{staticClass:"outer-form-element"},[o("h2",[e._v("Editor Settings")]),o("label",{staticClass:"form-top-level-label",attrs:{for:"fussy"}},[e._v(" Enable Fussy Warnings: ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.configJson.Fussy,expression:"configJson.Fussy"}],attrs:{type:"checkbox",name:"fussy",checked:"True"},domProps:{checked:Array.isArray(e.configJson.Fussy)?e._i(e.configJson.Fussy,null)>-1:e.configJson.Fussy},on:{change:function(t){var o=e.configJson.Fussy,i=t.target,n=!!i.checked;if(Array.isArray(o)){var a=null,s=e._i(o,a);i.checked?s<0&&e.$set(e.configJson,"Fussy",o.concat([a])):s>-1&&e.$set(e.configJson,"Fussy",o.slice(0,s).concat(o.slice(s+1)))}else e.$set(e.configJson,"Fussy",n)}}}),o("div",{staticClass:"form-info"},[e._v(" When enabled GitBuilding will warn about possible problems with the documentation ")])])],1)]),e.showConfig?o("div",{attrs:{id:"data-panel"}},[o("div",{attrs:{id:"data-title"}},[e._v(" buildconf.yaml ")]),o("div",{attrs:{id:"data-body"}},[o("pre",[e._v(e._s(e.configYaml))])])]):e._e()]),o("div",{style:{visibility:e.saveMessageVisible},attrs:{id:"saving-background"}},[o("div",{attrs:{id:"saving-message"}},[e._v(" Please wait while project rebuilds "),o("vue-simple-spinner",{attrs:{size:"medium"}})],1)])])},c=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"editor-title"}},[o("h3",[e._v("GitBuilding Config Editor")])])}],u=(o("a481"),o("7618")),f=(o("456d"),o("ac4d"),o("8a81"),o("ac6a"),o("7601")),v=o("fcc2"),d=(o("9c11"),o("e2c1")),g={name:"ConfigEditor",components:{ProjectDetails:f["a"],LicenseInfo:v["a"]},data:function(){return{saving:!1,configJson:{},savedConfig:"",licenses:{},pages:[],errors:[],showConfig:!1}},mounted:function(){window.addEventListener("beforeunload",this.checkSave)},asyncComputed:{saveMessageVisible:function(){return this.saving?"visible":"hidden"},editorButtonMessage:function(){return this.showConfig?"Hide config file":"Show config file"},configYaml:function(){return this.asYaml(this.configJson)}},methods:{updateFromServer:function(){this.$http.get("raw").then((function(e){var t=this.ensureListPropertiesExits(this.listifyPatternProperties(e.body.config,["CustomCategories","ExternalDirs"]),["Authors","Exclude","ForceOutput","CustomCategories","ExternalDirs","Navigation"]),o=!0,i=!1,n=void 0;try{for(var a,s=t.Navigation[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var r=a.value;"SubNavigation"in r||(r.SubNavigation=[])}}catch(l){i=!0,n=l}finally{try{o||null==s.return||s.return()}finally{if(i)throw n}}this.configJson=t,this.savedConfig=this.asYaml(this.configJson),this.pages=e.body.pages,this.licenses=e.body.licenses}))},asYaml:function(e){var t=this.removeEmptyProperties(this.objectifyPatternProperties(e,["CustomCategories","ExternalDirs"]));if("Navigation"in t){var o=!0,i=!1,n=void 0;try{for(var a,s=t.Navigation[Symbol.iterator]();!(o=(a=s.next()).done);o=!0){var r=a.value;Array.isArray(r.SubNavigation)&&0==r.SubNavigation.length&&delete r.SubNavigation}}catch(l){i=!0,n=l}finally{try{o||null==s.return||s.return()}finally{if(i)throw n}}}return d.dump(t)},toggleShowConfig:function(){this.showConfig=!this.showConfig},ensureListPropertiesExits:function(e,t){var o=JSON.parse(JSON.stringify(e)),i=!0,n=!1,a=void 0;try{for(var s,r=t[Symbol.iterator]();!(i=(s=r.next()).done);i=!0){var l=s.value;l in e||(o[l]=[])}}catch(c){n=!0,a=c}finally{try{i||null==r.return||r.return()}finally{if(n)throw a}}return o},listifyPatternProperties:function(e,t){var o=JSON.parse(JSON.stringify(e)),i=!0,n=!1,a=void 0;try{for(var s,r=t[Symbol.iterator]();!(i=(s=r.next()).done);i=!0){var l=s.value;if(l in e){for(var c=[],f=0,v=Object.keys(e[l]);f<v.length;f++){var d=v[f],g={_id:d};if("object"===Object(u["a"])(e[l][d]))for(var m=0,p=Object.keys(e[l][d]);m<p.length;m++){var h=p[m];g[h]=e[l][d][h]}else g._value=e[l][d];c.push(g)}o[l]=c}}}catch(b){n=!0,a=b}finally{try{i||null==r.return||r.return()}finally{if(n)throw a}}return o},objectifyPatternProperties:function(e,t){var o=JSON.parse(JSON.stringify(e)),i=!0,n=!1,a=void 0;try{for(var s,r=t[Symbol.iterator]();!(i=(s=r.next()).done);i=!0){var l=s.value;if(l in o){var c={},u=!0,f=!1,v=void 0;try{for(var d,g=o[l][Symbol.iterator]();!(u=(d=g.next()).done);u=!0){var m=d.value,p=m._id;if(delete m._id,"_value"in m)c[p]=m._value;else{c[p]={};for(var h=0,b=Object.keys(m);h<b.length;h++){var y=b[h];c[p][y]=m[y]}}}}catch(_){f=!0,v=_}finally{try{u||null==g.return||g.return()}finally{if(f)throw v}}o[l]=c}}}catch(_){n=!0,a=_}finally{try{i||null==r.return||r.return()}finally{if(n)throw a}}return o},removeEmptyProperties:function(e){for(var t=JSON.parse(JSON.stringify(e)),o=0,i=Object.keys(e);o<i.length;o++){var n=i[o];""===e[n]?delete t[n]:Array.isArray(e[n])&&0==e[n].length?delete t[n]:"object"===Object(u["a"])(e[n])&&0==Object.keys(e[n]).length&&delete t[n]}return t},addCategory:function(){this.configJson.CustomCategories.push({_id:"",Reuse:!1})},removeCategory:function(e){this.configJson.CustomCategories.splice(e,1)},addNavItem:function(){this.configJson.Navigation.push({Link:"",Title:"",SubNavigation:[]})},removeNavItem:function(e){this.configJson.Navigation.splice(e,1)},addSubNavItem:function(e){this.configJson.Navigation[e].SubNavigation.push({Link:"",Title:""})},removeSubNavItem:function(e,t){this.configJson.Navigation[e].SubNavigation.splice(t,1)},addExtDir:function(){this.configJson.ExternalDirs.push({_id:"",_value:""})},removeExtDir:function(e){this.configJson.ExternalDirs.splice(e,1)},addExclusion:function(){this.configJson.Exclude.push("")},removeExclusion:function(e){this.configJson.Exclude.splice(e,1)},addForcedOutput:function(){this.configJson.ForceOutput.push("")},removeForcedOutput:function(e){this.configJson.ForceOutput.splice(e,1)},saveChanges:function(e){var t=this;e.preventDefault(),this.saving=!0,this.$http.post("save",{config:this.asYaml(this.configJson)}).then((function(e){t.saving=!1,e.body.saved?(t.savedConfig=t.asYaml(t.configJson),t.saving=!1):(t.errors=e.body.warnings,t.saving=!1,t.$fire({type:"error",text:"More details provided at top of page.",title:"Error",heightAuto:!1}))})).catch((function(e){t.saving=!1,console.error(e),t.errors=["Can't save due to unknown error"],t.$fire({type:"error",text:"More details provided at top of page.",title:"Error",heightAuto:!1})}))},checkSave:function(e){this.savedConfig!=this.asYaml(this.configJson)&&(e.returnValue="Are you sure you want to leave?")},exitEditor:function(){window.location.href=window.location.href.replace(/\/-\/conf-editor\//,"")}},created:function(){this.updateFromServer()}},m=g,p=(o("07ca"),o("0c7c")),h=Object(p["a"])(m,l,c,!1,null,"53cc3632",null),b=h.exports,y={name:"ConfigApp",components:{ConfigEditor:b}},_=y,C=(o("1de6"),Object(p["a"])(_,s,r,!1,null,null,null)),J=C.exports,x=o("bc3a"),N=o.n(x),k=o("683f"),w=o("5b7e"),A=o.n(w);i["a"].config.productionTip=!1,i["a"].use(n["a"]),i["a"].use(a["a"]),i["a"].prototype.$axios=N.a,i["a"].use(k["a"]),i["a"].component("vue-simple-spinner",A.a),new i["a"]({render:function(e){return e(J)}}).$mount("#app")},ebde:function(e,t,o){},fcc2:function(e,t,o){"use strict";var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"outer-form-element"},[o("h2",[e._v("License Information")]),o("label",{staticClass:"form-top-level-label",attrs:{for:"license-id"}},[e._v("Project license:")]),o("select",{directives:[{name:"model",rawName:"v-model",value:e.licenseId,expression:"licenseId"}],attrs:{name:"license-id"},on:{change:[function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.licenseId=t.target.multiple?o:o[0]},e.licenseChanged]}},[o("option",{attrs:{value:""}},[e._v("No license - Not recommended!")]),e._l(e.licenseGroups,(function(t,i){return o("optgroup",{key:"licenseGroup-"+i,attrs:{label:t}},e._l(e.licenses[t],(function(t,i){return o("option",{key:"license-"+i,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])})),0)})),e._m(0)],2),o("div",{staticClass:"form-info"},[e._v(" The license for your project and its documentation. ")]),e.customLicense?o("div",[o("label",{staticClass:"form-top-level-label",attrs:{for:"license"}},[e._v(" License name: ")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.configJson.License,expression:"configJson.License"}],attrs:{type:"text",name:"license",size:"30",required:"True"},domProps:{value:e.configJson.License},on:{input:function(t){t.target.composing||e.$set(e.configJson,"License",t.target.value)}}})]):e._e(),e.licenseId&&e.showFileSelector?o("div",[o("label",{staticClass:"form-top-level-label",attrs:{for:"license-file"}},[e._v("License file:")]),o("select",{directives:[{name:"model",rawName:"v-model",value:e.configJson.LicenseFile,expression:"configJson.LicenseFile"}],staticClass:"form-select",attrs:{name:"license-file"},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.configJson,"LicenseFile",t.target.multiple?o:o[0])}}},[o("option",{attrs:{selected:"true"}}),e._l(e.pages,(function(t,i){return o("option",{key:"license-page-"+i,domProps:{value:t}},[e._v(e._s(t))])}))],2),o("div",{class:e.licenseFileInfoClass,attrs:{id:"license-file-info"}},[e._v(" "+e._s(e.licenseFileInfoText)+" ")]),o("div",{staticClass:"form-info"},[e._v(" The file containing your licence text. ")])]):e._e()])},n=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("optgroup",{attrs:{label:"Custom"}},[o("option",{attrs:{value:"custom"}},[e._v("Unlisted or custom license")])])}],a=(o("8615"),o("ac6a"),o("456d"),o("20d6"),{name:"LicenseInfo",components:{},data:function(){return{licenseId:"",licenseGroups:{},allLicenses:[]}},props:{configJson:Object,licenses:Object,pages:Array,showFileSelector:{type:Boolean,default:!0}},mounted:function(){},watch:{licenses:function(){this.setData()}},asyncComputed:{customLicense:function(){return"custom"===this.licenseId},licenseFileInfoText:function(){return this.licenseId?"custom"===this.licenseId?this.configJson.LicenseFile?"":"Custom license specified but no license file set":this.configJson.LicenseFile?"Auto-generated licence file overridden":"Licence file auto-generated":this.configJson.LicenseFile?"License file set with no license specified":""},licenseFileInfoClass:function(){return this.licenseId&&"custom"===this.licenseId?this.configJson.LicenseFile?"license-ok":"license-problem":this.configJson.LicenseFile?"license-problem":"license-ok"}},methods:{licenseChanged:function(){"custom"===this.licenseId?this.configJson.License="":this.configJson.License=this.licenseId},checkLicense:function(e){return-1!=this.allLicenses.findIndex((function(t){return t===e}))},setData:function(){this.licenseGroups=Object.keys(this.licenses);for(var e=[],t=0,o=Object.values(this.licenses);t<o.length;t++){var i=o[t];e=e.concat(i)}this.allLicenses=e,this.checkLicense(this.configJson.License)&&(this.licenseId=this.configJson.License)}},created:function(){this.setData()}}),s=a,r=(o("e235"),o("0c7c")),l=Object(r["a"])(s,i,n,!1,null,"4492f975",null);t["a"]=l.exports}});
//# sourceMappingURL=conf_editor.1d6b3491.js.map