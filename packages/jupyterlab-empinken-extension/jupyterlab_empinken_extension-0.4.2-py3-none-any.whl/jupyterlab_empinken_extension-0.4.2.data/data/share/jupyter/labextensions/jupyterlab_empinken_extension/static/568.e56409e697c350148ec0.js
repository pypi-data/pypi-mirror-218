"use strict";(self.webpackChunkjupyterlab_empinken_extension=self.webpackChunkjupyterlab_empinken_extension||[]).push([[568],{568:(e,t,o)=>{o.r(t),o.d(t,{default:()=>c});var n=o(56),a=o(919);const s=["activity","learner","solution","tutor"];let l=s;const i={id:"jupyterlab_empinken_extension:plugin",description:"A JupyterLab extension adding a button to the Notebook toolbar.",requires:[a.INotebookTracker,n.ISettingRegistry],autoStart:!0,activate:(e,t,o)=>{const{commands:n}=e;console.log("Activating empinken");let a="";Promise.all([o.load(i.id)]).then((([e])=>{const o=document.documentElement,i=()=>{a=e.get("use_tagprefix").composite&&e.get("tagprefix")?e.get("tagprefix").composite.toString():"",l=[];for(const e of s){const t=a+e;l.push(t)}for(let t of s){const n=e.get(t+"_color").composite;e.get(t+"_render").composite?o.style.setProperty("--iou-"+t+"-bg-color",n):o.style.setProperty("--iou-"+t+"-bg-color","var(--jp-cell-editor-background)")}};i(),e.changed.connect(i),s.forEach((o=>{var i;e.get(o+"_button").composite&&n.addCommand("ouseful-empinken:"+o,{label:o.charAt(0).toUpperCase(),caption:`Execute empinken ${i=o} Command`,execute:()=>{var o;let n=t.activeCell;const c="iou-"+i+"-node";if(null!==n){let t=null!==(o=n.model.getMetadata("tags"))&&void 0!==o?o:[],d=a+i;if(t.includes(d)){const e=t.indexOf(d,0);e>-1&&t.splice(e,1),n.model.setMetadata("tags",t),n.node.classList.remove(c)}else r=l,t=t.filter((e=>!r.includes(e))),s.forEach((e=>{n.node.classList.remove("iou-"+e+"-node")})),t.push(d),n.model.setMetadata("tags",t),e.get(i+"_render").composite&&n.node.classList.add(c)}var r}})}))})),e.shell.currentChanged.connect((()=>{const t=e.shell.currentWidget;t&&t.revealed.then((()=>{var e;null===(e=t.content.widgets)||void 0===e||e.forEach((e=>{var t;const o=null!==(t=e.model.getMetadata("tags"))&&void 0!==t?t:[];console.log("cell metadata",o),o.forEach((t=>{var o;if(l.includes(t)){const n=t.replace(new RegExp(a,"g"),"");null===(o=e.node)||void 0===o||o.classList.add("iou-"+n+"-node")}}))}))}))}))}},c=i}}]);