"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[67432,4631],{26410:function(e,n,t){t.d(n,{Bt:function(){return a},T8:function(){return s}});var i=t(22075),r=t(66477),o=(t(10520),["sunday","monday","tuesday","wednesday","thursday","friday","saturday"]),a=function(e){return e.first_weekday===r.FS.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(e.language).weekInfo.firstDay%7:(0,i.L)(e.language)%7:o.includes(e.first_weekday)?o.indexOf(e.first_weekday):1},s=function(e){var n=a(e);return o[n]}},80596:function(e,n,t){t.d(n,{G:function(){return u}});var i=t(14516),r=(t(10520),t(24112)),o=t(59401),a=t(35040),s=t(26410);var c={second:45,minute:45,hour:22,day:5,week:4,month:11},l=(0,i.Z)((function(e){return new Intl.RelativeTimeFormat(e.language,{numeric:"auto"})})),u=function(e,n,t){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],u=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),t=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=Object.assign(Object.assign({},c),i||{}),u=(+e-+n)/1e3;if(Math.abs(u)<l.second)return{value:Math.round(u),unit:"second"};var d=u/60;if(Math.abs(d)<l.minute)return{value:Math.round(d),unit:"minute"};var p=u/3600;if(Math.abs(p)<l.hour)return{value:Math.round(p),unit:"hour"};var f=new Date(e),m=new Date(n);f.setHours(0,0,0,0),m.setHours(0,0,0,0);var h=(0,r.Z)(f,m);if(0===h)return{value:Math.round(p),unit:"hour"};if(Math.abs(h)<l.day)return{value:h,unit:"day"};var v=(0,s.Bt)(t),g=(0,o.Z)(f,{weekStartsOn:v}),y=(0,o.Z)(m,{weekStartsOn:v}),w=(0,a.Z)(g,y);if(0===w)return{value:h,unit:"day"};if(Math.abs(w)<l.week)return{value:w,unit:"week"};var _=f.getFullYear()-m.getFullYear(),k=12*_+f.getMonth()-m.getMonth();return 0===k?{value:w,unit:"week"}:Math.abs(k)<l.month||0===_?{value:k,unit:"month"}:{value:Math.round(_),unit:"year"}}(e,t,n);return i?l(n).format(u.value,u.unit):Intl.NumberFormat(n.language,{style:"unit",unit:u.unit,unitDisplay:"long"}).format(Math.abs(u.value))}},21780:function(e,n,t){t.d(n,{f:function(){return i}});var i=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},9381:function(e,n,t){var i,r,o,a,s=t(93359),c=t(88962),l=t(33368),u=t(71650),d=t(82390),p=t(69205),f=t(70906),m=t(91808),h=t(68144),v=t(79932),g=t(83448),y=t(47181),w=(t(10983),t(52039),{info:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20,12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M11,17H13V11H11V17Z",warning:"M12,2L1,21H23M12,6L19.53,19H4.47M11,10V14H13V10M11,16V18H13V16",error:"M11,15H13V17H11V15M11,7H13V13H11V7M12,2C6.47,2 2,6.5 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2M12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4A8,8 0 0,1 20,12A8,8 0 0,1 12,20Z",success:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2,4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"});(0,m.Z)([(0,v.Mo)("ha-alert")],(function(e,n){var t=function(n){(0,p.Z)(i,n);var t=(0,f.Z)(i);function i(){var n;(0,u.Z)(this,i);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o)),e((0,d.Z)(n)),n}return(0,l.Z)(i)}(n);return{F:t,d:[{kind:"field",decorators:[(0,v.Cb)()],key:"title",value:function(){return""}},{kind:"field",decorators:[(0,v.Cb)({attribute:"alert-type"})],key:"alertType",value:function(){return"info"}},{kind:"field",decorators:[(0,v.Cb)({type:Boolean})],key:"dismissable",value:function(){return!1}},{kind:"method",key:"render",value:function(){return(0,h.dy)(i||(i=(0,c.Z)([' <div class="issue-type ','" role="alert"> <div class="icon ','"> <slot name="icon"> <ha-svg-icon .path="','"></ha-svg-icon> </slot> </div> <div class="content"> <div class="main-content"> ',' <slot></slot> </div> <div class="action"> <slot name="action"> '," </slot> </div> </div> </div> "])),(0,g.$)((0,s.Z)({},this.alertType,!0)),this.title?"":"no-title",w[this.alertType],this.title?(0,h.dy)(r||(r=(0,c.Z)(['<div class="title">',"</div>"])),this.title):"",this.dismissable?(0,h.dy)(o||(o=(0,c.Z)(['<ha-icon-button @click="','" label="Dismiss alert" .path="','"></ha-icon-button>'])),this._dismiss_clicked,"M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z"):"")}},{kind:"method",key:"_dismiss_clicked",value:function(){(0,y.B)(this,"alert-dismissed-clicked")}},{kind:"field",static:!0,key:"styles",value:function(){return(0,h.iv)(a||(a=(0,c.Z)(['.issue-type{position:relative;padding:8px;display:flex}.issue-type::after{position:absolute;top:0;right:0;bottom:0;left:0;opacity:.12;pointer-events:none;content:"";border-radius:4px}.icon{z-index:1}.icon.no-title{align-self:center}.content{display:flex;justify-content:space-between;align-items:center;width:100%;text-align:var(--float-start)}.action{z-index:1;width:min-content;--mdc-theme-primary:var(--primary-text-color)}.main-content{overflow-wrap:anywhere;word-break:break-word;margin-left:8px;margin-right:0;margin-inline-start:8px;margin-inline-end:0;direction:var(--direction)}.title{margin-top:2px;font-weight:700}.action ha-icon-button,.action mwc-button{--mdc-theme-primary:var(--primary-text-color);--mdc-icon-button-size:36px}.issue-type.info>.icon{color:var(--info-color)}.issue-type.info::after{background-color:var(--info-color)}.issue-type.warning>.icon{color:var(--warning-color)}.issue-type.warning::after{background-color:var(--warning-color)}.issue-type.error>.icon{color:var(--error-color)}.issue-type.error::after{background-color:var(--error-color)}.issue-type.success>.icon{color:var(--success-color)}.issue-type.success::after{background-color:var(--success-color)}'])))}}]}}),h.oi)},45339:function(e,n,t){t.d(n,{$X:function(){return h},EB:function(){return f},F$:function(){return u},Ur:function(){return l},eJ:function(){return p},iU:function(){return d},wC:function(){return s}});var i=t(99312),r=t(81043),o=t(97330),a=t(38346),s={critical:1,error:2,warning:3},c=function(e){return e.sendMessagePromise({type:"repairs/list_issues"})},l=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(n,t,r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.callWS({type:"repairs/ignore_issue",issue_id:t.issue_id,domain:t.domain,ignore:r}));case 1:case"end":return e.stop()}}),e)})));return function(n,t,i){return e.apply(this,arguments)}}(),u=function(e,n,t){return e.callApi("POST","repairs/issues/fix",{handler:n,issue_id:t})},d=function(e,n){return e.callApi("GET","repairs/issues/fix/".concat(n))},p=function(e,n,t){return e.callApi("POST","repairs/issues/fix/".concat(n),t)},f=function(e,n){return e.callApi("DELETE","repairs/issues/fix/".concat(n))},m=function(e,n){return e.subscribeEvents((0,a.D)((function(){return c(e).then((function(e){return n.setState(e,!0)}))}),500,!0),"repairs_issue_registry_updated")},h=function(e,n){return(0,o.B)("_repairsIssueRegistry",c,m,e,n)}},52871:function(e,n,t){t.d(n,{w:function(){return o}});var i=t(47181),r=function(){return Promise.all([t.e(46992),t.e(79071),t.e(42977),t.e(31338),t.e(3298),t.e(28426),t.e(28597),t.e(97487),t.e(33829),t.e(52154),t.e(53131),t.e(81312),t.e(64975),t.e(59159)]).then(t.bind(t,59159))},o=function(e,n,t){(0,i.B)(e,"show-dialog",{dialogTag:"dialog-data-entry-flow",dialogImport:r,dialogParams:Object.assign(Object.assign({},n),{},{flowConfig:t,dialogParentElement:e})})}},67432:function(e,n,t){var i,r,o,a,s,c,l,u,d,p,f,m=t(88962),h=t(33368),v=t(71650),g=t(82390),y=t(69205),w=t(70906),_=t(91808),k=(t(63436),t(68144)),b=t(79932),x=t(80596),Z=t(21780),z=(t(9381),t(22098),t(73366),t(52039),t(5986)),M=t(11254),L=t(99312),F=t(68990),S=t(81043),A=t(45339),C=t(52871),H=t(47181),D=function(){return Promise.all([t.e(3298),t.e(28597),t.e(36378),t.e(81312),t.e(14921)]).then(t.bind(t,14921))};(0,_.Z)([(0,b.Mo)("ha-config-repairs")],(function(e,n){var t=function(n){(0,y.Z)(i,n);var t=(0,w.Z)(i);function i(){var n;(0,v.Z)(this,i);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=t.call.apply(t,[this].concat(o)),e((0,g.Z)(n)),n}return(0,h.Z)(i)}(n);return{F:t,d:[{kind:"field",decorators:[(0,b.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,b.Cb)({type:Boolean})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,b.Cb)({attribute:!1})],key:"repairsIssues",value:void 0},{kind:"field",decorators:[(0,b.Cb)({type:Number})],key:"total",value:void 0},{kind:"method",key:"render",value:function(){var e,n=this;if(null===(e=this.repairsIssues)||void 0===e||!e.length)return k.Ld;var t=this.repairsIssues;return(0,k.dy)(l||(l=(0,m.Z)([' <div class="title"> '," </div> <mwc-list> "," </mwc-list> "])),this.hass.localize("ui.panel.config.repairs.title",{count:this.total||this.repairsIssues.length}),t.map((function(e){var t;return(0,k.dy)(u||(u=(0,m.Z)([' <ha-list-item twoline graphic="medium" .hasMeta="','" .issue="','" class="','" @click="','"> <img alt="','" loading="lazy" src="','" .title="','" referrerpolicy="no-referrer" slot="graphic"> <span>','</span> <span slot="secondary" class="secondary"> '," "," "," "," </span> "," </ha-list-item> "])),!n.narrow,e,e.ignored?"ignored":"",n._openShowMoreDialog,(0,z.Lh)(n.hass.localize,e.domain),(0,M.X1)({domain:e.issue_domain||e.domain,type:"icon",useFallback:!0,darkOptimized:null===(t=n.hass.themes)||void 0===t?void 0:t.darkMode}),(0,z.Lh)(n.hass.localize,e.domain),n.hass.localize("component.".concat(e.domain,".issues.").concat(e.translation_key||e.issue_id,".title"),e.translation_placeholders||{}),"critical"===e.severity||"error"===e.severity?(0,k.dy)(d||(d=(0,m.Z)(['<span class="error">',"</span>"])),n.hass.localize("ui.panel.config.repairs.".concat(e.severity))):"","critical"!==e.severity&&"error"!==e.severity||!e.created?"":" - ",e.created?(0,Z.f)((0,x.G)(new Date(e.created),n.hass.locale)):"",e.ignored?" - ".concat(n.hass.localize("ui.panel.config.repairs.dialog.ignored_in_version_short",{version:e.dismissed_version})):"",n.narrow?"":(0,k.dy)(p||(p=(0,m.Z)(['<ha-icon-next slot="meta"></ha-icon-next>']))))})))}},{kind:"method",key:"_openShowMoreDialog",value:function(e){var n,t,l=e.currentTarget.issue;l.is_fixable?function(e,n,t){return(0,C.w)(e,{startFlowHandler:n.domain,domain:n.domain,dialogClosedCallback:t},{loadDevicesAndAreas:!1,createFlow:(u=(0,S.Z)((0,L.Z)().mark((function e(t,i){var r,o,a;return(0,L.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([(0,A.F$)(t,i,n.issue_id),t.loadBackendTranslation("issues",n.domain),t.loadBackendTranslation("selector",n.domain)]);case 2:return r=e.sent,o=(0,F.Z)(r,1),a=o[0],e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)}))),function(e,n){return u.apply(this,arguments)}),fetchFlow:(l=(0,S.Z)((0,L.Z)().mark((function e(t,i){var r,o,a;return(0,L.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([(0,A.iU)(t,i),t.loadBackendTranslation("issues",n.domain),t.loadBackendTranslation("selector",n.domain)]);case 2:return r=e.sent,o=(0,F.Z)(r,1),a=o[0],e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)}))),function(e,n){return l.apply(this,arguments)}),handleFlowStep:A.eJ,deleteFlow:A.EB,renderAbortDescription:function(e,t){var r=e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.abort.").concat(t.reason),t.description_placeholders);return r?(0,k.dy)(i||(i=(0,m.Z)([' <ha-markdown breaks allowsvg .content="','"></ha-markdown> '])),r):""},renderShowFormStepHeader:function(e,t){return e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.step.").concat(t.step_id,".title"),t.description_placeholders)||e.localize("ui.dialogs.repair_flow.form.header")},renderShowFormStepDescription:function(e,t){var i=e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.step.").concat(t.step_id,".description"),t.description_placeholders);return i?(0,k.dy)(r||(r=(0,m.Z)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),i):""},renderShowFormStepFieldLabel:function(e,t,i){return e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.step.").concat(t.step_id,".data.").concat(i.name))},renderShowFormStepFieldHelper:function(e,t,i){var r=e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.step.").concat(t.step_id,".data_description.").concat(i.name),t.description_placeholders);return r?(0,k.dy)(o||(o=(0,m.Z)(['<ha-markdown breaks .content="','"></ha-markdown>'])),r):""},renderShowFormStepFieldError:function(e,t,i){return e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.error.").concat(i),t.description_placeholders)},renderShowFormStepFieldLocalizeValue:function(e,t,i){return e.localize("component.".concat(n.domain,".selector.").concat(i))},renderShowFormStepSubmitButton:function(e,t){return e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.step.").concat(t.step_id,".submit"))||e.localize("ui.panel.config.integrations.config_flow.".concat(!1===t.last_step?"next":"submit"))},renderExternalStepHeader:function(e,n){return""},renderExternalStepDescription:function(e,n){return""},renderCreateEntryDescription:function(e,n){return(0,k.dy)(a||(a=(0,m.Z)([" <p>","</p> "])),e.localize("ui.dialogs.repair_flow.success.description"))},renderShowFormProgressHeader:function(e,t){return e.localize("component.".concat(n.domain,".issues.step.").concat(n.translation_key||n.issue_id,".fix_flow.").concat(t.step_id,".title"))||e.localize("component.".concat(n.domain,".title"))},renderShowFormProgressDescription:function(e,t){var i=e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.progress.").concat(t.progress_action),t.description_placeholders);return i?(0,k.dy)(s||(s=(0,m.Z)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),i):""},renderMenuHeader:function(e,t){return e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.step.").concat(t.step_id,".title"))||e.localize("component.".concat(n.domain,".title"))},renderMenuDescription:function(e,t){var i=e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.step.").concat(t.step_id,".description"),t.description_placeholders);return i?(0,k.dy)(c||(c=(0,m.Z)([' <ha-markdown allowsvg breaks .content="','"></ha-markdown> '])),i):""},renderMenuOption:function(e,t,i){return e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.step.").concat(t.step_id,".menu_options.").concat(i),t.description_placeholders)},renderLoadingDescription:function(e,t){return e.localize("component.".concat(n.domain,".issues.").concat(n.translation_key||n.issue_id,".fix_flow.loading"))||("loading_flow"===t||"loading_step"===t?e.localize("ui.dialogs.repair_flow.loading.".concat(t),{integration:(0,z.Lh)(e.localize,n.domain)}):"")}});var l,u}(this,l):(n=this,t={issue:l},(0,H.B)(n,"show-dialog",{dialogTag:"dialog-repairs-issue",dialogImport:D,dialogParams:t}))}},{kind:"field",static:!0,key:"styles",value:function(){return(0,k.iv)(f||(f=(0,m.Z)([":host{--mdc-list-vertical-padding:0}.title{font-size:16px;padding:16px;padding-bottom:0}.ignored{opacity:var(--light-secondary-opacity)}ha-list-item{--mdc-list-item-graphic-size:40px}button.show-more{color:var(--primary-color);text-align:left;cursor:pointer;background:0 0;border-width:initial;border-style:none;border-color:initial;border-image:initial;padding:16px;font:inherit}button.show-more:focus{outline:0;text-decoration:underline}ha-list-item{cursor:pointer;font-size:16px}.error{color:var(--error-color)}"])))}}]}}),k.oi)},10520:function(e,n,t){t.r(n);t(7151),t(33633),t(25534),t(64827),t(23044),t(1437),t(87520),t(42661),t(78337),t(87065),t(6042),t(19440),t(50897),t(30056),t(12679)},11254:function(e,n,t){t.d(n,{RU:function(){return r},X1:function(){return i},u4:function(){return o},zC:function(){return a}});var i=function(e){return e.domain.startsWith("ais_")?"https://ai-speaker.com/images/brands/".concat(e.domain,"/").concat(e.type,".png"):"https://brands.home-assistant.io/".concat(e.brand?"brands/":"").concat(e.useFallback?"_/":"").concat(e.domain,"/").concat(e.darkOptimized?"dark_":"").concat(e.type,".png")},r=function(e){return"https://brands.home-assistant.io/hardware/".concat(e.category,"/").concat(e.darkOptimized?"dark_":"").concat(e.manufacturer).concat(e.model?"_".concat(e.model):"",".png")},o=function(e){return e.split("/")[4]},a=function(e){return e.startsWith("https://brands.home-assistant.io/")}}}]);
//# sourceMappingURL=67432-3B742kskBVU.js.map