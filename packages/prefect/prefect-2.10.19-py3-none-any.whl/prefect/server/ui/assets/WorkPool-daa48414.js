import{d as $,y as E,E as S,bD as U,R as z,c as t,S as D,e as F,az as G,a as s,b as i,w as l,f as w,o as d,h as a,u as e,bE as V,bF as m,aE as Y,bG as q,bH as A,l as H}from"./index-af913952.js";import{u as J}from"./usePageTitle-749df1fc.js";const I=$({__name:"WorkPool",setup(O){const f=E(),r=S("workPoolName"),_=U(),b={interval:3e5},p=z(f.workPools.getWorkPoolByName,[r.value],b),o=t(()=>p.response),u=t(()=>{var n;return((n=o.value)==null?void 0:n.type)==="prefect-agent"}),v=t(()=>[{label:"Details",hidden:D.xl},{label:"Runs"},{label:"Work Queues"},{label:"Workers",hidden:!_.access.workers||u.value}]),{tab:c,tabs:P}=F(v),y=t(()=>o.value?`Your work pool ${o.value.name} is ready to go!`:"Your work pool is ready to go!"),g=t(()=>{var n;return`prefect ${u.value?"agent":"worker"} start --pool ${(n=o.value)==null?void 0:n.name}`}),B=t(()=>`Work pools organize work that ${u.value?"Prefect agents":"Prefect workers"} can pull from.`),{filter:C}=G({workPools:{name:[r.value]}}),W=t(()=>o.value?`Work Pool: ${o.value.name}`:"Work Pool");return J(W),(n,k)=>{const h=s("CodeBanner"),T=s("p-tabs"),R=s("p-layout-well"),x=s("p-layout-default");return o.value?(d(),i(x,{key:0},{header:l(()=>[a(e(V),{"work-pool":o.value,onUpdate:e(p).refresh},null,8,["work-pool","onUpdate"])]),default:l(()=>[o.value?(d(),i(R,{key:0,class:"work-pool"},{header:l(()=>[a(h,{command:g.value,title:y.value,subtitle:B.value},null,8,["command","title","subtitle"])]),well:l(()=>[a(e(m),{alternate:"","work-pool":o.value},null,8,["work-pool"])]),default:l(()=>[a(T,{selected:e(c),"onUpdate:selected":k[0]||(k[0]=N=>H(c)?c.value=N:null),tabs:e(P)},{details:l(()=>[a(e(m),{"work-pool":o.value},null,8,["work-pool"])]),runs:l(()=>[a(e(Y),{"flow-run-filter":e(C)},null,8,["flow-run-filter"])]),"work-queues":l(()=>[a(e(q),{"work-pool-name":e(r)},null,8,["work-pool-name"])]),workers:l(()=>[a(e(A),{"work-pool-name":e(r)},null,8,["work-pool-name"])]),_:1},8,["selected","tabs"])]),_:1})):w("",!0)]),_:1})):w("",!0)}}});export{I as default};
