import{d as N,O as C,E as j,y as A,c as e,S as V,aq as v,af as B,a as o,b as r,w as s,f as c,o as i,h as u,u as n,ar as E,as as d,s as F,i as f,at as O,j as Q,t as q,au as G,av as J,ao as K,a6 as L}from"./index-af913952.js";import{u as P}from"./usePageTitle-749df1fc.js";const U=N({__name:"TaskRun",setup($){const R=C(),p=j("taskRunId"),k=A(),g=e(()=>{const a=["Logs","Artifacts","Task Inputs"];return V.xl||a.push("Details"),a}),m=e(()=>p.value?[p.value]:null),w=v(k.taskRuns.getTaskRun,m,{interval:3e4}),t=e(()=>w.response),l=e(()=>{var a;return(a=t.value)==null?void 0:a.flowRunId}),y=e(()=>l.value?[l.value]:null),h=v(k.flowRuns.getFlowRun,y),_=e(()=>{var a;return(a=t.value)!=null&&a.taskInputs?JSON.stringify(t.value.taskInputs,void 0,2):"{}"});function T(){h.refresh(),R.push(L.flowRun(l.value))}const I=e(()=>{var a;return(a=t.value)==null?void 0:a.stateType});B(I);const x=e(()=>t.value?`Task Run: ${t.value.name}`:"Task Run");return P(x),(a,z)=>{const b=o("p-code-highlight"),S=o("p-tabs"),D=o("p-layout-well");return t.value?(i(),r(D,{key:0,class:"task-run"},{header:s(()=>[u(n(E),{"task-run-id":t.value.id,onDelete:T},null,8,["task-run-id"])]),well:s(()=>[u(n(d),{alternate:"","task-run":t.value},null,8,["task-run"])]),default:s(()=>[u(S,{tabs:g.value},F({details:s(()=>[u(n(d),{"task-run":t.value},null,8,["task-run"])]),logs:s(()=>[u(n(G),{"task-run":t.value},null,8,["task-run"])]),artifacts:s(()=>[t.value?(i(),r(n(J),{key:0,"task-run":t.value},null,8,["task-run"])):c("",!0)]),"task-inputs":s(()=>[t.value?(i(),r(n(K),{key:0,"text-to-copy":_.value},{default:s(()=>[u(b,{lang:"json",text:_.value,class:"task-run__inputs"},null,8,["text"])]),_:1},8,["text-to-copy"])):c("",!0)]),_:2},[t.value?{name:"task-inputs-heading",fn:s(()=>[f(" Task inputs "),u(n(O),{title:"Task Inputs"},{default:s(()=>[f(Q(n(q).info.taskInput),1)]),_:1})]),key:"0"}:void 0]),1032,["tabs"])]),_:1})):c("",!0)}}});export{U as default};
