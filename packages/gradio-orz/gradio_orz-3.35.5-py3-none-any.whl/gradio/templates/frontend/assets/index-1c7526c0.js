import{S as fe,i as ae,s as oe,T as _e,I as q,f as Ge,h as I,K,q as A,n as V,t as G,p as W,r as L,u as De,e as M,m as R,o as S,a2 as Ee,b as Z,H as E,D as w,N as C,F as B,ao as Ce,O as ue,M as F,E as p,W as Ie,J as ce,L as me,y as Le,aa as Ne,j as qe,k as He,z as Me}from"./index-d3a1fb8c.js";import{B as Re}from"./Button-54d1361f.js";import{B as Se}from"./BlockLabel-42b18ade.js";import{E as Te}from"./Empty-5daee4ef.js";import{n as x}from"./ModifyUpload.svelte_svelte_type_style_lang-d2acacf0.js";import{M as Fe}from"./ModifyUpload-eed656c6.js";/* empty css                                                    */import{I as ge}from"./Image-77005219.js";function $(t,l,e){const i=t.slice();return i[36]=l[e][0],i[37]=l[e][1],i[39]=e,i}function ee(t,l,e){const i=t.slice();return i[36]=l[e],i[40]=l,i[39]=e,i}function le(t){let l,e;return l=new Se({props:{show_label:t[1],Icon:ge,label:t[2]||"Gallery",disable:t[0]===!1}}),{c(){M(l.$$.fragment)},m(i,n){R(l,i,n),e=!0},p(i,n){const a={};n[0]&2&&(a.show_label=i[1]),n[0]&4&&(a.label=i[2]||"Gallery"),n[0]&1&&(a.disable=i[0]===!1),l.$set(a)},i(i){e||(A(l.$$.fragment,i),e=!0)},o(i){G(l.$$.fragment,i),e=!1},d(i){S(l,i)}}}function Je(t){let l,e,i,n,a,h,r=t[7]!==null&&t[5]&&te(t),o=t[8],u=[];for(let s=0;s<o.length;s+=1)u[s]=re($(t,o,s));return{c(){r&&r.c(),l=q(),e=E("div"),i=E("div");for(let s=0;s<u.length;s+=1)u[s].c();w(i,"class","grid-container svelte-y3lh26"),w(i,"style",n=t[13]+" "+t[14]+" --object-fit: "+t[6]+"; height: "+t[4]),C(i,"pt-6",t[1]),w(e,"class","grid-wrap svelte-y3lh26"),_e(()=>t[32].call(e)),C(e,"fixed-height",!t[4]||t[4]=="auto")},m(s,c){r&&r.m(s,c),I(s,l,c),I(s,e,c),B(e,i);for(let f=0;f<u.length;f+=1)u[f]&&u[f].m(i,null);a=Ce(e,t[32].bind(e)),h=!0},p(s,c){if(s[7]!==null&&s[5]?r?(r.p(s,c),c[0]&160&&A(r,1)):(r=te(s),r.c(),A(r,1),r.m(l.parentNode,l)):r&&(V(),G(r,1,1,()=>{r=null}),W()),c[0]&384){o=s[8];let f;for(f=0;f<o.length;f+=1){const d=$(s,o,f);u[f]?u[f].p(d,c):(u[f]=re(d),u[f].c(),u[f].m(i,null))}for(;f<u.length;f+=1)u[f].d(1);u.length=o.length}(!h||c[0]&24656&&n!==(n=s[13]+" "+s[14]+" --object-fit: "+s[6]+"; height: "+s[4]))&&w(i,"style",n),(!h||c[0]&2)&&C(i,"pt-6",s[1]),(!h||c[0]&16)&&C(e,"fixed-height",!s[4]||s[4]=="auto")},i(s){h||(A(r),h=!0)},o(s){G(r),h=!1},d(s){r&&r.d(s),s&&L(l),s&&L(e),ue(u,s),a()}}}function Ke(t){let l,e;return l=new Te({props:{unpadded_box:!0,size:"large",$$slots:{default:[Oe]},$$scope:{ctx:t}}}),{c(){M(l.$$.fragment)},m(i,n){R(l,i,n),e=!0},p(i,n){const a={};n[1]&1024&&(a.$$scope={dirty:n,ctx:i}),l.$set(a)},i(i){e||(A(l.$$.fragment,i),e=!0)},o(i){G(l.$$.fragment,i),e=!1},d(i){S(l,i)}}}function te(t){let l,e,i,n,a,h,r,o,u,s,c,f,d;e=new Fe({}),e.$on("clear",t[26]);let b=t[8][t[7]][1]&&ie(t),z=t[8],y=[];for(let g=0;g<z.length;g+=1)y[g]=ne(ee(t,z,g));return{c(){l=E("div"),M(e.$$.fragment),i=q(),n=E("img"),o=q(),b&&b.c(),u=q(),s=E("div");for(let g=0;g<y.length;g+=1)y[g].c();w(n,"data-testid","detailed-image"),F(n.src,a=t[8][t[7]][0].data)||w(n,"src",a),w(n,"alt",h=t[8][t[7]][1]||""),w(n,"title",r=t[8][t[7]][1]||null),p(n,"height","calc(100% - "+(t[8][t[7]][1]?"80px":"60px")+")"),w(n,"class","svelte-y3lh26"),C(n,"with-caption",!!t[8][t[7]][1]),w(s,"class","thumbnails scroll-hide svelte-y3lh26"),w(s,"data-testid","container_el"),w(l,"class","preview svelte-y3lh26")},m(g,j){I(g,l,j),R(e,l,null),B(l,i),B(l,n),B(l,o),b&&b.m(l,null),B(l,u),B(l,s);for(let k=0;k<y.length;k+=1)y[k]&&y[k].m(s,null);t[30](s),c=!0,f||(d=[K(n,"click",t[27]),K(l,"keydown",t[16])],f=!0)},p(g,j){if((!c||j[0]&384&&!F(n.src,a=g[8][g[7]][0].data))&&w(n,"src",a),(!c||j[0]&384&&h!==(h=g[8][g[7]][1]||""))&&w(n,"alt",h),(!c||j[0]&384&&r!==(r=g[8][g[7]][1]||null))&&w(n,"title",r),(!c||j[0]&384)&&p(n,"height","calc(100% - "+(g[8][g[7]][1]?"80px":"60px")+")"),(!c||j[0]&384)&&C(n,"with-caption",!!g[8][g[7]][1]),g[8][g[7]][1]?b?b.p(g,j):(b=ie(g),b.c(),b.m(l,u)):b&&(b.d(1),b=null),j[0]&896){z=g[8];let k;for(k=0;k<z.length;k+=1){const N=ee(g,z,k);y[k]?y[k].p(N,j):(y[k]=ne(N),y[k].c(),y[k].m(s,null))}for(;k<y.length;k+=1)y[k].d(1);y.length=z.length}},i(g){c||(A(e.$$.fragment,g),c=!0)},o(g){G(e.$$.fragment,g),c=!1},d(g){g&&L(l),S(e),b&&b.d(),ue(y,g),t[30](null),f=!1,Ie(d)}}}function ie(t){let l,e=t[8][t[7]][1]+"",i;return{c(){l=E("div"),i=ce(e),w(l,"class","caption svelte-y3lh26")},m(n,a){I(n,l,a),B(l,i)},p(n,a){a[0]&384&&e!==(e=n[8][n[7]][1]+"")&&me(i,e)},d(n){n&&L(l)}}}function ne(t){let l,e,i,n,a,h,r=t[39],o,u;const s=()=>t[28](l,r),c=()=>t[28](null,r);function f(){return t[29](t[39])}return{c(){l=E("button"),e=E("img"),h=q(),F(e.src,i=t[36][0].data)||w(e,"src",i),w(e,"title",n=t[36][1]||null),w(e,"alt",a=t[36][1]||null),w(e,"class","svelte-y3lh26"),w(l,"class","thumbnail-item thumbnail-small svelte-y3lh26"),C(l,"selected",t[7]===t[39])},m(d,b){I(d,l,b),B(l,e),B(l,h),s(),o||(u=K(l,"click",f),o=!0)},p(d,b){t=d,b[0]&256&&!F(e.src,i=t[36][0].data)&&w(e,"src",i),b[0]&256&&n!==(n=t[36][1]||null)&&w(e,"title",n),b[0]&256&&a!==(a=t[36][1]||null)&&w(e,"alt",a),r!==t[39]&&(c(),r=t[39],s()),b[0]&128&&C(l,"selected",t[7]===t[39])},d(d){d&&L(l),c(),o=!1,u()}}}function se(t){let l,e=t[37]+"",i;return{c(){l=E("div"),i=ce(e),w(l,"class","caption-label svelte-y3lh26")},m(n,a){I(n,l,a),B(l,i)},p(n,a){a[0]&256&&e!==(e=n[37]+"")&&me(i,e)},d(n){n&&L(l)}}}function re(t){let l,e,i,n,a,h,r,o,u=t[37]&&se(t);function s(){return t[31](t[39])}return{c(){l=E("button"),e=E("img"),a=q(),u&&u.c(),h=q(),w(e,"alt",i=t[37]||""),F(e.src,n=typeof t[36]=="string"?t[36]:t[36].data)||w(e,"src",n),w(e,"class","svelte-y3lh26"),w(l,"class","thumbnail-item thumbnail-lg svelte-y3lh26"),C(l,"selected",t[7]===t[39])},m(c,f){I(c,l,f),B(l,e),B(l,a),u&&u.m(l,null),B(l,h),r||(o=K(l,"click",s),r=!0)},p(c,f){t=c,f[0]&256&&i!==(i=t[37]||"")&&w(e,"alt",i),f[0]&256&&!F(e.src,n=typeof t[36]=="string"?t[36]:t[36].data)&&w(e,"src",n),t[37]?u?u.p(t,f):(u=se(t),u.c(),u.m(l,h)):u&&(u.d(1),u=null),f[0]&128&&C(l,"selected",t[7]===t[39])},d(c){c&&L(l),u&&u.d(),r=!1,o()}}}function Oe(t){let l,e;return l=new ge({}),{c(){M(l.$$.fragment)},m(i,n){R(l,i,n),e=!0},i(i){e||(A(l.$$.fragment,i),e=!0)},o(i){G(l.$$.fragment,i),e=!1},d(i){S(l,i)}}}function Ue(t){let l,e,i,n,a,h,r;_e(t[25]);let o=t[1]&&le(t);const u=[Ke,Je],s=[];function c(f,d){return f[3]===null||f[8]===null||f[8].length===0?0:1}return e=c(t),i=s[e]=u[e](t),{c(){o&&o.c(),l=q(),i.c(),n=Ge()},m(f,d){o&&o.m(f,d),I(f,l,d),s[e].m(f,d),I(f,n,d),a=!0,h||(r=K(window,"resize",t[25]),h=!0)},p(f,d){f[1]?o?(o.p(f,d),d[0]&2&&A(o,1)):(o=le(f),o.c(),A(o,1),o.m(l.parentNode,l)):o&&(V(),G(o,1,1,()=>{o=null}),W());let b=e;e=c(f),e===b?s[e].p(f,d):(V(),G(s[b],1,1,()=>{s[b]=null}),W(),i=s[e],i?i.p(f,d):(i=s[e]=u[e](f),i.c()),A(i,1),i.m(n.parentNode,n))},i(f){a||(A(o),A(i),a=!0)},o(f){G(o),G(i),a=!1},d(f){o&&o.d(f),f&&L(l),s[e].d(f),f&&L(n),h=!1,r()}}}function Ve(t,l,e){let i,n,a,{container:h=!0}=l,{show_label:r=!0}=l,{label:o}=l,{root:u=""}=l,{root_url:s=null}=l,{value:c=null}=l,{grid_cols:f=[2]}=l,{grid_rows:d=void 0}=l,{height:b="auto"}=l,{preview:z}=l,{allow_preview:y=!0}=l,{object_fit:g="cover"}=l;const j=De();let k=!0,N=c,v=z&&c?.length?0:null,m=v;function he(_){switch(_.code){case"Escape":_.preventDefault(),e(7,v=null);break;case"ArrowLeft":_.preventDefault(),e(7,v=n);break;case"ArrowRight":_.preventDefault(),e(7,v=a);break}}let J=[],T;async function de(_){if(typeof _!="number")return;await Ee(),J[_].focus();const{left:D,width:U}=T.getBoundingClientRect(),{left:H,width:Be}=J[_].getBoundingClientRect(),Y=H-D+Be/2-U/2+T.scrollLeft;T?.scrollTo({left:Y<0?0:Y,behavior:"smooth"})}let O=0,P=0,Q="",X="";function be(){e(12,P=window.innerHeight)}const we=()=>e(7,v=null),ke=()=>e(7,v=a);function ve(_,D){Z[_?"unshift":"push"](()=>{J[D]=_,e(9,J)})}const ye=_=>e(7,v=_);function je(_){Z[_?"unshift":"push"](()=>{T=_,e(10,T)})}const Ae=_=>e(7,v=_);function ze(){O=this.clientHeight,e(11,O)}return t.$$set=_=>{"container"in _&&e(0,h=_.container),"show_label"in _&&e(1,r=_.show_label),"label"in _&&e(2,o=_.label),"root"in _&&e(17,u=_.root),"root_url"in _&&e(18,s=_.root_url),"value"in _&&e(3,c=_.value),"grid_cols"in _&&e(19,f=_.grid_cols),"grid_rows"in _&&e(20,d=_.grid_rows),"height"in _&&e(4,b=_.height),"preview"in _&&e(21,z=_.preview),"allow_preview"in _&&e(5,y=_.allow_preview),"object_fit"in _&&e(6,g=_.object_fit)},t.$$.update=()=>{if(t.$$.dirty[0]&4194312&&e(22,k=c==null||c.length==0?!0:k),t.$$.dirty[0]&393224&&e(8,i=c===null?null:c.map(_=>Array.isArray(_)?[x(_[0],u,s),_[1]]:[x(_,u,s),null])),t.$$.dirty[0]&14680200&&N!==c&&(k?(e(7,v=z&&c?.length?0:null),e(22,k=!1)):e(7,v=v!==null&&c!==null&&v<c.length?v:null),e(23,N=c)),t.$$.dirty[0]&384&&(n=((v??0)+(i?.length??0)-1)%(i?.length??0)),t.$$.dirty[0]&384&&e(15,a=((v??0)+1)%(i?.length??0)),t.$$.dirty[0]&16777600&&v!==m&&(e(24,m=v),v!==null&&j("select",{index:v,value:i?.[v][1]})),t.$$.dirty[0]&160&&y&&de(v),t.$$.dirty[0]&524288){let _=["","sm-","md-","lg-","xl-","2xl-"],D=Array.isArray(f)?f:[f];e(13,Q=[0,0,0,0,0,0].map((U,H)=>`--${_[H]}grid-cols: var(--grid-${D?.[H]||D?.[D?.length-1]});`).join(" "))}if(t.$$.dirty[0]&1048576){let _=["","sm-","md-","lg-","xl-","2xl-"],D=Array.isArray(d)?d:[d];e(14,X=[0,0,0,0,0,0].map((U,H)=>`--${_[H]}grid-rows: var(--grid-${D?.[H]||D?.[D?.length-1]});`).join(" "))}},[h,r,o,c,b,y,g,v,i,J,T,O,P,Q,X,a,he,u,s,f,d,z,k,N,m,be,we,ke,ve,ye,je,Ae,ze]}class We extends fe{constructor(l){super(),ae(this,l,Ve,Ue,oe,{container:0,show_label:1,label:2,root:17,root_url:18,value:3,grid_cols:19,grid_rows:20,height:4,preview:21,allow_preview:5,object_fit:6},null,[-1,-1])}}function Pe(t){let l,e,i,n;const a=[t[0]];let h={};for(let r=0;r<a.length;r+=1)h=Le(h,a[r]);return l=new Ne({props:h}),i=new We({props:{label:t[2],value:t[8],show_label:t[1],root:t[3],root_url:t[4],grid_cols:t[12],grid_rows:t[13],height:t[14],preview:t[15],object_fit:t[17],allow_preview:t[16]}}),i.$on("select",t[18]),{c(){M(l.$$.fragment),e=q(),M(i.$$.fragment)},m(r,o){R(l,r,o),I(r,e,o),R(i,r,o),n=!0},p(r,o){const u=o&1?qe(a,[He(r[0])]):{};l.$set(u);const s={};o&4&&(s.label=r[2]),o&256&&(s.value=r[8]),o&2&&(s.show_label=r[1]),o&8&&(s.root=r[3]),o&16&&(s.root_url=r[4]),o&4096&&(s.grid_cols=r[12]),o&8192&&(s.grid_rows=r[13]),o&16384&&(s.height=r[14]),o&32768&&(s.preview=r[15]),o&131072&&(s.object_fit=r[17]),o&65536&&(s.allow_preview=r[16]),i.$set(s)},i(r){n||(A(l.$$.fragment,r),A(i.$$.fragment,r),n=!0)},o(r){G(l.$$.fragment,r),G(i.$$.fragment,r),n=!1},d(r){S(l,r),r&&L(e),S(i,r)}}}function Qe(t){let l,e;return l=new Re({props:{visible:t[7],variant:"solid",padding:!1,elem_id:t[5],elem_classes:t[6],container:t[9],scale:t[10],min_width:t[11],height:typeof t[14]=="number"?t[14]:void 0,$$slots:{default:[Pe]},$$scope:{ctx:t}}}),{c(){M(l.$$.fragment)},m(i,n){R(l,i,n),e=!0},p(i,[n]){const a={};n&128&&(a.visible=i[7]),n&32&&(a.elem_id=i[5]),n&64&&(a.elem_classes=i[6]),n&512&&(a.container=i[9]),n&1024&&(a.scale=i[10]),n&2048&&(a.min_width=i[11]),n&16384&&(a.height=typeof i[14]=="number"?i[14]:void 0),n&782623&&(a.$$scope={dirty:n,ctx:i}),l.$set(a)},i(i){e||(A(l.$$.fragment,i),e=!0)},o(i){G(l.$$.fragment,i),e=!1},d(i){S(l,i)}}}function Xe(t,l,e){let{loading_status:i}=l,{show_label:n}=l,{label:a}=l,{root:h}=l,{root_url:r}=l,{elem_id:o=""}=l,{elem_classes:u=[]}=l,{visible:s=!0}=l,{value:c=null}=l,{container:f=!1}=l,{scale:d=null}=l,{min_width:b=void 0}=l,{grid_cols:z=[2]}=l,{grid_rows:y=void 0}=l,{height:g="auto"}=l,{preview:j}=l,{allow_preview:k=!0}=l,{object_fit:N="cover"}=l;function v(m){Me.call(this,t,m)}return t.$$set=m=>{"loading_status"in m&&e(0,i=m.loading_status),"show_label"in m&&e(1,n=m.show_label),"label"in m&&e(2,a=m.label),"root"in m&&e(3,h=m.root),"root_url"in m&&e(4,r=m.root_url),"elem_id"in m&&e(5,o=m.elem_id),"elem_classes"in m&&e(6,u=m.elem_classes),"visible"in m&&e(7,s=m.visible),"value"in m&&e(8,c=m.value),"container"in m&&e(9,f=m.container),"scale"in m&&e(10,d=m.scale),"min_width"in m&&e(11,b=m.min_width),"grid_cols"in m&&e(12,z=m.grid_cols),"grid_rows"in m&&e(13,y=m.grid_rows),"height"in m&&e(14,g=m.height),"preview"in m&&e(15,j=m.preview),"allow_preview"in m&&e(16,k=m.allow_preview),"object_fit"in m&&e(17,N=m.object_fit)},[i,n,a,h,r,o,u,s,c,f,d,b,z,y,g,j,k,N,v]}class Ye extends fe{constructor(l){super(),ae(this,l,Xe,Qe,oe,{loading_status:0,show_label:1,label:2,root:3,root_url:4,elem_id:5,elem_classes:6,visible:7,value:8,container:9,scale:10,min_width:11,grid_cols:12,grid_rows:13,height:14,preview:15,allow_preview:16,object_fit:17})}}const sl=Ye,rl=["static"],fl=t=>({type:{payload:"Array<{ name: string } | [{ name: string }, string]>"},description:{payload:"list of objects, with filename and optional caption,"}});export{sl as Component,fl as document,rl as modes};
//# sourceMappingURL=index-1c7526c0.js.map
