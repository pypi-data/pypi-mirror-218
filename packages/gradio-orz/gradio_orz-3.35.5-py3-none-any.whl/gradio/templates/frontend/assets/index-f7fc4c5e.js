import{S as te,i as ne,s as se,e as S,m as j,q as I,t as A,o as C,u as ae,y as ie,aa as oe,I as D,H as E,D as d,h as b,j as fe,k as ue,n as _e,p as re,r as v,f as me,M as z,N as B,F,G as W,O as Z,J as ce,E as P,K as q,L as he,W as ge}from"./index-d3a1fb8c.js";import{B as de}from"./Button-54d1361f.js";import{B as be}from"./BlockLabel-42b18ade.js";import{E as ve}from"./Empty-5daee4ef.js";/* empty css                                                    */import{I as y}from"./Image-77005219.js";import{n as Q}from"./ModifyUpload.svelte_svelte_type_style_lang-d2acacf0.js";function R(t,e,n){const l=t.slice();return l[27]=e[n][0],l[12]=e[n][1],l[29]=n,l}function U(t,e,n){const l=t.slice();return l[30]=e[n][0],l[12]=e[n][1],l[29]=n,l}function ke(t){let e,n,l,s,i,a,r=t[13]?t[13][1]:[],m=[];for(let o=0;o<r.length;o+=1)m[o]=V(U(t,r,o));let c=t[4]&&t[13]&&X(t);return{c(){e=E("div"),n=E("img"),s=D();for(let o=0;o<m.length;o+=1)m[o].c();i=D(),c&&c.c(),a=me(),d(n,"class","base-image svelte-m3v3vb"),z(n.src,l=t[13]?t[13][0].data:null)||d(n,"src",l),B(n,"fit-height",t[5]),d(e,"class","image-container svelte-m3v3vb")},m(o,h){b(o,e,h),F(e,n),F(e,s);for(let _=0;_<m.length;_+=1)m[_]&&m[_].m(e,null);b(o,i,h),c&&c.m(o,h),b(o,a,h)},p(o,h){if(h[0]&8192&&!z(n.src,l=o[13]?o[13][0].data:null)&&d(n,"src",l),h[0]&32&&B(n,"fit-height",o[5]),h[0]&24704){r=o[13]?o[13][1]:[];let _;for(_=0;_<r.length;_+=1){const k=U(o,r,_);m[_]?m[_].p(k,h):(m[_]=V(k),m[_].c(),m[_].m(e,null))}for(;_<m.length;_+=1)m[_].d(1);m.length=r.length}o[4]&&o[13]?c?c.p(o,h):(c=X(o),c.c(),c.m(a.parentNode,a)):c&&(c.d(1),c=null)},i:W,o:W,d(o){o&&v(e),Z(m,o),o&&v(i),c&&c.d(o),o&&v(a)}}}function we(t){let e,n;return e=new ve({props:{size:"large",unpadded_box:!0,$$slots:{default:[Ie]},$$scope:{ctx:t}}}),{c(){S(e.$$.fragment)},m(l,s){j(e,l,s),n=!0},p(l,s){const i={};s[1]&2&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){A(e.$$.fragment,l),n=!1},d(l){C(e,l)}}}function V(t){let e,n,l;return{c(){e=E("img"),d(e,"class","mask fit-height svelte-m3v3vb"),z(e.src,n=t[30].data)||d(e,"src",n),d(e,"style",l=t[7]&&t[12]in t[7]?null:`filter: hue-rotate(${Math.round(t[29]*360/t[13][1].length)}deg);`),B(e,"active",t[14]==t[12]),B(e,"inactive",t[14]!=t[12]&&t[14]!=null)},m(s,i){b(s,e,i)},p(s,i){i[0]&8192&&!z(e.src,n=s[30].data)&&d(e,"src",n),i[0]&8320&&l!==(l=s[7]&&s[12]in s[7]?null:`filter: hue-rotate(${Math.round(s[29]*360/s[13][1].length)}deg);`)&&d(e,"style",l),i[0]&24576&&B(e,"active",s[14]==s[12]),i[0]&24576&&B(e,"inactive",s[14]!=s[12]&&s[14]!=null)},d(s){s&&v(e)}}}function X(t){let e,n=t[13][1],l=[];for(let s=0;s<n.length;s+=1)l[s]=Y(R(t,n,s));return{c(){e=E("div");for(let s=0;s<l.length;s+=1)l[s].c();d(e,"class","legend svelte-m3v3vb")},m(s,i){b(s,e,i);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null)},p(s,i){if(i[0]&237696){n=s[13][1];let a;for(a=0;a<n.length;a+=1){const r=R(s,n,a);l[a]?l[a].p(r,i):(l[a]=Y(r),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=n.length}},d(s){s&&v(e),Z(l,s)}}}function Y(t){let e,n=t[12]+"",l,s,i,a;function r(){return t[22](t[12])}function m(){return t[23](t[12])}function c(){return t[26](t[29],t[12])}return{c(){e=E("div"),l=ce(n),s=D(),d(e,"class","legend-item svelte-m3v3vb"),P(e,"background-color",t[7]&&t[12]in t[7]?t[7][t[12]]+"88":`hsla(${Math.round(t[29]*360/t[13][1].length)}, 100%, 50%, 0.3)`)},m(o,h){b(o,e,h),F(e,l),F(e,s),i||(a=[q(e,"mouseover",r),q(e,"focus",m),q(e,"mouseout",t[24]),q(e,"blur",t[25]),q(e,"click",c)],i=!0)},p(o,h){t=o,h[0]&8192&&n!==(n=t[12]+"")&&he(l,n),h[0]&8320&&P(e,"background-color",t[7]&&t[12]in t[7]?t[7][t[12]]+"88":`hsla(${Math.round(t[29]*360/t[13][1].length)}, 100%, 50%, 0.3)`)},d(o){o&&v(e),i=!1,ge(a)}}}function Ie(t){let e,n;return e=new y({}),{c(){S(e.$$.fragment)},m(l,s){j(e,l,s),n=!0},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){A(e.$$.fragment,l),n=!1},d(l){C(e,l)}}}function Ae(t){let e,n,l,s,i,a,r,m;const c=[t[11]];let o={};for(let u=0;u<c.length;u+=1)o=ie(o,c[u]);e=new oe({props:o}),l=new be({props:{show_label:t[3],Icon:y,label:t[12]||"Image"}});const h=[we,ke],_=[];function k(u,g){return u[13]==null?0:1}return a=k(t),r=_[a]=h[a](t),{c(){S(e.$$.fragment),n=D(),S(l.$$.fragment),s=D(),i=E("div"),r.c(),d(i,"class","container svelte-m3v3vb")},m(u,g){j(e,u,g),b(u,n,g),j(l,u,g),b(u,s,g),b(u,i,g),_[a].m(i,null),m=!0},p(u,g){const L=g[0]&2048?fe(c,[ue(u[11])]):{};e.$set(L);const M={};g[0]&8&&(M.show_label=u[3]),g[0]&4096&&(M.label=u[12]||"Image"),l.$set(M);let w=a;a=k(u),a===w?_[a].p(u,g):(_e(),A(_[w],1,1,()=>{_[w]=null}),re(),r=_[a],r?r.p(u,g):(r=_[a]=h[a](u),r.c()),I(r,1),r.m(i,null))},i(u){m||(I(e.$$.fragment,u),I(l.$$.fragment,u),I(r),m=!0)},o(u){A(e.$$.fragment,u),A(l.$$.fragment,u),A(r),m=!1},d(u){C(e,u),u&&v(n),C(l,u),u&&v(s),u&&v(i),_[a].d()}}}function Me(t){let e,n;return e=new de({props:{visible:t[2],elem_id:t[0],elem_classes:t[1],padding:!1,height:t[5],width:t[6],allow_overflow:!1,container:t[8],scale:t[9],min_width:t[10],$$slots:{default:[Ae]},$$scope:{ctx:t}}}),{c(){S(e.$$.fragment)},m(l,s){j(e,l,s),n=!0},p(l,s){const i={};s[0]&4&&(i.visible=l[2]),s[0]&1&&(i.elem_id=l[0]),s[0]&2&&(i.elem_classes=l[1]),s[0]&32&&(i.height=l[5]),s[0]&64&&(i.width=l[6]),s[0]&256&&(i.container=l[8]),s[0]&512&&(i.scale=l[9]),s[0]&1024&&(i.min_width=l[10]),s[0]&30904|s[1]&2&&(i.$$scope={dirty:s,ctx:l}),e.$set(i)},i(l){n||(I(e.$$.fragment,l),n=!0)},o(l){A(e.$$.fragment,l),n=!1},d(l){C(e,l)}}}function Be(t,e,n){let{elem_id:l=""}=e,{elem_classes:s=[]}=e,{visible:i=!0}=e,{value:a}=e,r,m,{label:c="Annotated Image"}=e,{show_label:o=!0}=e,{show_legend:h=!0}=e,{height:_}=e,{width:k}=e,{color_map:u}=e,{container:g=!1}=e,{scale:L=null}=e,{min_width:M=void 0}=e,{root:w}=e,{root_url:N}=e,G=null,{loading_status:T}=e;const H=ae();function J(f){n(14,G=f)}function K(){n(14,G=null)}const p=f=>J(f),x=f=>J(f),$=()=>K(),ee=()=>K(),le=(f,O)=>H("select",{index:f,value:O});return t.$$set=f=>{"elem_id"in f&&n(0,l=f.elem_id),"elem_classes"in f&&n(1,s=f.elem_classes),"visible"in f&&n(2,i=f.visible),"value"in f&&n(18,a=f.value),"label"in f&&n(12,c=f.label),"show_label"in f&&n(3,o=f.show_label),"show_legend"in f&&n(4,h=f.show_legend),"height"in f&&n(5,_=f.height),"width"in f&&n(6,k=f.width),"color_map"in f&&n(7,u=f.color_map),"container"in f&&n(8,g=f.container),"scale"in f&&n(9,L=f.scale),"min_width"in f&&n(10,M=f.min_width),"root"in f&&n(19,w=f.root),"root_url"in f&&n(20,N=f.root_url),"loading_status"in f&&n(11,T=f.loading_status)},t.$$.update=()=>{t.$$.dirty[0]&3932160&&(a!==r&&(n(21,r=a),H("change")),a?n(13,m=[Q(a[0],w,N),a[1].map(([f,O])=>[Q(f,w,N),O])]):n(13,m=null))},[l,s,i,o,h,_,k,u,g,L,M,T,c,m,G,H,J,K,a,w,N,r,p,x,$,ee,le]}class Ee extends te{constructor(e){super(),ne(this,e,Be,Me,se,{elem_id:0,elem_classes:1,visible:2,value:18,label:12,show_label:3,show_legend:4,height:5,width:6,color_map:7,container:8,scale:9,min_width:10,root:19,root_url:20,loading_status:11},null,[-1,-1])}}const ze=Ee,Fe=["static"],Ge=t=>({type:{payload:"[string, Array<[string, string]>]"},description:{payload:"path to base image, followed by a list of tuples [mask image path, label]"}});export{ze as Component,Ge as document,Fe as modes};
//# sourceMappingURL=index-f7fc4c5e.js.map
