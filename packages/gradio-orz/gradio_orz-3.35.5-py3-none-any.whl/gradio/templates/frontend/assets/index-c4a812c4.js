import{S as j,i as H,s as J,H as M,I as N,e as K,D as g,h as C,m as L,K as W,q as I,t as S,r as D,o as T,W as O,u as V,a5 as P,a7 as Q,a8 as R,a9 as Y,b as Z,a0 as x,J as p,L as $,a2 as ee,an as ie,z as le}from"./index-d3a1fb8c.js";import{a as ne}from"./Button-54d1361f.js";import{b as te}from"./ModifyUpload.svelte_svelte_type_style_lang-d2acacf0.js";/* empty css                                                    */import{X as se}from"./Blocks-0e8adcdf.js";function ae(n){let e;const i=n[16].default,l=P(i,n,n[18],null);return{c(){l&&l.c()},m(a,u){l&&l.m(a,u),e=!0},p(a,u){l&&l.p&&(!e||u&262144)&&Q(l,i,a,a[18],e?Y(i,a[18],u,null):R(a[18]),null)},i(a){e||(I(l,a),e=!0)},o(a){S(l,a),e=!1},d(a){l&&l.d(a)}}}function fe(n){let e,i,l,a,u,o,c,d,r;return o=new ne({props:{size:n[4],variant:n[8],elem_id:n[0],elem_classes:n[1],visible:n[2],scale:n[5],min_width:n[6],disabled:n[7]==="static",$$slots:{default:[ae]},$$scope:{ctx:n}}}),o.$on("click",n[11]),{c(){e=M("input"),u=N(),K(o.$$.fragment),g(e,"class","hide svelte-ydeks8"),g(e,"accept",n[10]),g(e,"type","file"),e.multiple=i=n[3]==="multiple"||void 0,g(e,"webkitdirectory",l=n[3]==="directory"||void 0),g(e,"mozdirectory",a=n[3]==="directory"||void 0)},m(f,_){C(f,e,_),n[17](e),C(f,u,_),L(o,f,_),c=!0,d||(r=[W(e,"change",n[12]),W(e,"click",n[13])],d=!0)},p(f,[_]){(!c||_&1024)&&g(e,"accept",f[10]),(!c||_&8&&i!==(i=f[3]==="multiple"||void 0))&&(e.multiple=i),(!c||_&8&&l!==(l=f[3]==="directory"||void 0))&&g(e,"webkitdirectory",l),(!c||_&8&&a!==(a=f[3]==="directory"||void 0))&&g(e,"mozdirectory",a);const m={};_&16&&(m.size=f[4]),_&256&&(m.variant=f[8]),_&1&&(m.elem_id=f[0]),_&2&&(m.elem_classes=f[1]),_&4&&(m.visible=f[2]),_&32&&(m.scale=f[5]),_&64&&(m.min_width=f[6]),_&128&&(m.disabled=f[7]==="static"),_&262144&&(m.$$scope={dirty:_,ctx:f}),o.$set(m)},i(f){c||(I(o.$$.fragment,f),c=!0)},o(f){S(o.$$.fragment,f),c=!1},d(f){f&&D(e),n[17](null),f&&D(u),T(o,f),d=!1,O(r)}}}function ue(n,e,i){let{$$slots:l={},$$scope:a}=e,{elem_id:u=""}=e,{elem_classes:o=[]}=e,{visible:c=!0}=e,{file_count:d}=e,{file_types:r=["file"]}=e,{include_file_metadata:f=!0}=e,{size:_="lg"}=e,{scale:m=null}=e,{min_width:v=void 0}=e,{mode:k="dynamic"}=e,{variant:A="secondary"}=e,w;const E=V();let y;r==null?y=null:(r=r.map(s=>s.startsWith(".")?s:s+"/*"),y=r.join(", "));const F=()=>{w.click()},t=s=>{let h=Array.from(s);if(s.length){d==="single"&&(h=[s[0]]);var B=[];h.forEach((U,X)=>{B[X]=f?{name:U.name,size:U.size,data:"",blob:U}:U,B.filter(G=>G!==void 0).length===s.length&&E("load",d=="single"?B[0]:B)})}},q=s=>{const h=s.target;h.files&&t(h.files)},z=s=>{const h=s.target;h.value&&(h.value="")};function b(s){Z[s?"unshift":"push"](()=>{w=s,i(9,w)})}return n.$$set=s=>{"elem_id"in s&&i(0,u=s.elem_id),"elem_classes"in s&&i(1,o=s.elem_classes),"visible"in s&&i(2,c=s.visible),"file_count"in s&&i(3,d=s.file_count),"file_types"in s&&i(14,r=s.file_types),"include_file_metadata"in s&&i(15,f=s.include_file_metadata),"size"in s&&i(4,_=s.size),"scale"in s&&i(5,m=s.scale),"min_width"in s&&i(6,v=s.min_width),"mode"in s&&i(7,k=s.mode),"variant"in s&&i(8,A=s.variant),"$$scope"in s&&i(18,a=s.$$scope)},[u,o,c,d,_,m,v,k,A,w,y,F,q,z,r,f,l,b,a]}class _e extends j{constructor(e){super(),H(this,e,ue,fe,J,{elem_id:0,elem_classes:1,visible:2,file_count:3,file_types:14,include_file_metadata:15,size:4,scale:5,min_width:6,mode:7,variant:8})}}function me(n){let e=n[11](n[3])+"",i;return{c(){i=p(e)},m(l,a){C(l,i,a)},p(l,a){a&2056&&e!==(e=l[11](l[3])+"")&&$(i,e)},d(l){l&&D(i)}}}function oe(n){let e,i;return e=new _e({props:{elem_id:n[0],elem_classes:n[1],visible:n[2],file_count:n[4],file_types:n[5],size:n[6],scale:n[7],min_width:n[8],mode:n[9],variant:n[10],$$slots:{default:[me]},$$scope:{ctx:n}}}),e.$on("click",n[15]),e.$on("load",n[12]),{c(){K(e.$$.fragment)},m(l,a){L(e,l,a),i=!0},p(l,[a]){const u={};a&1&&(u.elem_id=l[0]),a&2&&(u.elem_classes=l[1]),a&4&&(u.visible=l[2]),a&16&&(u.file_count=l[4]),a&32&&(u.file_types=l[5]),a&64&&(u.size=l[6]),a&128&&(u.scale=l[7]),a&256&&(u.min_width=l[8]),a&512&&(u.mode=l[9]),a&1024&&(u.variant=l[10]),a&133128&&(u.$$scope={dirty:a,ctx:l}),e.$set(u)},i(l){i||(I(e.$$.fragment,l),i=!0)},o(l){S(e.$$.fragment,l),i=!1},d(l){T(e,l)}}}function ce(n,e,i){let l;x(n,se,t=>i(11,l=t));let{elem_id:a=""}=e,{elem_classes:u=[]}=e,{visible:o=!0}=e,{label:c}=e,{value:d}=e,{file_count:r}=e,{file_types:f=["file"]}=e,{root:_}=e,{size:m="lg"}=e,{scale:v=null}=e,{min_width:k=void 0}=e,{mode:A="dynamic"}=e,{variant:w="secondary"}=e;async function E({detail:t}){i(13,d=t),await ee();let q=(Array.isArray(t)?t:[t]).map(z=>z.blob);ie(_,q).then(async z=>{z.error?(Array.isArray(t)?t:[t]).forEach(async(b,s)=>{b.data=await te(b.blob),b.blob=void 0}):(Array.isArray(t)?t:[t]).forEach((b,s)=>{z.files&&(b.orig_name=b.name,b.name=z.files[s],b.is_file=!0,b.blob=void 0)}),y("change",d),y("upload",t)})}const y=V();function F(t){le.call(this,n,t)}return n.$$set=t=>{"elem_id"in t&&i(0,a=t.elem_id),"elem_classes"in t&&i(1,u=t.elem_classes),"visible"in t&&i(2,o=t.visible),"label"in t&&i(3,c=t.label),"value"in t&&i(13,d=t.value),"file_count"in t&&i(4,r=t.file_count),"file_types"in t&&i(5,f=t.file_types),"root"in t&&i(14,_=t.root),"size"in t&&i(6,m=t.size),"scale"in t&&i(7,v=t.scale),"min_width"in t&&i(8,k=t.min_width),"mode"in t&&i(9,A=t.mode),"variant"in t&&i(10,w=t.variant)},[a,u,o,c,r,f,m,v,k,A,w,l,E,d,_,F]}class de extends j{constructor(e){super(),H(this,e,ce,oe,J,{elem_id:0,elem_classes:1,visible:2,label:3,value:13,file_count:4,file_types:5,root:14,size:6,scale:7,min_width:8,mode:9,variant:10})}}const ze=de,ye=["static","dynamic"];export{ze as Component,ye as modes};
//# sourceMappingURL=index-c4a812c4.js.map
