import{S as Z,i as F,s as G,C as A,D as _,h as k,F as w,G as V,r as v,H as T,u as se,as as K,I as B,O as J,J as D,L as R,K as S,W as ce,N as M,E as L,e as N,m as O,q as H,t as j,o as z,y as ue,ab as _e,f as me,j as de,k as ge,n as W,p as Y,z as he}from"./index-4a731cdb.js";import{g as be}from"./color-abe5fbb2.js";import{B as ke}from"./DropdownArrow.svelte_svelte_type_style_lang-25b2145a.js";import{B as ve}from"./BlockLabel-5f2d5dd2.js";import{E as pe}from"./Empty-e6410b38.js";function we(t){let e,n,l;return{c(){e=A("svg"),n=A("path"),l=A("path"),_(n,"fill","currentColor"),_(n,"d","M12 15H5a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5V5a1 1 0 0 0-1-1H3V2h6a3 3 0 0 1 3 3zM5 9a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h5V9zm15 14v2a1 1 0 0 0 1 1h5v-4h-5a1 1 0 0 0-1 1z"),_(l,"fill","currentColor"),_(l,"d","M2 30h28V2Zm26-2h-7a3 3 0 0 1-3-3v-2a3 3 0 0 1 3-3h5v-2a1 1 0 0 0-1-1h-6v-2h6a3 3 0 0 1 3 3Z"),_(e,"xmlns","http://www.w3.org/2000/svg"),_(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),_(e,"aria-hidden","true"),_(e,"role","img"),_(e,"class","iconify iconify--carbon"),_(e,"width","100%"),_(e,"height","100%"),_(e,"preserveAspectRatio","xMidYMid meet"),_(e,"viewBox","0 0 32 32")},m(s,o){k(s,e,o),w(e,n),w(e,l)},p:V,i:V,o:V,d(s){s&&v(e)}}}class oe extends Z{constructor(e){super(),F(this,e,null,we,G,{})}}function P(t,e,n){const l=t.slice();l[18]=e[n][0],l[24]=e[n][1];const s=typeof l[24]=="string"?parseInt(l[24]):l[24];return l[25]=s,l}function Q(t,e,n){const l=t.slice();return l[18]=e[n][0],l[19]=e[n][1],l[21]=n,l}function U(t,e,n){const l=t.slice();return l[19]=e[n][0],l[22]=e[n][1],l[21]=n,l}function ye(t){let e,n,l=t[1]&&X(),s=t[0],o=[];for(let a=0;a<s.length;a+=1)o[a]=x(P(t,s,a));return{c(){l&&l.c(),e=B(),n=T("div");for(let a=0;a<o.length;a+=1)o[a].c();_(n,"class","textfield svelte-19on2m6"),_(n,"data-testid","highlighted-text:textfield")},m(a,f){l&&l.m(a,f),k(a,e,f),k(a,n,f);for(let i=0;i<o.length;i+=1)o[i]&&o[i].m(n,null)},p(a,f){if(a[1]?l||(l=X(),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f&1){s=a[0];let i;for(i=0;i<s.length;i+=1){const c=P(a,s,i);o[i]?o[i].p(c,f):(o[i]=x(c),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=s.length}},d(a){l&&l.d(a),a&&v(e),a&&v(n),J(o,a)}}}function He(t){let e,n,l=t[1]&&$(t),s=t[0],o=[];for(let a=0;a<s.length;a+=1)o[a]=te(Q(t,s,a));return{c(){l&&l.c(),e=B(),n=T("div");for(let a=0;a<o.length;a+=1)o[a].c();_(n,"class","textfield svelte-19on2m6")},m(a,f){l&&l.m(a,f),k(a,e,f),k(a,n,f);for(let i=0;i<o.length;i+=1)o[i]&&o[i].m(n,null)},p(a,f){if(a[1]?l?l.p(a,f):(l=$(a),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null),f&95){s=a[0];let i;for(i=0;i<s.length;i+=1){const c=Q(a,s,i);o[i]?o[i].p(c,f):(o[i]=te(c),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=s.length}},d(a){l&&l.d(a),a&&v(e),a&&v(n),J(o,a)}}}function X(t){let e;return{c(){e=T("div"),e.innerHTML=`<span>-1</span> 
				<span>0</span> 
				<span>+1</span>`,_(e,"class","color-legend svelte-19on2m6"),_(e,"data-testid","highlighted-text:color-legend")},m(n,l){k(n,e,l)},d(n){n&&v(e)}}}function x(t){let e,n,l=t[18]+"",s,o,a;return{c(){e=T("span"),n=T("span"),s=D(l),o=B(),_(n,"class","text svelte-19on2m6"),_(e,"class","textspan score-text svelte-19on2m6"),_(e,"style",a="background-color: rgba("+(t[25]<0?"128, 90, 213,"+-t[25]:"239, 68, 60,"+t[25])+")")},m(f,i){k(f,e,i),w(e,n),w(n,s),w(e,o)},p(f,i){i&1&&l!==(l=f[18]+"")&&R(s,l),i&1&&a!==(a="background-color: rgba("+(f[25]<0?"128, 90, 213,"+-f[25]:"239, 68, 60,"+f[25])+")")&&_(e,"style",a)},d(f){f&&v(e)}}}function $(t){let e,n=Object.entries(t[3]),l=[];for(let s=0;s<n.length;s+=1)l[s]=ee(U(t,n,s));return{c(){e=T("div");for(let s=0;s<l.length;s+=1)l[s].c();_(e,"class","category-legend svelte-19on2m6"),_(e,"data-testid","highlighted-text:category-legend")},m(s,o){k(s,e,o);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null)},p(s,o){if(o&392){n=Object.entries(s[3]);let a;for(a=0;a<n.length;a+=1){const f=U(s,n,a);l[a]?l[a].p(f,o):(l[a]=ee(f),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=n.length}},d(s){s&&v(e),J(l,s)}}}function ee(t){let e,n=t[19]+"",l,s,o,a,f;function i(){return t[10](t[19])}function c(){return t[11](t[19])}return{c(){e=T("div"),l=D(n),s=B(),_(e,"class","category-label svelte-19on2m6"),_(e,"style",o="background-color:"+t[22].secondary)},m(u,b){k(u,e,b),w(e,l),w(e,s),a||(f=[S(e,"mouseover",i),S(e,"focus",c),S(e,"mouseout",t[12]),S(e,"blur",t[13])],a=!0)},p(u,b){t=u,b&8&&n!==(n=t[19]+"")&&R(l,n),b&8&&o!==(o="background-color:"+t[22].secondary)&&_(e,"style",o)},d(u){u&&v(e),a=!1,ce(f)}}}function le(t){let e,n,l=t[19]+"",s;return{c(){e=D(`Â \r
						`),n=T("span"),s=D(l),_(n,"class","label svelte-19on2m6"),L(n,"background-color",t[19]===null||t[4]&&t[4]!==t[19]?"":t[3][t[19]].primary)},m(o,a){k(o,e,a),k(o,n,a),w(n,s)},p(o,a){a&1&&l!==(l=o[19]+"")&&R(s,l),a&25&&L(n,"background-color",o[19]===null||o[4]&&o[4]!==o[19]?"":o[3][o[19]].primary)},d(o){o&&v(e),o&&v(n)}}}function te(t){let e,n,l=t[18]+"",s,o,a,f,i,c=!t[1]&&t[19]!==null&&le(t);function u(){return t[14](t[21],t[18],t[19])}return{c(){e=T("span"),n=T("span"),s=D(l),o=B(),c&&c.c(),a=B(),_(n,"class","text svelte-19on2m6"),M(n,"no-label",!t[3][t[19]]),_(e,"class","textspan svelte-19on2m6"),M(e,"no-cat",t[19]===null||t[4]&&t[4]!==t[19]),M(e,"hl",t[19]!==null),M(e,"selectable",t[2]),L(e,"background-color",t[19]===null||t[4]&&t[4]!==t[19]?"":t[3][t[19]].secondary)},m(b,d){k(b,e,d),w(e,n),w(n,s),w(e,o),c&&c.m(e,null),w(e,a),f||(i=S(e,"click",u),f=!0)},p(b,d){t=b,d&1&&l!==(l=t[18]+"")&&R(s,l),d&9&&M(n,"no-label",!t[3][t[19]]),!t[1]&&t[19]!==null?c?c.p(t,d):(c=le(t),c.c(),c.m(e,a)):c&&(c.d(1),c=null),d&17&&M(e,"no-cat",t[19]===null||t[4]&&t[4]!==t[19]),d&1&&M(e,"hl",t[19]!==null),d&4&&M(e,"selectable",t[2]),d&25&&L(e,"background-color",t[19]===null||t[4]&&t[4]!==t[19]?"":t[3][t[19]].secondary)},d(b){b&&v(e),c&&c.d(),f=!1,i()}}}function Te(t){let e;function n(o,a){return o[5]==="categories"?He:ye}let l=n(t),s=l(t);return{c(){e=T("div"),s.c(),_(e,"class","container svelte-19on2m6")},m(o,a){k(o,e,a),s.m(e,null)},p(o,[a]){l===(l=n(o))&&s?s.p(o,a):(s.d(1),s=l(o),s&&(s.c(),s.m(e,null)))},i:V,o:V,d(o){o&&v(e),s.d()}}}function je(t,e,n){const l=typeof document<"u";let{value:s=[]}=e,{show_legend:o=!1}=e,{color_map:a={}}=e,{selectable:f=!1}=e,i,c={},u="";function b(h,p){if(!i){var y=document.createElement("canvas");i=y.getContext("2d")}i.fillStyle=h,i.fillRect(0,0,1,1);const[q,fe,re]=i.getImageData(0,0,1,1).data;return i.clearRect(0,0,1,1),`rgba(${q}, ${fe}, ${re}, ${255/p})`}const d=se();let C;function r(h){n(4,u=h)}function g(){n(4,u="")}const I=h=>r(h),E=h=>r(h),m=()=>g(),ae=()=>g(),ie=(h,p,y)=>{d("select",{index:h,value:[p,y]})};return t.$$set=h=>{"value"in h&&n(0,s=h.value),"show_legend"in h&&n(1,o=h.show_legend),"color_map"in h&&n(9,a=h.color_map),"selectable"in h&&n(2,f=h.selectable)},t.$$.update=()=>{if(t.$$.dirty&513){let h=function(){for(const p in a){const y=a[p].trim();y in K?n(3,c[p]=K[y],c):n(3,c[p]={primary:l?b(a[p],1):a[p],secondary:l?b(a[p],.5):a[p]},c)}};if(a||n(9,a={}),s.length>0){for(let[p,y]of s)if(y!==null)if(typeof y=="string"){if(n(5,C="categories"),!(y in a)){let q=be(Object.keys(a).length);n(9,a[y]=q,a)}}else n(5,C="scores")}h()}},[s,o,f,c,u,C,d,r,g,a,I,E,m,ae,ie]}class Ce extends Z{constructor(e){super(),F(this,e,je,Te,G,{value:0,show_legend:1,color_map:9,selectable:2})}}function ne(t){let e,n;return e=new ve({props:{Icon:oe,label:t[6],float:!1,disable:t[7]===!1}}),{c(){N(e.$$.fragment)},m(l,s){O(e,l,s),n=!0},p(l,s){const o={};s&64&&(o.label=l[6]),s&128&&(o.disable=l[7]===!1),e.$set(o)},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){z(e,l)}}}function Me(t){let e,n;return e=new pe({props:{$$slots:{default:[Ee]},$$scope:{ctx:t}}}),{c(){N(e.$$.fragment)},m(l,s){O(e,l,s),n=!0},p(l,s){const o={};s&32768&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){z(e,l)}}}function Be(t){let e,n;return e=new Ce({props:{selectable:t[10],value:t[4],show_legend:t[5],color_map:t[0]}}),e.$on("select",t[13]),{c(){N(e.$$.fragment)},m(l,s){O(e,l,s),n=!0},p(l,s){const o={};s&1024&&(o.selectable=l[10]),s&16&&(o.value=l[4]),s&32&&(o.show_legend=l[5]),s&1&&(o.color_map=l[0]),e.$set(o)},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){z(e,l)}}}function Ee(t){let e,n;return e=new oe({}),{c(){N(e.$$.fragment)},m(l,s){O(e,l,s),n=!0},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){z(e,l)}}}function Ne(t){let e,n,l,s,o,a,f;const i=[t[11]];let c={};for(let r=0;r<i.length;r+=1)c=ue(c,i[r]);e=new _e({props:c});let u=t[6]&&ne(t);const b=[Be,Me],d=[];function C(r,g){return r[4]?0:1}return s=C(t),o=d[s]=b[s](t),{c(){N(e.$$.fragment),n=B(),u&&u.c(),l=B(),o.c(),a=me()},m(r,g){O(e,r,g),k(r,n,g),u&&u.m(r,g),k(r,l,g),d[s].m(r,g),k(r,a,g),f=!0},p(r,g){const I=g&2048?de(i,[ge(r[11])]):{};e.$set(I),r[6]?u?(u.p(r,g),g&64&&H(u,1)):(u=ne(r),u.c(),H(u,1),u.m(l.parentNode,l)):u&&(W(),j(u,1,1,()=>{u=null}),Y());let E=s;s=C(r),s===E?d[s].p(r,g):(W(),j(d[E],1,1,()=>{d[E]=null}),Y(),o=d[s],o?o.p(r,g):(o=d[s]=b[s](r),o.c()),H(o,1),o.m(a.parentNode,a))},i(r){f||(H(e.$$.fragment,r),H(u),H(o),f=!0)},o(r){j(e.$$.fragment,r),j(u),j(o),f=!1},d(r){z(e,r),r&&v(n),u&&u.d(r),r&&v(l),d[s].d(r),r&&v(a)}}}function Oe(t){let e,n;return e=new ke({props:{test_id:"highlighted-text",visible:t[3],elem_id:t[1],elem_classes:t[2],padding:!1,container:t[7],scale:t[8],min_width:t[9],$$slots:{default:[Ne]},$$scope:{ctx:t}}}),{c(){N(e.$$.fragment)},m(l,s){O(e,l,s),n=!0},p(l,[s]){const o={};s&8&&(o.visible=l[3]),s&2&&(o.elem_id=l[1]),s&4&&(o.elem_classes=l[2]),s&128&&(o.container=l[7]),s&256&&(o.scale=l[8]),s&512&&(o.min_width=l[9]),s&36081&&(o.$$scope={dirty:s,ctx:l}),e.$set(o)},i(l){n||(H(e.$$.fragment,l),n=!0)},o(l){j(e.$$.fragment,l),n=!1},d(l){z(e,l)}}}function ze(t,e,n){let{elem_id:l=""}=e,{elem_classes:s=[]}=e,{visible:o=!0}=e,{value:a}=e,f,{show_legend:i}=e,{color_map:c={}}=e,{label:u="Highlighted Text"}=e,{container:b=!1}=e,{scale:d=null}=e,{min_width:C=void 0}=e,{selectable:r=!1}=e,{loading_status:g}=e;const I=se();function E(m){he.call(this,t,m)}return t.$$set=m=>{"elem_id"in m&&n(1,l=m.elem_id),"elem_classes"in m&&n(2,s=m.elem_classes),"visible"in m&&n(3,o=m.visible),"value"in m&&n(4,a=m.value),"show_legend"in m&&n(5,i=m.show_legend),"color_map"in m&&n(0,c=m.color_map),"label"in m&&n(6,u=m.label),"container"in m&&n(7,b=m.container),"scale"in m&&n(8,d=m.scale),"min_width"in m&&n(9,C=m.min_width),"selectable"in m&&n(10,r=m.selectable),"loading_status"in m&&n(11,g=m.loading_status)},t.$$.update=()=>{t.$$.dirty&1&&!c&&Object.keys(c).length&&n(0,c),t.$$.dirty&4112&&a!==f&&(n(12,f=a),I("change"))},[c,l,s,o,a,i,u,b,d,C,r,g,f,E]}class Ie extends Z{constructor(e){super(),F(this,e,ze,Oe,G,{elem_id:1,elem_classes:2,visible:3,value:4,show_legend:5,color_map:0,label:6,container:7,scale:8,min_width:9,selectable:10,loading_status:11})}}const qe=Ie,Ae=["static"],Ze=t=>({type:{payload:"Array<[string, string | number]>"},description:{payload:"list of text spans and corresponding label / value"}});export{qe as Component,Ze as document,Ae as modes};
//# sourceMappingURL=index-24c51303.js.map
