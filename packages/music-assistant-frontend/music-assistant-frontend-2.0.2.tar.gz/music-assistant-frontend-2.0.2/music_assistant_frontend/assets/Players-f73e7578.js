import{l as L,I as M,r as A,O as n,a6 as F,b as I,w as T,a0 as j,q as o,v as p,x as a,j as l,y as b,z,F as O,Q as R,L as u,N as m,A as r,k as g,M as v}from"./index-4e9c0066.js";import{_ as U,V as $}from"./ProviderIcon.vue_vue_type_script_setup_true_lang-a5d9de60.js";import{V as P,b as q}from"./VMenu-1368abb6.js";import{c as G,V as _}from"./VCard-e45f718f.js";import{V as Q}from"./VContainer-169e75da.js";import{V as k,j as C}from"./VBtn-61a2102f.js";import"./VDivider-267318d1.js";/* empty css              */const S={class:"line-clamp-1"},Y={class:"line-clamp-1"},x={class:"list-actions"},H={key:0},J={key:1},ie=L({__name:"Players",setup(K){const B=M(),d=A([]);console.log(d);const N=n.subscribe_multi([F.PLAYER_CONFIG_UPDATED],()=>{h()});I(N);const h=async function(){d.value=await n.getPlayerConfigs()},w=function(e){n.removePlayerConfig(e),d.value=d.value.filter(c=>c.player_id!=e)},f=function(e){e in n.players&&B.push(`/settings/editplayer/${e}`)},D=function(e){e.enabled=!e.enabled,n.savePlayerConfig(e.player_id,{enabled:e.enabled})},y=function(e){var c;return e.name||((c=n.players[e.player_id])==null?void 0:c.display_name)||e.default_name||e.player_id};return T(()=>n.players,e=>{e&&h()},{immediate:!0}),(e,c)=>{const E=j("hold");return o(),p(Q,null,{default:a(()=>[l(G,null,{default:a(()=>[l(P,null,{default:a(()=>[(o(!0),b(O,null,z(d.value.sort((t,i)=>y(t).localeCompare(y(i))),t=>R((o(),p(_,{class:"list-item-main",link:"",onClick:i=>f(t.player_id),key:t.player_id},{prepend:a(()=>[l(U,{domain:t.provider,size:"40px",class:"listitem-media-thumb",style:{"margin-left":"10px"}},null,8,["domain"])]),title:a(()=>[u("div",S,m(y(t)),1)]),subtitle:a(()=>{var i;return[u("div",Y,m(((i=r(n).providers[t.provider])==null?void 0:i.name)||t.provider),1)]}),append:a(()=>{var i;return[u("div",x,[t.enabled?(i=r(n).players[t.player_id])!=null&&i.available?v("",!0):(o(),b("div",J,[l($,{location:"bottom"},{activator:a(({props:s})=>[l(k,g({class:"buttonicon",variant:"plain",ripple:!1,icon:!0},s),{default:a(()=>[l(C,{icon:"mdi-timer-sand"})]),_:2},1040)]),default:a(()=>[u("span",null,m(e.$t("settings.player_not_available")),1)]),_:1})])):(o(),b("div",H,[l($,{location:"bottom"},{activator:a(({props:s})=>[l(k,g({class:"buttonicon",variant:"plain",ripple:!1,icon:!0},s),{default:a(()=>[l(C,{icon:"mdi-cancel"})]),_:2},1040)]),default:a(()=>[u("span",null,m(e.$t("settings.player_disabled")),1)]),_:1})]))]),l(q,{location:"bottom end"},{activator:a(({props:s})=>[l(k,g({class:"buttonicon",variant:"plain",ripple:!1,icon:!0},s),{default:a(()=>[l(C,{icon:"mdi-dots-vertical"})]),_:2},1040)]),default:a(()=>[l(P,null,{default:a(()=>{var s;return[t.enabled&&t.player_id in r(n).players?(o(),p(_,{key:0,class:"list-item-main",title:e.$t("settings.configure"),"prepend-icon":"mdi-cog",onClick:V=>f(t.player_id)},null,8,["title","onClick"])):v("",!0),l(_,{class:"list-item-main",title:t.enabled?e.$t("settings.disable"):e.$t("settings.enable"),"prepend-icon":"mdi-cog",onClick:V=>D(t)},null,8,["title","onClick"]),r(n).providerManifests[t.provider].documentation?(o(),p(_,{key:1,class:"list-item-main",title:e.$t("settings.documentation"),"prepend-icon":"mdi-bookshelf",href:r(n).providerManifests[t.provider].documentation,target:"_blank"},null,8,["title","href"])):v("",!0),(s=r(n).players[t.player_id])!=null&&s.available?v("",!0):(o(),p(_,{key:2,class:"list-item-main",title:e.$t("settings.delete"),"prepend-icon":"mdi-delete",onClick:V=>w(t.player_id)},null,8,["title","onClick"]))]}),_:2},1024)]),_:2},1024)]}),_:2},1032,["onClick"])),[[E,()=>{f(t.player_id)}]])),128))]),_:1})]),_:1})]),_:1})}}});export{ie as default};
