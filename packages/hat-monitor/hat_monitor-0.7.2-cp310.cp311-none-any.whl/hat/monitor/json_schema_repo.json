{"hat-monitor": {"main.yaml": {"id": "hat-monitor://main.yaml#", "title": "Monitor Server", "description": "Monitor Server's configuration", "type": "object", "required": ["type", "log", "server", "master", "slave", "ui"], "properties": {"type": {"const": "monitor", "description": "configuration type identification"}, "version": {"type": "string", "description": "component version"}, "log": {"$ref": "hat-json://logging.yaml#"}, "server": {"$ref": "hat-monitor://main.yaml#/definitions/server"}, "master": {"$ref": "hat-monitor://main.yaml#/definitions/master"}, "slave": {"$ref": "hat-monitor://main.yaml#/definitions/slave"}, "ui": {"$ref": "hat-monitor://main.yaml#/definitions/ui"}}, "definitions": {"server": {"title": "Local monitor server", "type": "object", "required": ["address", "default_rank"], "properties": {"address": {"title": "Listening address", "type": "string", "default": "tcp+sbs://127.0.0.1:23010"}, "default_rank": {"type": "integer"}}}, "master": {"title": "Master interface", "type": "object", "required": ["address", "default_algorithm", "group_algorithms"], "properties": {"address": {"title": "Listening address", "type": "string", "default": "tcp+sbs://127.0.0.1:23011"}, "default_algorithm": {"$ref": "hat-monitor://main.yaml#/definitions/algorithm"}, "group_algorithms": {"description": "keys represent group names\n", "type": "object", "patternProperties": {"(.)+": {"$ref": "hat-monitor://main.yaml#/definitions/algorithm"}}}}}, "slave": {"type": "object", "required": ["parents", "connect_timeout", "connect_retry_count", "connect_retry_delay"], "properties": {"parents": {"title": "parent addresses", "type": "array", "items": {"type": "string"}}, "connect_timeout": {"type": "number"}, "connect_retry_count": {"type": "integer"}, "connect_retry_delay": {"type": "number"}}}, "ui": {"title": "UI Web Server", "type": "object", "required": ["address"], "properties": {"address": {"title": "UI address", "type": "string", "default": "http://127.0.0.1:23022"}}}, "algorithm": {"enum": ["BLESS_ALL", "BLESS_ONE"]}}}, "client.yaml": {"id": "hat-monitor://client.yaml#", "title": "Monitor client", "description": "Monitor client's configuration", "type": "object", "required": ["name", "group", "monitor_address"], "properties": {"name": {"type": "string"}, "group": {"type": "string"}, "monitor_address": {"type": "string"}}}, "juggler.yaml": {"id": "hat-monitor://juggler.yaml#", "definitions": {"state": {"type": "object", "required": ["mid", "local_components", "global_components"], "properties": {"mid": {"type": "integer"}, "local_components": {"type": "array", "items": {"type": "object", "required": ["cid", "name", "group", "data", "rank"], "properties": {"cid": {"type": "integer"}, "name": {"type": ["string", "null"]}, "group": {"type": ["string", "null"]}, "rank": {"type": "integer"}}}}, "global_components": {"type": "array", "items": {"type": "object", "required": ["cid", "mid", "name", "group", "data", "rank", "blessing_req", "blessing_res"], "properties": {"cid": {"type": "integer"}, "mid": {"type": "integer"}, "name": {"type": ["string", "null"]}, "group": {"type": ["string", "null"]}, "rank": {"type": "integer"}, "blessing_req": {"type": "object", "required": ["token", "timestamp"], "properties": {"token": {"type": ["integer", "null"]}, "timestamp": {"type": ["float", "null"]}}}, "blessing_res": {"type": "object", "required": ["token", "ready"], "properties": {"token": {"type": ["integer", "null"]}, "ready": {"type": "boolean"}}}}}}}}, "request": {"set_rank": {"type": "object", "required": ["cid", "rank"], "properties": {"cid": {"type": "integer"}, "rank": {"type": "integer"}}}}}}}}