{"version":3,"file":"chunks/app_components_performance_searchBar_tsx-app_views_performance_landing_utils_tsx-app_views_pe-e5f306.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/performance/searchBar.tsx","webpack:///./app/views/performance/landing/utils.tsx","webpack:///./app/views/performance/vitalDetail/utils.tsx"],"sourcesContent":["import {useCallback, useRef, useState} from 'react';\nimport {browserHistory} from 'react-router';\nimport styled from '@emotion/styled';\nimport debounce from 'lodash/debounce';\n\nimport BaseSearchBar from 'sentry/components/searchBar';\nimport {getSearchGroupWithItemMarkedActive} from 'sentry/components/smartSearchBar/utils';\nimport {DEFAULT_DEBOUNCE_DURATION} from 'sentry/constants';\nimport {t} from 'sentry/locale';\nimport {Organization} from 'sentry/types';\nimport EventView from 'sentry/utils/discover/eventView';\nimport {doDiscoverQuery} from 'sentry/utils/discover/genericDiscoverQuery';\nimport {MutableSearch} from 'sentry/utils/tokenizeSearch';\nimport useApi from 'sentry/utils/useApi';\nimport useOnClickOutside from 'sentry/utils/useOnClickOutside';\nimport {normalizeUrl} from 'sentry/utils/withDomainRequired';\nimport {transactionSummaryRouteWithQuery} from 'sentry/views/performance/transactionSummary/utils';\n\nimport SearchDropdown from '../smartSearchBar/searchDropdown';\nimport {ItemType, SearchGroup} from '../smartSearchBar/types';\n\nexport type SearchBarProps = {\n  eventView: EventView;\n  onSearch: (query: string) => void;\n  organization: Organization;\n  query: string;\n  className?: string;\n};\n\nfunction SearchBar(props: SearchBarProps) {\n  const {\n    organization,\n    eventView: _eventView,\n    onSearch,\n    query: searchQuery,\n    className,\n  } = props;\n\n  const [searchResults, setSearchResults] = useState<SearchGroup[]>([]);\n  const transactionCount = searchResults[0]?.children?.length || 0;\n  const [highlightedItemIndex, setHighlightedItemIndex] = useState(-1);\n  const [isDropdownOpen, setIsDropdownOpen] = useState(false);\n  const openDropdown = () => setIsDropdownOpen(true);\n  const closeDropdown = () => setIsDropdownOpen(false);\n  const [loading, setLoading] = useState(false);\n  const [searchString, setSearchString] = useState(searchQuery);\n  const containerRef = useRef<HTMLDivElement>(null);\n  useOnClickOutside(containerRef, useCallback(closeDropdown, []));\n\n  const api = useApi();\n  const eventView = _eventView.clone();\n\n  const url = `/organizations/${organization.slug}/events/`;\n\n  const projectIdStrings = (eventView.project as Readonly<number>[])?.map(String);\n\n  const handleSearchChange = query => {\n    setSearchString(query);\n\n    if (query.length === 0) {\n      onSearch('');\n    }\n\n    if (query.length < 3) {\n      setSearchResults([]);\n      closeDropdown();\n      return;\n    }\n\n    openDropdown();\n    getSuggestedTransactions(query);\n  };\n\n  const handleKeyDown = (event: React.KeyboardEvent) => {\n    const {key} = event;\n\n    if (loading) {\n      return;\n    }\n\n    if (key === 'Escape' && isDropdownOpen) {\n      closeDropdown();\n      return;\n    }\n\n    if (\n      (key === 'ArrowUp' || key === 'ArrowDown') &&\n      isDropdownOpen &&\n      transactionCount > 0\n    ) {\n      const currentHighlightedItem = searchResults[0].children[highlightedItemIndex];\n      const nextHighlightedItemIndex =\n        (highlightedItemIndex + transactionCount + (key === 'ArrowUp' ? -1 : 1)) %\n        transactionCount;\n      setHighlightedItemIndex(nextHighlightedItemIndex);\n      const nextHighlightedItem = searchResults[0].children[nextHighlightedItemIndex];\n\n      let newSearchResults = searchResults;\n      if (currentHighlightedItem) {\n        newSearchResults = getSearchGroupWithItemMarkedActive(\n          searchResults,\n          currentHighlightedItem,\n          false\n        );\n      }\n\n      if (nextHighlightedItem) {\n        newSearchResults = getSearchGroupWithItemMarkedActive(\n          newSearchResults,\n          nextHighlightedItem,\n          true\n        );\n      }\n\n      setSearchResults(newSearchResults);\n      return;\n    }\n\n    if (key === 'Enter') {\n      event.preventDefault();\n      const currentItem = searchResults[0]?.children[highlightedItemIndex];\n\n      if (currentItem?.value) {\n        handleChooseItem(currentItem.value);\n      } else {\n        handleSearch(searchString, true);\n      }\n    }\n  };\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const getSuggestedTransactions = useCallback(\n    debounce(\n      async query => {\n        try {\n          setLoading(true);\n          const conditions = new MutableSearch('');\n          conditions.addFilterValues('transaction', [wrapQueryInWildcards(query)], false);\n          conditions.addFilterValues('event.type', ['transaction']);\n\n          // clear any active requests\n          if (Object.keys(api.activeRequests).length) {\n            api.clear();\n          }\n\n          const [results] = await doDiscoverQuery<{\n            data: DataItem[];\n          }>(api, url, {\n            field: ['transaction', 'project_id', 'count()'],\n            project: projectIdStrings,\n            sort: '-count()',\n            query: conditions.formatString(),\n            statsPeriod: eventView.statsPeriod,\n            referrer: 'api.performance.transaction-name-search-bar',\n          });\n\n          const parsedResults = results.data.reduce(\n            (searchGroup: SearchGroup, item) => {\n              searchGroup.children.push({\n                value: encodeItemToValue(item),\n                title: item.transaction,\n                type: ItemType.LINK,\n                desc: '',\n              });\n              return searchGroup;\n            },\n            {\n              title: 'All Transactions',\n              children: [],\n              icon: null,\n              type: 'header',\n            }\n          );\n\n          setHighlightedItemIndex(-1);\n\n          setSearchResults([parsedResults]);\n        } catch (_) {\n          throw new Error('Unable to fetch event field values');\n        } finally {\n          setLoading(false);\n        }\n      },\n      DEFAULT_DEBOUNCE_DURATION,\n      {leading: true}\n    ),\n    [api, url, eventView.statsPeriod, projectIdStrings.join(',')]\n  );\n\n  const handleChooseItem = (value: string) => {\n    const item = decodeValueToItem(value);\n    handleSearch(item.transaction, false);\n  };\n\n  const handleClickItemIcon = (value: string) => {\n    const item = decodeValueToItem(value);\n    navigateToItemTransactionSummary(item);\n  };\n\n  const handleSearch = (query: string, asRawText: boolean) => {\n    setSearchResults([]);\n    setSearchString(query);\n    query = new MutableSearch(query).formatString();\n\n    const fullQuery = asRawText ? query : `transaction:\"${query}\"`;\n    onSearch(query ? fullQuery : '');\n    closeDropdown();\n  };\n\n  const navigateToItemTransactionSummary = (item: DataItem) => {\n    const {transaction, project_id} = item;\n\n    const query = eventView.generateQueryStringObject();\n    setSearchResults([]);\n\n    const next = transactionSummaryRouteWithQuery({\n      orgSlug: organization.slug,\n      transaction,\n      projectID: String(project_id),\n      query,\n    });\n\n    browserHistory.push(normalizeUrl(next));\n  };\n\n  return (\n    <Container\n      className={className || ''}\n      data-test-id=\"transaction-search-bar\"\n      ref={containerRef}\n    >\n      <BaseSearchBar\n        placeholder={t('Search Transactions')}\n        onChange={handleSearchChange}\n        onKeyDown={handleKeyDown}\n        query={searchString}\n      />\n      {isDropdownOpen && (\n        <SearchDropdown\n          maxMenuHeight={300}\n          searchSubstring={searchString}\n          loading={loading}\n          items={searchResults}\n          onClick={handleChooseItem}\n          onIconClick={handleClickItemIcon}\n        />\n      )}\n    </Container>\n  );\n}\n\nconst encodeItemToValue = (item: DataItem) => {\n  return `${item.transaction}:${item.project_id}`;\n};\n\nconst decodeValueToItem = (value: string): DataItem => {\n  const lastIndex = value.lastIndexOf(':');\n\n  return {\n    project_id: parseInt(value.slice(lastIndex + 1), 10),\n    transaction: value.slice(0, lastIndex),\n  };\n};\n\ninterface DataItem {\n  project_id: number;\n  transaction: string;\n  'count()'?: number;\n}\n\nexport const wrapQueryInWildcards = (query: string) => {\n  if (!query.startsWith('*')) {\n    query = '*' + query;\n  }\n\n  if (!query.endsWith('*')) {\n    query = query + '*';\n  }\n\n  return query;\n};\n\nconst Container = styled('div')`\n  position: relative;\n`;\n\nexport default SearchBar;\n","import {browserHistory} from 'react-router';\nimport {Location} from 'history';\nimport omit from 'lodash/omit';\n\nimport {t} from 'sentry/locale';\nimport {Organization, Project} from 'sentry/types';\nimport {trackAnalytics} from 'sentry/utils/analytics';\nimport EventView from 'sentry/utils/discover/eventView';\nimport {\n  formatAbbreviatedNumber,\n  formatFloat,\n  formatPercentage,\n  getDuration,\n} from 'sentry/utils/formatters';\nimport {HistogramData} from 'sentry/utils/performance/histogram/types';\nimport {decodeScalar} from 'sentry/utils/queryString';\nimport {MutableSearch} from 'sentry/utils/tokenizeSearch';\n\nimport {AxisOption, getTermHelp, PerformanceTerm} from '../data';\nimport {Rectangle} from '../transactionSummary/transactionVitals/types';\nimport {platformToPerformanceType, ProjectPerformanceType} from '../utils';\n\nexport const LEFT_AXIS_QUERY_KEY = 'left';\nexport const RIGHT_AXIS_QUERY_KEY = 'right';\n\ntype LandingDisplay = {\n  field: LandingDisplayField;\n  label: string;\n};\n\nexport enum LandingDisplayField {\n  ALL = 'all',\n  FRONTEND_PAGELOAD = 'frontend_pageload',\n  FRONTEND_OTHER = 'frontend_other',\n  BACKEND = 'backend',\n  MOBILE = 'mobile',\n}\n\nexport const LANDING_DISPLAYS = [\n  {\n    label: t('All Transactions'),\n    field: LandingDisplayField.ALL,\n  },\n  {\n    label: t('Web Vitals'),\n    field: LandingDisplayField.FRONTEND_PAGELOAD,\n  },\n  {\n    label: t('Frontend'),\n    field: LandingDisplayField.FRONTEND_OTHER,\n  },\n  {\n    label: t('Backend'),\n    field: LandingDisplayField.BACKEND,\n  },\n  {\n    label: t('Mobile'),\n    field: LandingDisplayField.MOBILE,\n  },\n];\n\nexport function excludeTransaction(\n  transaction: string | React.ReactText,\n  props: {eventView: EventView; location: Location}\n) {\n  const {eventView, location} = props;\n\n  const searchConditions = new MutableSearch(eventView.query);\n  searchConditions.addFilterValues('!transaction', [`${transaction}`]);\n\n  browserHistory.push({\n    pathname: location.pathname,\n    query: {\n      ...location.query,\n      cursor: undefined,\n      query: searchConditions.formatString(),\n    },\n  });\n}\n\nexport function getLandingDisplayFromParam(location: Location) {\n  const landingField = decodeScalar(location?.query?.landingDisplay);\n\n  const display = LANDING_DISPLAYS.find(({field}) => field === landingField);\n  return display;\n}\n\nexport function getDefaultDisplayForPlatform(projects: Project[], eventView?: EventView) {\n  const defaultDisplayField = getDefaultDisplayFieldForPlatform(projects, eventView);\n\n  const defaultDisplay = LANDING_DISPLAYS.find(\n    ({field}) => field === defaultDisplayField\n  );\n  return defaultDisplay || LANDING_DISPLAYS[0];\n}\n\nexport function getCurrentLandingDisplay(\n  location: Location,\n  projects: Project[],\n  eventView?: EventView\n): LandingDisplay {\n  const display = getLandingDisplayFromParam(location);\n  if (display) {\n    return display;\n  }\n\n  return getDefaultDisplayForPlatform(projects, eventView);\n}\n\nexport function handleLandingDisplayChange(\n  field: LandingDisplayField,\n  location: Location,\n  projects: Project[],\n  organization: Organization,\n  eventView?: EventView\n) {\n  // Transaction op can affect the display and show no results if it is explicitly set.\n  const query = decodeScalar(location.query.query, '');\n  const searchConditions = new MutableSearch(query);\n  searchConditions.removeFilter('transaction.op');\n\n  const queryWithConditions = {\n    ...omit(location.query, ['landingDisplay', 'sort']),\n    query: searchConditions.formatString(),\n  };\n\n  delete queryWithConditions[LEFT_AXIS_QUERY_KEY];\n  delete queryWithConditions[RIGHT_AXIS_QUERY_KEY];\n\n  const defaultDisplay = getDefaultDisplayFieldForPlatform(projects, eventView);\n  const currentDisplay = getCurrentLandingDisplay(location, projects, eventView).field;\n\n  const newQuery: {query: string; landingDisplay?: LandingDisplayField} =\n    defaultDisplay === field\n      ? {...queryWithConditions}\n      : {...queryWithConditions, landingDisplay: field};\n\n  trackAnalytics('performance_views.landingv3.display_change', {\n    organization,\n    change_to_display: field,\n    default_display: defaultDisplay,\n    current_display: currentDisplay,\n    is_default: defaultDisplay === currentDisplay,\n  });\n\n  browserHistory.push({\n    pathname: location.pathname,\n    query: newQuery,\n  });\n}\n\nexport function getChartWidth(chartData: HistogramData, refPixelRect: Rectangle | null) {\n  const distance = refPixelRect ? refPixelRect.point2.x - refPixelRect.point1.x : 0;\n  const chartWidth = chartData.length * distance;\n\n  return {\n    chartWidth,\n  };\n}\n\nexport function getDefaultDisplayFieldForPlatform(\n  projects: Project[],\n  eventView?: EventView\n) {\n  if (!eventView) {\n    return LandingDisplayField.ALL;\n  }\n  const projectIds = eventView.project;\n\n  const performanceTypeToDisplay = {\n    [ProjectPerformanceType.ANY]: LandingDisplayField.ALL,\n    [ProjectPerformanceType.FRONTEND]: LandingDisplayField.FRONTEND_PAGELOAD,\n    [ProjectPerformanceType.BACKEND]: LandingDisplayField.BACKEND,\n    [ProjectPerformanceType.MOBILE]: LandingDisplayField.MOBILE,\n  };\n  const performanceType = platformToPerformanceType(projects, projectIds);\n  const landingField =\n    performanceTypeToDisplay[performanceType] ?? LandingDisplayField.ALL;\n  return landingField;\n}\n\ntype VitalCardDetail = {\n  formatter: (value: number) => string | number;\n  title: string;\n  tooltip: string;\n};\n\nexport const vitalCardDetails = (\n  organization: Organization\n): {[key: string]: VitalCardDetail | undefined} => {\n  return {\n    'p75(transaction.duration)': {\n      title: t('Duration (p75)'),\n      tooltip: getTermHelp(organization, PerformanceTerm.P75),\n      formatter: value => getDuration(value / 1000, value >= 1000 ? 3 : 0, true),\n    },\n    'tpm()': {\n      title: t('Throughput'),\n      tooltip: getTermHelp(organization, PerformanceTerm.THROUGHPUT),\n      formatter: formatAbbreviatedNumber,\n    },\n    'failure_rate()': {\n      title: t('Failure Rate'),\n      tooltip: getTermHelp(organization, PerformanceTerm.FAILURE_RATE),\n      formatter: value => formatPercentage(value, 2),\n    },\n    'apdex()': {\n      title: t('Apdex'),\n      tooltip: getTermHelp(organization, PerformanceTerm.APDEX),\n      formatter: value => formatFloat(value, 4),\n    },\n    'p75(measurements.frames_slow_rate)': {\n      title: t('Slow Frames (p75)'),\n      tooltip: getTermHelp(organization, PerformanceTerm.SLOW_FRAMES),\n      formatter: value => formatPercentage(value, 2),\n    },\n    'p75(measurements.frames_frozen_rate)': {\n      title: t('Frozen Frames (p75)'),\n      tooltip: getTermHelp(organization, PerformanceTerm.FROZEN_FRAMES),\n      formatter: value => formatPercentage(value, 2),\n    },\n    'p75(measurements.app_start_cold)': {\n      title: t('Cold Start (p75)'),\n      tooltip: getTermHelp(organization, PerformanceTerm.APP_START_COLD),\n      formatter: value => getDuration(value / 1000, value >= 1000 ? 3 : 0, true),\n    },\n    'p75(measurements.app_start_warm)': {\n      title: t('Warm Start (p75)'),\n      tooltip: getTermHelp(organization, PerformanceTerm.APP_START_WARM),\n      formatter: value => getDuration(value / 1000, value >= 1000 ? 3 : 0, true),\n    },\n    'p75(measurements.stall_percentage)': {\n      title: t('Stall Percentage (p75)'),\n      tooltip: getTermHelp(organization, PerformanceTerm.STALL_PERCENTAGE),\n      formatter: value => formatPercentage(value, 2),\n    },\n  };\n};\n\nexport function getDisplayAxes(options: AxisOption[], location: Location) {\n  const leftDefault = options.find(opt => opt.isLeftDefault) || options[0];\n  const rightDefault = options.find(opt => opt.isRightDefault) || options[1];\n\n  const leftAxis =\n    options.find(opt => opt.value === location.query[LEFT_AXIS_QUERY_KEY]) || leftDefault;\n  const rightAxis =\n    options.find(opt => opt.value === location.query[RIGHT_AXIS_QUERY_KEY]) ||\n    rightDefault;\n  return {\n    leftAxis,\n    rightAxis,\n  };\n}\n\nexport function checkIsReactNative(eventView) {\n  // only react native should contain the stall percentage column\n  return Boolean(\n    eventView.getFields().find(field => field.includes('measurements.stall_percentage'))\n  );\n}\n","import {Theme} from '@emotion/react';\nimport {Location, Query} from 'history';\n\nimport MarkLine from 'sentry/components/charts/components/markLine';\nimport {LineChartProps} from 'sentry/components/charts/lineChart';\nimport {getSeriesSelection} from 'sentry/components/charts/utils';\nimport {IconHappy, IconMeh, IconSad} from 'sentry/icons';\nimport {t} from 'sentry/locale';\nimport {Series} from 'sentry/types/echarts';\nimport {axisLabelFormatter, tooltipFormatter} from 'sentry/utils/discover/charts';\nimport {aggregateOutputType, getAggregateAlias} from 'sentry/utils/discover/fields';\nimport {WebVital} from 'sentry/utils/fields';\nimport {Browser} from 'sentry/utils/performance/vitals/constants';\nimport {decodeScalar} from 'sentry/utils/queryString';\nimport {Color} from 'sentry/utils/theme';\nimport {AlertType} from 'sentry/views/alerts/wizard/options';\n\nexport function generateVitalDetailRoute({orgSlug}: {orgSlug: string}): string {\n  return `/organizations/${orgSlug}/performance/vitaldetail/`;\n}\n\nexport const webVitalPoor = {\n  [WebVital.FP]: 3000,\n  [WebVital.FCP]: 3000,\n  [WebVital.LCP]: 4000,\n  [WebVital.FID]: 300,\n  [WebVital.CLS]: 0.25,\n};\n\nexport const webVitalMeh = {\n  [WebVital.FP]: 1000,\n  [WebVital.FCP]: 1000,\n  [WebVital.LCP]: 2500,\n  [WebVital.FID]: 100,\n  [WebVital.CLS]: 0.1,\n};\n\nexport enum VitalState {\n  POOR = 'Poor',\n  MEH = 'Meh',\n  GOOD = 'Good',\n}\n\nexport const vitalStateColors: Record<VitalState, Color> = {\n  [VitalState.POOR]: 'red300',\n  [VitalState.MEH]: 'yellow300',\n  [VitalState.GOOD]: 'green300',\n};\n\nexport const vitalStateIcons: Record<VitalState, React.ReactNode> = {\n  [VitalState.POOR]: <IconSad color={vitalStateColors[VitalState.POOR]} />,\n  [VitalState.MEH]: <IconMeh color={vitalStateColors[VitalState.MEH]} />,\n  [VitalState.GOOD]: <IconHappy color={vitalStateColors[VitalState.GOOD]} />,\n};\n\nexport function vitalDetailRouteWithQuery({\n  orgSlug,\n  vitalName,\n  projectID,\n  query,\n}: {\n  orgSlug: string;\n  query: Query;\n  vitalName: string;\n  projectID?: string | string[];\n}) {\n  const pathname = generateVitalDetailRoute({\n    orgSlug,\n  });\n\n  return {\n    pathname,\n    query: {\n      vitalName,\n      project: projectID,\n      environment: query.environment,\n      statsPeriod: query.statsPeriod,\n      start: query.start,\n      end: query.end,\n      query: query.query,\n    },\n  };\n}\n\nexport function vitalNameFromLocation(location: Location): WebVital {\n  const _vitalName = decodeScalar(location.query.vitalName);\n\n  const vitalName = Object.values(WebVital).find(v => v === _vitalName);\n\n  if (vitalName) {\n    return vitalName;\n  }\n  return WebVital.LCP;\n}\n\nexport function getVitalChartTitle(webVital: WebVital): string {\n  if (webVital === WebVital.CLS) {\n    return t('CLS p75');\n  }\n  return t('Duration p75');\n}\n\nexport function getVitalDetailTablePoorStatusFunction(vitalName: WebVital): string {\n  const vitalThreshold = webVitalPoor[vitalName];\n  const statusFunction = `compare_numeric_aggregate(${getAggregateAlias(\n    `p75(${vitalName})`\n  )},greater,${vitalThreshold})`;\n  return statusFunction;\n}\n\nexport function getVitalDetailTableMehStatusFunction(vitalName: WebVital): string {\n  const vitalThreshold = webVitalMeh[vitalName];\n  const statusFunction = `compare_numeric_aggregate(${getAggregateAlias(\n    `p75(${vitalName})`\n  )},greater,${vitalThreshold})`;\n  return statusFunction;\n}\n\nexport const vitalMap: Partial<Record<WebVital, string>> = {\n  [WebVital.FCP]: t('First Contentful Paint'),\n  [WebVital.CLS]: t('Cumulative Layout Shift'),\n  [WebVital.FID]: t('First Input Delay'),\n  [WebVital.LCP]: t('Largest Contentful Paint'),\n};\n\nexport const vitalChartTitleMap = vitalMap;\n\nexport const vitalDescription: Partial<Record<WebVital, string>> = {\n  [WebVital.FCP]: t(\n    'First Contentful Paint (FCP) measures the amount of time the first content takes to render in the viewport. Like FP, this could also show up in any form from the document object model (DOM), such as images, SVGs, or text blocks. At the moment, there is support for FCP in the following browsers:'\n  ),\n  [WebVital.CLS]: t(\n    'Cumulative Layout Shift (CLS) is the sum of individual layout shift scores for every unexpected element shift during the rendering process. Imagine navigating to an article and trying to click a link before the page finishes loading. Before your cursor even gets there, the link may have shifted down due to an image rendering. Rather than using duration for this Web Vital, the CLS score represents the degree of disruptive and visually unstable shifts. At the moment, there is support for CLS in the following browsers:'\n  ),\n  [WebVital.FID]: t(\n    'First Input Delay (FID) measures the response time when the user tries to interact with the viewport. Actions maybe include clicking a button, link or other custom Javascript controller. It is key in helping the user determine if a page is usable or not. At the moment, there is support for FID in the following browsers:'\n  ),\n  [WebVital.LCP]: t(\n    'Largest Contentful Paint (LCP) measures the render time for the largest content to appear in the viewport. This may be in any form from the document object model (DOM), such as images, SVGs, or text blocks. It’s the largest pixel area in the viewport, thus most visually defining. LCP helps developers understand how long it takes to see the main content on the page. At the moment, there is support for LCP in the following browsers:'\n  ),\n};\n\nexport const vitalAbbreviations: Partial<Record<WebVital, string>> = {\n  [WebVital.FCP]: 'FCP',\n  [WebVital.CLS]: 'CLS',\n  [WebVital.FID]: 'FID',\n  [WebVital.LCP]: 'LCP',\n};\n\nexport const vitalAlertTypes: Partial<Record<WebVital, AlertType>> = {\n  [WebVital.FCP]: 'custom',\n  [WebVital.CLS]: 'cls',\n  [WebVital.FID]: 'fid',\n  [WebVital.LCP]: 'lcp',\n};\n\nexport function getMaxOfSeries(series: Series[]) {\n  let max = -Infinity;\n  for (const {data} of series) {\n    for (const point of data) {\n      max = Math.max(max, point.value);\n    }\n  }\n  return max;\n}\n\nexport const vitalSupportedBrowsers: Partial<Record<WebVital, Browser[]>> = {\n  [WebVital.LCP]: [Browser.CHROME, Browser.EDGE, Browser.OPERA],\n  [WebVital.FID]: [\n    Browser.CHROME,\n    Browser.EDGE,\n    Browser.OPERA,\n    Browser.FIREFOX,\n    Browser.SAFARI,\n    Browser.IE,\n  ],\n  [WebVital.CLS]: [Browser.CHROME, Browser.EDGE, Browser.OPERA],\n  [WebVital.FP]: [Browser.CHROME, Browser.EDGE, Browser.OPERA],\n  [WebVital.FCP]: [\n    Browser.CHROME,\n    Browser.EDGE,\n    Browser.OPERA,\n    Browser.FIREFOX,\n    Browser.SAFARI,\n  ],\n  [WebVital.TTFB]: [\n    Browser.CHROME,\n    Browser.EDGE,\n    Browser.OPERA,\n    Browser.FIREFOX,\n    Browser.SAFARI,\n    Browser.IE,\n  ],\n};\n\nexport function getVitalChartDefinitions({\n  theme,\n  location,\n  vital,\n  yAxis,\n}: {\n  location: Location;\n  theme: Theme;\n  vital: string;\n  yAxis: string;\n}) {\n  const utc = decodeScalar(location.query.utc) !== 'false';\n\n  const vitalPoor = webVitalPoor[vital];\n  const vitalMeh = webVitalMeh[vital];\n\n  const legend = {\n    right: 10,\n    top: 0,\n    selected: getSeriesSelection(location),\n  };\n\n  const chartOptions: Omit<LineChartProps, 'series'> = {\n    grid: {\n      left: '5px',\n      right: '10px',\n      top: '35px',\n      bottom: '0px',\n    },\n    seriesOptions: {\n      showSymbol: false,\n    },\n    tooltip: {\n      trigger: 'axis',\n      valueFormatter: (value: number, seriesName?: string) =>\n        tooltipFormatter(\n          value,\n          aggregateOutputType(vital === WebVital.CLS ? seriesName : yAxis)\n        ),\n    },\n    yAxis: {\n      min: 0,\n      max: vitalPoor,\n      axisLabel: {\n        color: theme.chartLabel,\n        showMaxLabel: false,\n        // coerces the axis to be time based\n        formatter: (value: number) =>\n          axisLabelFormatter(value, aggregateOutputType(yAxis)),\n      },\n    },\n  };\n\n  const markLines = [\n    {\n      seriesName: 'Thresholds',\n      type: 'line' as const,\n      data: [],\n      markLine: MarkLine({\n        silent: true,\n        lineStyle: {\n          color: theme.red300,\n          type: 'dashed',\n          width: 1.5,\n        },\n        label: {\n          show: true,\n          position: 'insideEndTop',\n          formatter: t('Poor'),\n        },\n        data: [\n          {\n            yAxis: vitalPoor,\n          } as any, // TODO(ts): date on this type is likely incomplete (needs @types/echarts@4.6.2)\n        ],\n      }),\n    },\n    {\n      seriesName: 'Thresholds',\n      type: 'line' as const,\n      data: [],\n      markLine: MarkLine({\n        silent: true,\n        lineStyle: {\n          color: theme.yellow300,\n          type: 'dashed',\n          width: 1.5,\n        },\n        label: {\n          show: true,\n          position: 'insideEndTop',\n          formatter: t('Meh'),\n        },\n        data: [\n          {\n            yAxis: vitalMeh,\n          } as any, // TODO(ts): date on this type is likely incomplete (needs @types/echarts@4.6.2)\n        ],\n      }),\n    },\n  ];\n\n  return {\n    vitalPoor,\n    vitalMeh,\n    legend,\n    chartOptions,\n    markLines,\n    utc,\n  };\n}\n"],"names":["SearchBar","props","organization","eventView","_eventView","onSearch","query","searchQuery","className","searchResults","setSearchResults","useState","transactionCount","children","length","highlightedItemIndex","setHighlightedItemIndex","isDropdownOpen","setIsDropdownOpen","closeDropdown","loading","setLoading","searchString","setSearchString","containerRef","useRef","useOnClickOutside","useCallback","api","useApi","clone","url","slug","projectIdStrings","project","map","String","getSuggestedTransactions","debounce","async","conditions","MutableSearch","addFilterValues","wrapQueryInWildcards","Object","keys","activeRequests","clear","results","doDiscoverQuery","field","sort","formatString","statsPeriod","referrer","parsedResults","data","reduce","searchGroup","item","push","value","encodeItemToValue","title","transaction","type","ItemType","LINK","desc","icon","_","Error","DEFAULT_DEBOUNCE_DURATION","leading","join","handleChooseItem","decodeValueToItem","handleSearch","asRawText","_jsxs","Container","ref","_jsx","BaseSearchBar","placeholder","t","onChange","onKeyDown","event","key","currentHighlightedItem","nextHighlightedItemIndex","nextHighlightedItem","newSearchResults","getSearchGroupWithItemMarkedActive","preventDefault","currentItem","SearchDropdown","maxMenuHeight","searchSubstring","items","onClick","onIconClick","project_id","generateQueryStringObject","next","transactionSummaryRouteWithQuery","orgSlug","projectID","browserHistory","normalizeUrl","navigateToItemTransactionSummary","displayName","lastIndex","lastIndexOf","parseInt","slice","startsWith","endsWith","_styled","target","name","styles","LEFT_AXIS_QUERY_KEY","RIGHT_AXIS_QUERY_KEY","LandingDisplayField","LANDING_DISPLAYS","label","ALL","FRONTEND_PAGELOAD","FRONTEND_OTHER","BACKEND","MOBILE","excludeTransaction","location","searchConditions","pathname","cursor","undefined","getLandingDisplayFromParam","landingField","decodeScalar","landingDisplay","find","_ref","getDefaultDisplayForPlatform","projects","defaultDisplayField","getDefaultDisplayFieldForPlatform","_ref2","getCurrentLandingDisplay","handleLandingDisplayChange","removeFilter","queryWithConditions","omit","defaultDisplay","currentDisplay","newQuery","trackAnalytics","change_to_display","default_display","current_display","is_default","projectIds","ProjectPerformanceType","ANY","FRONTEND","platformToPerformanceType","vitalCardDetails","tooltip","getTermHelp","PerformanceTerm","P75","formatter","getDuration","THROUGHPUT","formatAbbreviatedNumber","FAILURE_RATE","formatPercentage","APDEX","formatFloat","SLOW_FRAMES","FROZEN_FRAMES","APP_START_COLD","APP_START_WARM","STALL_PERCENTAGE","checkIsReactNative","Boolean","getFields","includes","webVitalPoor","WebVital","FP","FCP","LCP","FID","CLS","webVitalMeh","VitalState","vitalStateColors","POOR","MEH","GOOD","vitalStateIcons","IconSad","color","IconMeh","IconHappy","vitalDetailRouteWithQuery","vitalName","generateVitalDetailRoute","environment","start","end","vitalNameFromLocation","_vitalName","values","v","getVitalChartTitle","webVital","getVitalDetailTablePoorStatusFunction","vitalThreshold","getAggregateAlias","getVitalDetailTableMehStatusFunction","vitalMap","vitalDescription","vitalAbbreviations","vitalAlertTypes","getMaxOfSeries","series","max","point","Math","vitalSupportedBrowsers","Browser","CHROME","EDGE","OPERA","FIREFOX","SAFARI","IE","TTFB","getVitalChartDefinitions","_ref3","theme","vital","yAxis","utc","vitalPoor","vitalMeh","legend","right","top","selected","getSeriesSelection","chartOptions","grid","left","bottom","seriesOptions","showSymbol","trigger","valueFormatter","seriesName","tooltipFormatter","aggregateOutputType","min","axisLabel","chartLabel","showMaxLabel","axisLabelFormatter","markLines","markLine","MarkLine","silent","lineStyle","red300","width","show","position","yellow300"],"sourceRoot":""}