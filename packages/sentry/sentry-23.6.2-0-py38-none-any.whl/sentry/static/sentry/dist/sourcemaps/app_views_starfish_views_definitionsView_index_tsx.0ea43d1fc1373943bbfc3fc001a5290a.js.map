{"version":3,"file":"chunks/app_views_starfish_views_definitionsView_index_tsx.xxxxxxxxxxxxxxxxxxxx.js","mappings":"4YAIA,MAAMA,GAAmBC,EAAAA,EAAAA,eAGtB,CACDC,eAAWC,EACXC,aAAeC,QAGV,SAASC,EAAiBC,GAA0C,IAAzC,SAACC,GAAsCD,EACvE,MAAOL,EAAWE,IAAgBK,EAAAA,EAAAA,YAClC,OACEC,EAAAA,EAAAA,IAACV,EAAiBW,SAAQ,CACxBC,MAAO,CACLV,YACAE,gBACAI,SAEDA,GAGP,CAEO,SAASK,IACd,MAAM,UAACX,IAAaY,EAAAA,EAAAA,YAAWd,GAC/B,OAAKE,GAKHQ,EAAAA,EAAAA,IAACK,EAAAA,GAAK,CAACC,KAAK,QAAQ,eAAa,mBAAmBC,UAAQ,EAAAT,SACzDN,IALI,IAQX,CAzBgBI,EAAiBY,YAAA,oBAcjBL,EAAcK,YAAA,iBAavB,MAAMC,EAAeA,KAAML,EAAAA,EAAAA,YAAWd,E,oaCjCtC,MAAMoB,EAAqB,EAGlC,SAASC,EAA4BC,GACnC,MAAMC,GAASC,EAAAA,EAAAA,KACTC,GAAWC,EAAAA,EAAAA,MACX,UAACC,IAAaC,EAAAA,EAAAA,KACdC,EAAWF,EAAUE,UAErB,QAACC,EAAO,UAAEC,IAAaC,EAAAA,EAAAA,IAAeL,GAgB5C,OAfIG,EAAQG,KAAKF,EAAW,QAAUX,IACpCS,EAASK,OAVuB,MAWhCL,EAASM,MAAQ,KACjBN,EAASO,IAAM,KACfb,EAAOc,QAAQ,CACbC,SAAUb,EAASa,SACnBC,MAAO,IACFd,EAASc,MACZC,YAjB4B,MAkB5BL,MAAO,KACPC,IAAK,UAKJ1B,EAAAA,EAAAA,IAAC+B,EAAAA,EAAoB,CAAAjC,SAAEc,EAAMd,UACtC,CAvBSa,EAA2BH,YAAA,8BAyBpC,S,qWC3BA,SAASwB,IACP,OACEhC,EAAAA,EAAAA,IAACiC,EAAAA,GAAW,CAAAnC,UACVE,EAAAA,EAAAA,IAACW,EAAAA,GAA2B,CAAAb,UAC1BoC,EAAAA,EAAAA,IAACtC,EAAAA,GAAiB,CAAAE,SAAA,EAChBE,EAAAA,EAAAA,IAACiC,EAAAA,GAAa,CAAAnC,UACZE,EAAAA,EAAAA,IAACiC,EAAAA,GAAoB,CAAAnC,UACnBE,EAAAA,EAAAA,IAACiC,EAAAA,GAAY,CAAAnC,SAAC,sBAGlBE,EAAAA,EAAAA,IAACiC,EAAAA,GAAW,CAAAnC,UACVoC,EAAAA,EAAAA,IAACD,EAAAA,GAAW,CAACE,WAAS,EAAArC,SAAA,EACpBE,EAAAA,EAAAA,IAACG,EAAAA,GAAc,KACfH,EAAAA,EAAAA,IAAA,MAAAF,UACEE,EAAAA,EAAAA,IAAA,MAAAF,SAAI,8GAWpB,CAzBSkC,EAAexB,YAAA,kBA2BxB,S","sources":["webpack:///./app/utils/performance/contexts/pageError.tsx","webpack:///./app/views/starfish/components/pageFilterContainer.tsx","webpack:///./app/views/starfish/views/definitionsView/index.tsx"],"sourcesContent":["import {createContext, useContext, useState} from 'react';\n\nimport {Alert} from 'sentry/components/alert';\n\nconst pageErrorContext = createContext<{\n  setPageError: (error: string | undefined) => void;\n  pageError?: string;\n}>({\n  pageError: undefined,\n  setPageError: (_: string | undefined) => {},\n});\n\nexport function PageErrorProvider({children}: {children: React.ReactNode}) {\n  const [pageError, setPageError] = useState<string | undefined>();\n  return (\n    <pageErrorContext.Provider\n      value={{\n        pageError,\n        setPageError,\n      }}\n    >\n      {children}\n    </pageErrorContext.Provider>\n  );\n}\n\nexport function PageErrorAlert() {\n  const {pageError} = useContext(pageErrorContext);\n  if (!pageError) {\n    return null;\n  }\n\n  return (\n    <Alert type=\"error\" data-test-id=\"page-error-alert\" showIcon>\n      {pageError}\n    </Alert>\n  );\n}\n\nexport const usePageError = () => useContext(pageErrorContext);\n","import PageFiltersContainer from 'sentry/components/organizations/pageFilters/container';\nimport {useLocation} from 'sentry/utils/useLocation';\nimport usePageFilters from 'sentry/utils/usePageFilters';\nimport useRouter from 'sentry/utils/useRouter';\nimport {getDateFilters} from 'sentry/views/starfish/utils/getDateFilters';\n\nexport const MAXIMUM_DATE_RANGE = 7;\nexport const DEFAULT_STATS_PERIOD = '24h';\n\nfunction StarfishPageFilterContainer(props: {children: React.ReactNode}) {\n  const router = useRouter();\n  const location = useLocation();\n  const {selection} = usePageFilters();\n  const datetime = selection.datetime;\n\n  const {endTime, startTime} = getDateFilters(selection);\n  if (endTime.diff(startTime, 'days') > MAXIMUM_DATE_RANGE) {\n    datetime.period = DEFAULT_STATS_PERIOD;\n    datetime.start = null;\n    datetime.end = null;\n    router.replace({\n      pathname: location.pathname,\n      query: {\n        ...location.query,\n        statsPeriod: DEFAULT_STATS_PERIOD,\n        start: null,\n        end: null,\n      },\n    });\n  }\n\n  return <PageFiltersContainer>{props.children}</PageFiltersContainer>;\n}\n\nexport default StarfishPageFilterContainer;\n","import * as Layout from 'sentry/components/layouts/thirds';\nimport {\n  PageErrorAlert,\n  PageErrorProvider,\n} from 'sentry/utils/performance/contexts/pageError';\nimport StarfishPageFilterContainer from 'sentry/views/starfish/components/pageFilterContainer';\n\nfunction DefinitionsView() {\n  return (\n    <Layout.Page>\n      <StarfishPageFilterContainer>\n        <PageErrorProvider>\n          <Layout.Header>\n            <Layout.HeaderContent>\n              <Layout.Title> Defintions </Layout.Title>\n            </Layout.HeaderContent>\n          </Layout.Header>\n          <Layout.Body>\n            <Layout.Main fullWidth>\n              <PageErrorAlert />\n              <ul>\n                <li>\n                  Time Spent - time spent is calculated by dividing the total span time by\n                  the total app time.\n                </li>\n              </ul>\n            </Layout.Main>\n          </Layout.Body>\n        </PageErrorProvider>\n      </StarfishPageFilterContainer>\n    </Layout.Page>\n  );\n}\n\nexport default DefinitionsView;\n"],"names":["pageErrorContext","createContext","pageError","undefined","setPageError","_","PageErrorProvider","_ref","children","useState","_jsx","Provider","value","PageErrorAlert","useContext","Alert","type","showIcon","displayName","usePageError","MAXIMUM_DATE_RANGE","StarfishPageFilterContainer","props","router","useRouter","location","useLocation","selection","usePageFilters","datetime","endTime","startTime","getDateFilters","diff","period","start","end","replace","pathname","query","statsPeriod","PageFiltersContainer","DefinitionsView","Layout","_jsxs","fullWidth"],"sourceRoot":""}