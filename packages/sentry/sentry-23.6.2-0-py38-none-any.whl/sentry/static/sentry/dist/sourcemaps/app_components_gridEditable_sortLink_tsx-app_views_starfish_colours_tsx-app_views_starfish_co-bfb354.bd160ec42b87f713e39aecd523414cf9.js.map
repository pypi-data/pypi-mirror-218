{"version":3,"file":"chunks/app_components_gridEditable_sortLink_tsx-app_views_starfish_colours_tsx-app_views_starfish_co-bfb354.xxxxxxxxxxxxxxxxxxxx.js","mappings":"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","sources":["webpack:///./app/components/gridEditable/sortLink.tsx","webpack:///./app/utils/discover/discoverQuery.tsx","webpack:///./app/views/starfish/colours.tsx","webpack:///./app/views/starfish/components/datePicker.tsx","webpack:///./app/views/starfish/components/pageFilterContainer.tsx","webpack:///./app/views/starfish/utils/chartValueFormatters/formatThroughput.ts","webpack:///./app/views/starfish/utils/retryHandlers.tsx","webpack:///./app/views/starfish/views/webServiceView/spanGroupBreakdown.tsx","webpack:///./app/views/starfish/views/webServiceView/spanGroupBreakdownContainer.tsx","webpack:///./app/views/starfish/utils/useEventsStatsQuery.tsx"],"sourcesContent":["import {browserHistory} from 'react-router';\nimport styled from '@emotion/styled';\nimport {LocationDescriptorObject} from 'history';\n\nimport Link from 'sentry/components/links/link';\nimport {IconArrow} from 'sentry/icons';\n\nexport type Alignments = 'left' | 'right' | undefined;\nexport type Directions = 'desc' | 'asc' | undefined;\n\ntype Props = {\n  align: Alignments;\n  canSort: boolean;\n  direction: Directions;\n  generateSortLink: () => LocationDescriptorObject | undefined;\n  title: React.ReactNode;\n  onClick?: (e: React.MouseEvent<HTMLAnchorElement>) => void;\n  replace?: boolean;\n};\n\nfunction SortLink({\n  align,\n  title,\n  canSort,\n  generateSortLink,\n  onClick,\n  direction,\n  replace,\n}: Props) {\n  const target = generateSortLink();\n\n  if (!target || !canSort) {\n    return <StyledNonLink align={align}>{title}</StyledNonLink>;\n  }\n\n  const arrow = !direction ? null : (\n    <StyledIconArrow size=\"xs\" direction={direction === 'desc' ? 'down' : 'up'} />\n  );\n\n  const handleOnClick: React.MouseEventHandler<HTMLAnchorElement> = e => {\n    if (replace) {\n      e.preventDefault();\n      browserHistory.replace(target);\n    }\n    onClick?.(e);\n  };\n\n  return (\n    <StyledLink align={align} to={target} onClick={handleOnClick}>\n      {title} {arrow}\n    </StyledLink>\n  );\n}\n\ntype LinkProps = React.ComponentPropsWithoutRef<typeof Link>;\ntype StyledLinkProps = LinkProps & {align: Alignments};\n\nconst StyledLink = styled((props: StyledLinkProps) => {\n  // @ts-expect-error It doesn't look like the `css` property is a part of the props,\n  // but prior to this style of destructure-omitting it, it was being omitted\n  // with lodash.omit. I mean keeping it omitted here just in case.\n  const {align: _align, css: _css, ...forwardProps} = props;\n  return <Link {...forwardProps} />;\n})`\n  display: block;\n  width: 100%;\n  white-space: nowrap;\n  color: inherit;\n\n  &:hover,\n  &:active,\n  &:focus,\n  &:visited {\n    color: inherit;\n  }\n\n  ${(p: StyledLinkProps) => (p.align ? `text-align: ${p.align};` : '')}\n`;\n\nconst StyledNonLink = styled('div')<{align: Alignments}>`\n  display: block;\n  width: 100%;\n  white-space: nowrap;\n  ${(p: {align: Alignments}) => (p.align ? `text-align: ${p.align};` : '')}\n`;\n\nconst StyledIconArrow = styled(IconArrow)`\n  vertical-align: top;\n`;\n\nexport default SortLink;\n","import {EventsMetaType, MetaType} from 'sentry/utils/discover/eventView';\nimport {TransactionThresholdMetric} from 'sentry/views/performance/transactionSummary/transactionThresholdModal';\n\nimport GenericDiscoverQuery, {\n  DiscoverQueryProps,\n  GenericChildrenProps,\n  useGenericDiscoverQuery,\n} from './genericDiscoverQuery';\n\n/**\n * An individual row in a DiscoverQuery result\n */\nexport type TableDataRow = {\n  [key: string]: React.ReactText;\n  id: string;\n};\n\n/**\n * A DiscoverQuery result including rows and metadata.\n */\nexport type TableData = {\n  data: Array<TableDataRow>;\n  meta?: MetaType;\n};\n\n/**\n * A DiscoverQuery result including rows and metadata from the events endpoint.\n */\nexport type EventsTableData = {\n  data: Array<TableDataRow>;\n  meta?: EventsMetaType;\n};\n\nexport type TableDataWithTitle = TableData & {title: string};\n\nexport type DiscoverQueryPropsWithThresholds = DiscoverQueryProps & {\n  transactionName?: string;\n  transactionThreshold?: number;\n  transactionThresholdMetric?: TransactionThresholdMetric;\n};\n\nexport type DiscoverQueryComponentProps = DiscoverQueryPropsWithThresholds & {\n  children: (props: GenericChildrenProps<TableData>) => React.ReactNode;\n};\n\nfunction shouldRefetchData(\n  prevProps: DiscoverQueryPropsWithThresholds,\n  nextProps: DiscoverQueryPropsWithThresholds\n) {\n  return (\n    prevProps.transactionName !== nextProps.transactionName ||\n    prevProps.transactionThreshold !== nextProps.transactionThreshold ||\n    prevProps.transactionThresholdMetric !== nextProps.transactionThresholdMetric\n  );\n}\n\nfunction DiscoverQuery(props: DiscoverQueryComponentProps) {\n  const afterFetch = (data, _) => {\n    const {fields, ...otherMeta} = data.meta ?? {};\n    return {\n      ...data,\n      meta: {...fields, ...otherMeta},\n    };\n  };\n  return (\n    <GenericDiscoverQuery<TableData, DiscoverQueryPropsWithThresholds>\n      route=\"events\"\n      shouldRefetchData={shouldRefetchData}\n      afterFetch={afterFetch}\n      {...props}\n    />\n  );\n}\n\nexport function useDiscoverQuery(props: Omit<DiscoverQueryComponentProps, 'children'>) {\n  const afterFetch = (data, _) => {\n    const {fields, ...otherMeta} = data.meta ?? {};\n    return {\n      ...data,\n      meta: {...fields, ...otherMeta},\n    };\n  };\n\n  const res = useGenericDiscoverQuery<TableData, DiscoverQueryPropsWithThresholds>({\n    route: 'events',\n    shouldRefetchData,\n    afterFetch,\n    ...props,\n  });\n\n  const pageLinks = res.response?.getResponseHeader('Link') ?? undefined;\n\n  return {...res, pageLinks};\n}\n\nexport default DiscoverQuery;\n","import {CHART_PALETTE} from 'sentry/constants/chartPalette';\n\nexport const THROUGHPUT_COLOR = CHART_PALETTE[3][3];\nexport const P50_COLOR = CHART_PALETTE[3][1];\nexport const P95_COLOR = CHART_PALETTE[0][0];\nexport const ERRORS_COLOR = CHART_PALETTE[5][3];\n","import DatePageFilter from 'sentry/components/datePageFilter';\nimport {t} from 'sentry/locale';\nimport {trackAnalytics} from 'sentry/utils/analytics';\nimport useOrganization from 'sentry/utils/useOrganization';\nimport {MAXIMUM_DATE_RANGE} from 'sentry/views/starfish/components/pageFilterContainer';\n\nfunction StarfishDatePicker() {\n  const organization = useOrganization();\n  return (\n    <DatePageFilter\n      maxDateRange={MAXIMUM_DATE_RANGE}\n      disallowArbitraryRelativeRanges\n      relativeOptions={{\n        '1h': t('Last hour'),\n        '12h': t('Last 12 hours'),\n        '24h': t('Last 24 hours'),\n        '3d': t('Last 3 days'),\n        '7d': t('Last 7 days'),\n      }}\n      defaultPeriod=\"24h\"\n      alignDropdown=\"left\"\n      onChange={({start, end, relative}) => {\n        trackAnalytics('starfish.page_filter.data_change', {\n          organization,\n          start,\n          end,\n          relative,\n        });\n      }}\n    />\n  );\n}\n\nexport default StarfishDatePicker;\n","import PageFiltersContainer from 'sentry/components/organizations/pageFilters/container';\nimport {useLocation} from 'sentry/utils/useLocation';\nimport usePageFilters from 'sentry/utils/usePageFilters';\nimport useRouter from 'sentry/utils/useRouter';\nimport {getDateFilters} from 'sentry/views/starfish/utils/getDateFilters';\n\nexport const MAXIMUM_DATE_RANGE = 7;\nexport const DEFAULT_STATS_PERIOD = '24h';\n\nfunction StarfishPageFilterContainer(props: {children: React.ReactNode}) {\n  const router = useRouter();\n  const location = useLocation();\n  const {selection} = usePageFilters();\n  const datetime = selection.datetime;\n\n  const {endTime, startTime} = getDateFilters(selection);\n  if (endTime.diff(startTime, 'days') > MAXIMUM_DATE_RANGE) {\n    datetime.period = DEFAULT_STATS_PERIOD;\n    datetime.start = null;\n    datetime.end = null;\n    router.replace({\n      pathname: location.pathname,\n      query: {\n        ...location.query,\n        statsPeriod: DEFAULT_STATS_PERIOD,\n        start: null,\n        end: null,\n      },\n    });\n  }\n\n  return <PageFiltersContainer>{props.children}</PageFiltersContainer>;\n}\n\nexport default StarfishPageFilterContainer;\n","import {t} from 'sentry/locale';\n\nconst formatThroughput = (throughputPerSecond: number = -1) => {\n  const throughput = throughputPerSecond === -1 ? '--' : throughputPerSecond.toFixed(2);\n  return `${throughput} / ${t('s')}`;\n};\n\nexport default formatThroughput;\n","export function shouldRetryHandler(failureCount: number, error: Error) {\n  return failureCount < 3 && error.message.includes('429');\n}\n\nexport function getRetryDelay(attempt: number) {\n  return 1000 * Math.pow(3, attempt);\n}\n","import {browserHistory} from 'react-router';\nimport styled from '@emotion/styled';\nimport cloneDeep from 'lodash/cloneDeep';\n\nimport {LineChartSeries} from 'sentry/components/charts/lineChart';\nimport {CompactSelect, SelectOption} from 'sentry/components/compactSelect';\nimport {t} from 'sentry/locale';\nimport {space} from 'sentry/styles/space';\nimport {trackAnalytics} from 'sentry/utils/analytics';\nimport {tooltipFormatterUsingAggregateOutputType} from 'sentry/utils/discover/charts';\nimport {VisuallyCompleteWithData} from 'sentry/utils/performanceForSentry';\nimport useOrganization from 'sentry/utils/useOrganization';\nimport Chart from 'sentry/views/starfish/components/chart';\nimport {\n  DataDisplayType,\n  DataRow,\n} from 'sentry/views/starfish/views/webServiceView/spanGroupBreakdownContainer';\n\ntype Props = {\n  colorPalette: string[];\n  dataDisplayType: DataDisplayType;\n  isCumulativeTimeLoading: boolean;\n  isTableLoading: boolean;\n  isTimeseriesLoading: boolean;\n  options: SelectOption<DataDisplayType>[];\n  setDataDisplayType: any;\n  tableData: DataRow[];\n  topSeriesData: LineChartSeries[];\n  totalCumulativeTime: number;\n  errored?: boolean;\n  transaction?: string;\n};\n\nexport function SpanGroupBreakdown({\n  topSeriesData: data,\n  transaction,\n  isTimeseriesLoading,\n  errored,\n  options,\n  dataDisplayType,\n  setDataDisplayType,\n}: Props) {\n  const organization = useOrganization();\n  const hasDropdownFeatureFlag = organization.features.includes(\n    'starfish-wsv-chart-dropdown'\n  );\n\n  const visibleSeries: LineChartSeries[] = [];\n\n  for (let index = 0; index < data.length; index++) {\n    const series = data[index];\n    series.emphasis = {\n      disabled: false,\n      focus: 'series',\n    };\n    series.blur = {\n      areaStyle: {opacity: 0.3},\n    };\n    series.triggerLineEvent = true;\n    visibleSeries.push(series);\n  }\n\n  const dataAsPercentages = cloneDeep(visibleSeries);\n  const numDataPoints = data[0]?.data?.length ?? 0;\n  for (let i = 0; i < numDataPoints; i++) {\n    const totalTimeAtIndex = data.reduce((acc, datum) => acc + datum.data[i].value, 0);\n    dataAsPercentages.forEach(segment => {\n      const clone = {...segment.data[i]};\n      clone.value = clone.value / totalTimeAtIndex;\n      segment.data[i] = clone;\n    });\n  }\n\n  const handleChange = (option: SelectOption<DataDisplayType>) => {\n    setDataDisplayType(option.value);\n    trackAnalytics('starfish.web_service_view.breakdown.display_change', {\n      organization,\n      display: option.value,\n    });\n  };\n\n  const isEndpointBreakdownView = Boolean(transaction);\n\n  const handleModuleAreaClick = event => {\n    switch (event.seriesName) {\n      case 'http':\n        browserHistory.push('/starfish/api');\n        break;\n      case 'db':\n        browserHistory.push('/starfish/database');\n        break;\n      case 'custom':\n      case 'Other':\n      case 'cache':\n      default:\n        browserHistory.push('/starfish/spans');\n        break;\n    }\n  };\n\n  return (\n    <FlexRowContainer>\n      <ChartPadding>\n        <Header>\n          <ChartLabel>\n            {isEndpointBreakdownView ? t('Endpoint Breakdown') : t('Service Breakdown')}\n          </ChartLabel>\n          {hasDropdownFeatureFlag && (\n            <CompactSelect\n              options={options}\n              value={dataDisplayType}\n              onChange={handleChange}\n            />\n          )}\n        </Header>\n        <VisuallyCompleteWithData id=\"WSV.SpanGroupBreakdown\" hasData={data.length > 0}>\n          <Chart\n            statsPeriod=\"24h\"\n            height={340}\n            showLegend\n            data={\n              dataDisplayType === DataDisplayType.PERCENTAGE ? dataAsPercentages : data\n            }\n            dataMax={dataDisplayType === DataDisplayType.PERCENTAGE ? 1 : undefined}\n            durationUnit={\n              dataDisplayType === DataDisplayType.PERCENTAGE ? 0.25 : undefined\n            }\n            start=\"\"\n            end=\"\"\n            errored={errored}\n            loading={isTimeseriesLoading}\n            utc={false}\n            onClick={handleModuleAreaClick}\n            grid={{\n              left: '0',\n              right: '0',\n              top: '20px',\n              bottom: '0',\n            }}\n            definedAxisTicks={6}\n            stacked\n            aggregateOutputFormat={\n              dataDisplayType === DataDisplayType.PERCENTAGE ? 'percentage' : 'duration'\n            }\n            tooltipFormatterOptions={{\n              valueFormatter: value =>\n                dataDisplayType === DataDisplayType.PERCENTAGE\n                  ? tooltipFormatterUsingAggregateOutputType(value, 'percentage')\n                  : tooltipFormatterUsingAggregateOutputType(value, 'duration'),\n            }}\n            onLegendSelectChanged={event => {\n              trackAnalytics('starfish.web_service_view.breakdown.legend_change', {\n                organization,\n                selected: Object.keys(event.selected).filter(key => event.selected[key]),\n                toggled: event.name,\n              });\n            }}\n          />\n        </VisuallyCompleteWithData>\n      </ChartPadding>\n    </FlexRowContainer>\n  );\n}\n\nconst ChartPadding = styled('div')`\n  padding: 0 ${space(2)};\n  flex: 2;\n`;\n\nconst ChartLabel = styled('p')`\n  ${p => p.theme.text.cardTitle}\n`;\n\nconst Header = styled('div')`\n  padding: 0 ${space(1)} 0 0;\n  min-height: 36px;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: ${space(1)};\n`;\n\nconst FlexRowContainer = styled('div')`\n  display: flex;\n  min-height: 200px;\n  padding-bottom: ${space(2)};\n`;\n","import {useState} from 'react';\nimport {useTheme} from '@emotion/react';\nimport styled from '@emotion/styled';\nimport {Location} from 'history';\n\nimport {getInterval} from 'sentry/components/charts/utils';\nimport {SelectOption} from 'sentry/components/compactSelect';\nimport {Panel} from 'sentry/components/panels';\nimport {t} from 'sentry/locale';\nimport {space} from 'sentry/styles/space';\nimport {PageFilters} from 'sentry/types';\nimport {Series, SeriesDataUnit} from 'sentry/types/echarts';\nimport {defined} from 'sentry/utils';\nimport {useDiscoverQuery} from 'sentry/utils/discover/discoverQuery';\nimport EventView from 'sentry/utils/discover/eventView';\nimport {DiscoverDatasets} from 'sentry/utils/discover/types';\nimport {useLocation} from 'sentry/utils/useLocation';\nimport useOrganization from 'sentry/utils/useOrganization';\nimport usePageFilters from 'sentry/utils/usePageFilters';\nimport {SpanMetricsFields} from 'sentry/views/starfish/types';\nimport {useEventsStatsQuery} from 'sentry/views/starfish/utils/useEventsStatsQuery';\nimport {SpanGroupBreakdown} from 'sentry/views/starfish/views/webServiceView/spanGroupBreakdown';\n\nconst {SPAN_SELF_TIME} = SpanMetricsFields;\n\nexport const OTHER_SPAN_GROUP_MODULE = 'Other';\nexport const NULL_SPAN_CATEGORY = t('custom');\n\ntype Props = {\n  transaction?: string;\n  transactionMethod?: string;\n};\n\ntype Group = {\n  'span.category': string;\n};\n\nexport type Segment = Group & {\n  'p95(span.self_time)': number;\n  'sum(span.self_time)': number;\n};\n\nexport type DataRow = {\n  cumulativeTime: number;\n  group: Group;\n};\n\nexport enum DataDisplayType {\n  DURATION_P95 = 'duration_p95',\n  CUMULATIVE_DURATION = 'cumulative_duration',\n  PERCENTAGE = 'percentage',\n}\n\nexport function SpanGroupBreakdownContainer({transaction, transactionMethod}: Props) {\n  const pageFilter = usePageFilters();\n  const organization = useOrganization();\n  const location = useLocation();\n  const {selection} = pageFilter;\n  const theme = useTheme();\n\n  const options: SelectOption<DataDisplayType>[] = [\n    {label: 'Percentages', value: DataDisplayType.PERCENTAGE},\n    {label: 'Duration (p95)', value: DataDisplayType.DURATION_P95},\n    {label: 'Total Duration', value: DataDisplayType.CUMULATIVE_DURATION},\n  ];\n\n  const [dataDisplayType, setDataDisplayType] = useState<DataDisplayType>(\n    DataDisplayType.PERCENTAGE\n  );\n\n  const {data: segments, isLoading: isSegmentsLoading} = useDiscoverQuery({\n    eventView: getCumulativeTimeEventView(\n      location,\n      `transaction.op:http.server ${transaction ? `transaction:${transaction}` : ''} ${\n        transactionMethod ? `http.method:${transactionMethod}` : ''\n      }`,\n      ['span.category']\n    ),\n    orgSlug: organization.slug,\n    referrer: 'starfish-web-service.span-category-breakdown',\n    location,\n    limit: 4,\n  });\n\n  const {data: cumulativeTime, isLoading: isCumulativeDataLoading} = useDiscoverQuery({\n    eventView: getCumulativeTimeEventView(\n      location,\n      `transaction.op:http.server ${transaction ? `transaction:${transaction}` : ''} ${\n        transactionMethod ? `http.method:${transactionMethod}` : ''\n      }`,\n      []\n    ),\n    orgSlug: organization.slug,\n    referrer: 'starfish-web-service.total-time',\n    location,\n  });\n\n  const {\n    isLoading: isTopDataLoading,\n    data: topData,\n    isError,\n  } = useEventsStatsQuery({\n    eventView: getEventView(\n      location,\n      selection,\n      `transaction.op:http.server ${transaction ? `transaction:${transaction}` : ''} ${\n        transactionMethod ? `http.method:${transactionMethod}` : ''\n      }`,\n      ['span.category'],\n      dataDisplayType,\n      true\n    ),\n    enabled: true,\n    referrer: 'starfish-web-service.span-category-breakdown-timeseries',\n    initialData: [],\n  });\n\n  const totalValues = cumulativeTime?.data[0]?.[`sum(${SPAN_SELF_TIME})`]\n    ? parseInt(cumulativeTime?.data[0][`sum(${SPAN_SELF_TIME})`] as string, 10)\n    : 0;\n  const totalSegments =\n    segments?.data.reduce(\n      (acc, segment) => acc + parseInt(segment[`sum(${SPAN_SELF_TIME})`] as string, 10),\n      0\n    ) ?? 0;\n\n  const otherValue = totalValues ? totalValues - totalSegments : 0;\n\n  const transformedData: DataRow[] = [];\n\n  if (defined(segments)) {\n    for (let index = 0; index < segments.data.length; index++) {\n      const element = segments.data[index];\n      const category = element['span.category'] as string;\n      transformedData.push({\n        cumulativeTime: parseInt(element[`sum(${SPAN_SELF_TIME})`] as string, 10),\n        group: {\n          'span.category': category === '' ? NULL_SPAN_CATEGORY : category,\n        },\n      });\n    }\n\n    if (otherValue > 0) {\n      transformedData.push({\n        cumulativeTime: otherValue,\n        group: {\n          'span.category': OTHER_SPAN_GROUP_MODULE,\n        },\n      });\n    }\n  }\n\n  const seriesByDomain: {[category: string]: Series} = {};\n  const colorPalette = theme.charts.getColorPalette(transformedData.length - 2);\n\n  if (defined(topData)) {\n    if (!isTopDataLoading && transformedData.length > 0) {\n      transformedData.forEach((segment, index) => {\n        const category = segment.group['span.category'] as string;\n        const label = category === '' ? NULL_SPAN_CATEGORY : category;\n        seriesByDomain[label] = {\n          seriesName: label,\n          data: [],\n          color: colorPalette[index],\n        };\n      });\n\n      Object.keys(topData).forEach(key => {\n        const seriesData = topData?.[key];\n        const label = key === '' ? NULL_SPAN_CATEGORY : key;\n        seriesByDomain[label].data =\n          seriesData?.data.map(datum => {\n            return {name: datum[0] * 1000, value: datum[1][0].count} as SeriesDataUnit;\n          }) ?? [];\n      });\n    }\n  }\n\n  const data = Object.values(seriesByDomain);\n\n  return (\n    <StyledPanel>\n      <SpanGroupBreakdown\n        tableData={transformedData}\n        totalCumulativeTime={totalValues}\n        isTableLoading={isSegmentsLoading}\n        topSeriesData={data}\n        colorPalette={colorPalette}\n        isTimeseriesLoading={isTopDataLoading}\n        isCumulativeTimeLoading={isCumulativeDataLoading}\n        transaction={transaction}\n        errored={isError}\n        options={options}\n        dataDisplayType={dataDisplayType}\n        setDataDisplayType={setDataDisplayType}\n      />\n    </StyledPanel>\n  );\n}\n\nconst StyledPanel = styled(Panel)`\n  padding-top: ${space(2)};\n  margin-bottom: 0;\n`;\n\nconst getEventView = (\n  location: Location,\n  pageFilters: PageFilters,\n  query: string,\n  groups: string[],\n  dataDisplayType: DataDisplayType,\n  getTimeseries?: boolean\n) => {\n  const yAxis =\n    dataDisplayType === DataDisplayType.DURATION_P95\n      ? `p95(${SPAN_SELF_TIME})`\n      : `sum(${SPAN_SELF_TIME})`;\n\n  return EventView.fromNewQueryWithLocation(\n    {\n      name: '',\n      fields: [`sum(${SPAN_SELF_TIME})`, `p95(${SPAN_SELF_TIME})`, ...groups],\n      yAxis: getTimeseries ? [yAxis] : [],\n      query,\n      dataset: DiscoverDatasets.SPANS_METRICS,\n      orderby: '-sum_span_self_time',\n      version: 2,\n      topEvents: groups.length > 0 ? '4' : undefined,\n      interval: getTimeseries ? getInterval(pageFilters.datetime, 'low') : undefined,\n    },\n    location\n  );\n};\n\nconst getCumulativeTimeEventView = (\n  location: Location,\n  query: string,\n  groups: string[]\n) => {\n  return EventView.fromNewQueryWithLocation(\n    {\n      name: '',\n      fields: [`sum(${SPAN_SELF_TIME})`, ...groups],\n      query,\n      dataset: DiscoverDatasets.SPANS_METRICS,\n      orderby: '-sum_span_self_time',\n      version: 2,\n      topEvents: groups.length > 0 ? '4' : undefined,\n    },\n    location\n  );\n};\n","import {EventsStats, MultiSeriesEventsStats} from 'sentry/types';\nimport EventView, {encodeSort} from 'sentry/utils/discover/eventView';\nimport {\n  DiscoverQueryProps,\n  useGenericDiscoverQuery,\n} from 'sentry/utils/discover/genericDiscoverQuery';\nimport {useLocation} from 'sentry/utils/useLocation';\nimport useOrganization from 'sentry/utils/useOrganization';\nimport {\n  getRetryDelay,\n  shouldRetryHandler,\n} from 'sentry/views/starfish/utils/retryHandlers';\n\nexport function useEventsStatsQuery({\n  eventView,\n  enabled,\n  initialData,\n  referrer,\n}: {\n  eventView: EventView;\n  enabled?: boolean;\n  initialData?: any;\n  referrer?: string;\n}) {\n  const location = useLocation();\n  const organization = useOrganization();\n  const {isLoading, data, isError} = useGenericDiscoverQuery<\n    EventsStats | MultiSeriesEventsStats,\n    DiscoverQueryProps\n  >({\n    route: 'events-stats',\n    eventView,\n    location,\n    orgSlug: organization.slug,\n    getRequestPayload: () => ({\n      ...eventView.getEventsAPIPayload(location),\n      yAxis: eventView.yAxis,\n      topEvents: eventView.topEvents,\n      excludeOther: 0,\n      partial: 1,\n      orderby: eventView.sorts?.[0] ? encodeSort(eventView.sorts?.[0]) : undefined,\n      interval: eventView.interval,\n    }),\n    options: {\n      enabled,\n      refetchOnWindowFocus: false,\n      retry: shouldRetryHandler,\n      retryDelay: getRetryDelay,\n      staleTime: Infinity,\n    },\n    referrer,\n  });\n  return {\n    isLoading,\n    data: isLoading && initialData ? initialData : data,\n    isError,\n  };\n}\n"],"names":["SortLink","_ref","align","title","canSort","generateSortLink","onClick","direction","replace","target","_jsx","StyledNonLink","children","arrow","StyledIconArrow","size","_jsxs","StyledLink","to","e","preventDefault","browserHistory","displayName","_styled","props","_align","css","_css","forwardProps","Link","p","IconArrow","name","styles","shouldRefetchData","prevProps","nextProps","transactionName","transactionThreshold","transactionThresholdMetric","DiscoverQuery","GenericDiscoverQuery","route","afterFetch","data","_","fields","otherMeta","meta","useDiscoverQuery","res","useGenericDiscoverQuery","pageLinks","response","getResponseHeader","undefined","THROUGHPUT_COLOR","CHART_PALETTE","P95_COLOR","ERRORS_COLOR","StarfishDatePicker","organization","useOrganization","DatePageFilter","maxDateRange","MAXIMUM_DATE_RANGE","disallowArbitraryRelativeRanges","relativeOptions","t","defaultPeriod","alignDropdown","onChange","start","end","relative","trackAnalytics","StarfishPageFilterContainer","router","useRouter","location","useLocation","selection","usePageFilters","datetime","endTime","startTime","getDateFilters","diff","period","pathname","query","statsPeriod","PageFiltersContainer","throughputPerSecond","arguments","length","toFixed","shouldRetryHandler","failureCount","error","message","includes","getRetryDelay","attempt","Math","pow","SpanGroupBreakdown","topSeriesData","transaction","isTimeseriesLoading","errored","options","dataDisplayType","setDataDisplayType","hasDropdownFeatureFlag","features","visibleSeries","index","series","emphasis","disabled","focus","blur","areaStyle","opacity","triggerLineEvent","push","dataAsPercentages","cloneDeep","numDataPoints","i","totalTimeAtIndex","reduce","acc","datum","value","forEach","segment","clone","isEndpointBreakdownView","Boolean","FlexRowContainer","ChartPadding","Header","ChartLabel","CompactSelect","option","display","VisuallyCompleteWithData","id","hasData","Chart","height","showLegend","DataDisplayType","PERCENTAGE","dataMax","durationUnit","loading","utc","event","seriesName","grid","left","right","top","bottom","definedAxisTicks","stacked","aggregateOutputFormat","tooltipFormatterOptions","valueFormatter","tooltipFormatterUsingAggregateOutputType","onLegendSelectChanged","selected","Object","keys","filter","key","toggled","space","theme","text","cardTitle","SPAN_SELF_TIME","SpanMetricsFields","OTHER_SPAN_GROUP_MODULE","NULL_SPAN_CATEGORY","SpanGroupBreakdownContainer","transactionMethod","pageFilter","useTheme","label","DURATION_P95","CUMULATIVE_DURATION","useState","segments","isLoading","isSegmentsLoading","eventView","getCumulativeTimeEventView","orgSlug","slug","referrer","limit","cumulativeTime","isCumulativeDataLoading","isTopDataLoading","topData","isError","enabled","initialData","getRequestPayload","getEventsAPIPayload","yAxis","topEvents","excludeOther","partial","orderby","sorts","encodeSort","interval","refetchOnWindowFocus","retry","retryDelay","staleTime","Infinity","useEventsStatsQuery","getEventView","totalValues","parseInt","totalSegments","otherValue","transformedData","defined","element","category","group","seriesByDomain","colorPalette","charts","getColorPalette","color","seriesData","map","count","values","StyledPanel","tableData","totalCumulativeTime","isTableLoading","isCumulativeTimeLoading","Panel","pageFilters","groups","getTimeseries","EventView","fromNewQueryWithLocation","dataset","DiscoverDatasets","SPANS_METRICS","version","getInterval"],"sourceRoot":""}