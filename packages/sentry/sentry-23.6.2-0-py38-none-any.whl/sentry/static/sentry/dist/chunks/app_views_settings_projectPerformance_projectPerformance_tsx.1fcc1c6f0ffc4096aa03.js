"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_projectPerformance_projectPerformance_tsx"],{"./app/components/forms/formPanel.tsx":(e,t,s)=>{s.d(t,{Z:()=>p});var a=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("../node_modules/react/index.js"),n=s("./app/components/forms/fieldFromConfig.tsx"),r=s("./app/components/panels/index.tsx"),i=s("./app/icons/index.tsx"),l=s("./app/utils/sanitizeQuerySelector.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){let{additionalFieldProps:t={},title:s,fields:a,access:c,disabled:p,renderFooter:u,renderHeader:m,collapsible:_,initiallyCollapsed:f=!1,...g}=e;const[b,E]=(0,o.useState)(f),D=(0,o.useCallback)((()=>E((e=>!e))),[]);return(0,d.BX)(r.s_,{id:"string"==typeof s?(0,l.m)(s):void 0,children:[s&&(0,d.BX)(r.V9,{children:[s,_&&(0,d.tZ)(h,{onClick:D,children:(0,d.tZ)(i.g6,{"data-test-id":"form-panel-collapse-chevron",direction:b?"down":"up",size:"xs"})})]}),(0,d.BX)(r.N,{hidden:b,children:["function"==typeof m&&m({title:s,fields:a}),a.map((e=>{if("function"==typeof e)return e();const{defaultValue:s,...a}=e;return!0===p&&(a.disabled=!0,a.disabledReason=void 0),(0,d.tZ)(n.Z,{access:c,disabled:p,...g,...t,field:a,highlighted:g.highlighted===`#${e.name}`},e.name)})),"function"==typeof u&&u({title:s,fields:a})]})]})}c.displayName="FormPanel";const p=c,h=(0,a.Z)("span",{target:"eovlw60"})({name:"e0dnmk",styles:"cursor:pointer"})},"./app/components/forms/jsonForm.tsx":(e,t,s)=>{s.d(t,{Z:()=>m});var a=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../node_modules/react/index.js"),n=s("../node_modules/@sentry/core/esm/exports.js"),r=s("../node_modules/scroll-to-element/index.js"),i=s.n(r),l=s("./app/utils.tsx"),d=s("./app/utils/sanitizeQuerySelector.tsx"),c=s("./app/utils/withSentryRouter.tsx"),p=s("./app/components/forms/formPanel.tsx"),h=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class u extends o.Component{constructor(){super(...arguments),(0,a.Z)(this,"state",{highlighted:this.props.location?.hash})}componentDidMount(){this.scrollToHash()}componentDidUpdate(e){if(this.props.location&&this.props.location.hash!==e.location.hash){const e=this.props.location.hash;this.scrollToHash(e),this.setState({highlighted:e})}}scrollToHash(e){const t=e||this.props.location?.hash;if(t)try{i()((0,d.m)(decodeURIComponent(t)),{align:"middle",offset:-100})}catch(e){n.Tb(e)}}shouldDisplayForm(e){const t=e.filter((e=>"function"!=typeof e&&(0,l.ri)(e?.visible)));if(e.length===t.length){const{additionalFieldProps:e,...s}=this.props;return!t.every((t=>"function"==typeof t.visible?!t.visible({...s,...e}):!t.visible))}return!0}renderForm(e){let{fields:t,formPanelProps:s,title:a}=e;return this.shouldDisplayForm(t)||s?.renderFooter||s?.renderHeader?(0,h.tZ)(p.Z,{title:a,fields:t,...s}):null}render(){const{access:e,collapsible:t,initiallyCollapsed:s,fields:a,title:n,forms:r,disabled:i,features:l,additionalFieldProps:d,renderFooter:c,renderHeader:p,location:u,params:m,router:_,routes:f,...g}=this.props,b={access:e,disabled:i,features:l,additionalFieldProps:d,renderFooter:c,renderHeader:p,highlighted:this.state.highlighted,collapsible:t,initiallyCollapsed:s};return(0,h.BX)("div",{...g,children:[void 0!==r&&r.map(((e,t)=>(0,h.tZ)(o.Fragment,{children:this.renderForm({formPanelProps:b,...e})},t))),void 0===r&&void 0!==a&&this.renderForm({fields:a,formPanelProps:b,title:n})]})}}u.displayName="JsonForm";const m=(0,c.Z)(u)},"./app/utils/routeTitle.tsx":(e,t,s)=>{s.d(t,{Z:()=>a});const a=function(e,t){let s=arguments.length>3?arguments[3]:void 0;const a=`${e} - ${t}`,o=s?`${a} - ${s}`:a;return arguments.length>2&&void 0!==arguments[2]&&!arguments[2]?o:`${o} - Sentry`}},"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>r});var a=s("./app/components/asyncComponent.tsx"),o=s("./app/components/sentryDocumentTitle.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class r extends a.Z{getTitle(){return""}render(){return(0,n.tZ)(o.Z,{title:this.getTitle(),children:this.renderComponent()})}}r.displayName="AsyncView"},"./app/views/settings/project/permissionAlert.tsx":(e,t,s)=>{s.d(t,{Z:()=>d});var a=s("./app/components/acl/access.tsx"),o=s("./app/components/alert.tsx"),n=s("./app/locale.tsx"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const i=(0,n.t)("These settings can only be edited by users with the organization-level owner, manager, or team-level admin roles.");function l(e){let{access:t=["project:write"],project:s,team:n,...l}=e;return(0,r.tZ)(a.Z,{access:t,project:s,team:n,children:e=>{let{hasAccess:t}=e;return!t&&(0,r.tZ)(o.bZ,{"data-test-id":"project-permission-alert",type:"warning",...l,children:i})}})}l.displayName="PermissionAlert";const d=l},"./app/views/settings/projectPerformance/projectPerformance.tsx":(e,t,s)=>{s.d(t,{Yw:()=>B,ZP:()=>U});var a=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/react/index.js")),r=s("./app/components/acl/access.tsx"),i=s("./app/components/acl/feature.tsx"),l=s("./app/components/button.tsx"),d=s("./app/components/confirm.tsx"),c=s("./app/components/forms/fieldGroup/fieldWrapper.tsx"),p=s("./app/components/forms/form.tsx"),h=s("./app/components/forms/jsonForm.tsx"),u=s("./app/components/links/externalLink.tsx"),m=s("./app/components/loadingIndicator.tsx"),_=s("./app/components/panels/index.tsx"),f=s("./app/locale.tsx"),g=s("./app/stores/configStore.tsx"),b=s("./app/stores/projectsStore.tsx"),E=s("./app/styles/space.tsx"),D=s("./app/utils/analytics.tsx"),y=s("./app/utils/formatters.tsx"),S=s("./app/utils/isActiveSuperuser.tsx"),A=s("./app/utils/routeTitle.tsx"),T=s("./app/views/asyncView.tsx"),Z=s("./app/views/settings/components/settingsPageHeader.tsx"),v=s("./app/views/settings/project/permissionAlert.tsx"),x=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const B={boostLatestRelease:(0,f.t)("Prioritize new releases"),boostEnvironments:(0,f.t)("Prioritize dev environments"),boostLowVolumeTransactions:(0,f.t)("Prioritize low-volume transactions"),ignoreHealthChecks:(0,f.t)("Deprioritize health checks")},w=[50,100,200,300,400,500,1e3,2e3,3e3,4e3,5e3,6e3,7e3,8e3,9e3,1e4],I=[.2,.25,.3,.33,.4,.45,.5,.55,.6,.65,.7,.75,.8,.85,.9,.95],P=[5e4,1e5,3e5,4e5,5e5,512e3,6e5,7e5,8e5,9e5,1e6,2e6,3e6,4e6,5e6,6e6,7e6,8e6,9e6,1e7];var j;let L;!function(e){e.N_PLUS_DB_ENABLED="n_plus_one_db_queries_detection_enabled",e.SLOW_DB_ENABLED="slow_db_queries_detection_enabled",e.DB_MAIN_THREAD_ENABLED="db_on_main_thread_detection_enabled",e.FILE_IO_ENABLED="file_io_on_main_thread_detection_enabled",e.CONSECUTIVE_DB_ENABLED="consecutive_db_queries_detection_enabled",e.RENDER_BLOCK_ASSET_ENABLED="large_render_blocking_asset_detection_enabled",e.UNCOMPRESSED_ASSET_ENABLED="uncompressed_assets_detection_enabled",e.LARGE_HTTP_PAYLOAD_ENABLED="large_http_payload_detection_enabled"}(j||(j={})),function(e){e.SLOW_DB_DURATION="slow_db_query_duration_threshold",e.N_PLUS_DB_DURATION="n_plus_one_db_duration_threshold",e.RENDER_BLOCKING_ASSET_RATIO="render_blocking_fcp_ratio",e.LARGE_HTT_PAYLOAD_SIZE="large_http_payload_size_threshold",e.DB_ON_MAIN_THREAD_DURATION="db_on_main_thread_duration_threshold",e.FILE_IO_MAIN_THREAD_DURATION="file_io_on_main_thread_duration_threshold",e.UNCOMPRESSED_ASSET_DURATION="uncompressed_asset_duration_threshold",e.UNCOMPRESSED_ASSET_SIZE="uncompressed_asset_size_threshold",e.CONSECUTIVE_DB_MIN_TIME_SAVED="consecutive_db_min_time_saved_threshold"}(L||(L={}));class N extends T.Z{constructor(){super(...arguments),(0,a.Z)(this,"handleDelete",(()=>{const{projectId:e}=this.props.params,{organization:t}=this.props;this.setState({loading:!0}),this.api.request(`/projects/${t.slug}/${e}/transaction-threshold/configure/`,{method:"DELETE",success:()=>{(0,D.Gi)("performance_views.project_transaction_threshold.clear",{organization:t})},complete:()=>this.fetchData()})})),(0,a.Z)(this,"handleThresholdsReset",(()=>{const{projectId:e}=this.props.params,{organization:t,project:s}=this.props;this.setState({loading:!0}),(0,D.Gi)("performance_views.project_issue_detection_thresholds_reset",{organization:t,project_slug:s.slug}),this.api.request(`/projects/${t.slug}/${e}/performance-issues/configure/`,{method:"DELETE",complete:()=>this.fetchData()})})),(0,a.Z)(this,"project_owner_detector_settings",(e=>{const t=this.state.performance_issue_settings,s=g.Z.get("supportEmail"),a=e?(0,f._N)("Detection of this issue has been disabled. Contact our support team at [link:support@sentry.io].",{link:(0,x.tZ)(u.Z,{href:"mailto:"+s})}):null,o=e=>e?e<1e3?`${e}ms`:e/1e3+"s":"",n=e=>e?e<1e6?e/1e3+"KB":e/1e6+"MB":"",r=e=>{const t=e&&1e3/e;return t?5*Math.floor(t/5)+"fps":""};return[{title:(0,f.t)("N+1 DB Queries"),fields:[{name:L.N_PLUS_DB_DURATION,type:"range",label:(0,f.t)("Duration"),defaultValue:100,help:(0,f.t)("Setting the value to 200ms, means that an eligible event will be stored as a N+1 DB Query Issue only if the total duration of the involved spans exceeds 200ms"),allowedValues:w,disabled:!(e&&t[j.N_PLUS_DB_ENABLED]),formatLabel:o,disabledReason:a}]},{title:(0,f.t)("Slow DB Queries"),fields:[{name:L.SLOW_DB_DURATION,type:"range",label:(0,f.t)("Duration"),defaultValue:1e3,help:(0,f.t)("Setting the value to 2s, means that an eligible event will be stored as a Slow DB Query Issue only if the duration of the involved span exceeds 2s."),allowedValues:w.slice(1),disabled:!(e&&t[j.SLOW_DB_ENABLED]),formatLabel:o,disabledReason:a}]},{title:(0,f.t)("Large Render Blocking Asset"),fields:[{name:L.RENDER_BLOCKING_ASSET_RATIO,type:"range",label:(0,f.t)("FCP Ratio"),defaultValue:.33,help:(0,f.t)("Setting the value to 50%, means that an eligible event will be stored as a Large Render Blocking Asset Issue only if the duration of the involved span is at least 50% of First Contentful Paint (FCP)."),allowedValues:I,disabled:!(e&&t[j.RENDER_BLOCK_ASSET_ENABLED]),formatLabel:e=>e&&(0,y.rl)(e),disabledReason:a}]},{title:(0,f.t)("Large HTTP Payload"),fields:[{name:L.LARGE_HTT_PAYLOAD_SIZE,type:"range",label:(0,f.t)("Size"),defaultValue:1e6,help:(0,f.t)("Setting the value to 200KB, means that an eligible event will be stored as a Large HTTP Payload Issue only if the involved HTTP span has a payload size that exceeds 200KB."),allowedValues:P.slice(1),disabled:!(e&&t[j.LARGE_HTTP_PAYLOAD_ENABLED]),formatLabel:n,disabledReason:a}]},{title:(0,f.t)("DB on Main Thread"),fields:[{name:L.DB_ON_MAIN_THREAD_DURATION,type:"range",label:(0,f.t)("Duration"),defaultValue:16,help:(0,f.t)("Setting the value to 20fps, means that an eligible event will be stored as a DB on Main Thread Issue only if database spans on the main thread cause frame rate to drop below 20fps."),allowedValues:[10,16,33,50],disabled:!(e&&t[j.DB_MAIN_THREAD_ENABLED]),formatLabel:r,disabledReason:a}]},{title:(0,f.t)("File I/O on Main Thread"),fields:[{name:L.FILE_IO_MAIN_THREAD_DURATION,type:"range",label:(0,f.t)("Duration"),defaultValue:16,help:(0,f.t)("Setting the value to 20fps, means that an eligible event will be stored as a DB on Main Thread Issue only if File I/O spans on the main thread cause frame rate to drop below 20fps."),allowedValues:[10,16,33,50],disabled:!(e&&t[j.FILE_IO_ENABLED]),formatLabel:r,disabledReason:a}]},{title:(0,f.t)("Consecutive DB Queries"),fields:[{name:L.CONSECUTIVE_DB_MIN_TIME_SAVED,type:"range",label:(0,f.t)("Minimum Time Saved"),defaultValue:100,help:(0,f.t)("Setting the value to 500ms, means that an eligible event will be stored as a Consecutive DB Queries Issue only if the time saved by parallelizing the queries exceeds 500ms."),allowedValues:w.slice(0,11),disabled:!(e&&t[j.CONSECUTIVE_DB_ENABLED]),formatLabel:o,disabledReason:a}]},{title:(0,f.t)("Uncompressed Asset"),fields:[{name:L.UNCOMPRESSED_ASSET_SIZE,type:"range",label:(0,f.t)("Size"),defaultValue:512e3,help:(0,f.t)("Setting the value to 1MB, means that an eligible event will be stored as an Uncompressed Asset Issue only if the size of the uncompressed asset being transferred exceeds 1MB."),allowedValues:P.slice(1),disabled:!(e&&t[j.UNCOMPRESSED_ASSET_ENABLED]),formatLabel:n,disabledReason:a},{name:L.UNCOMPRESSED_ASSET_DURATION,type:"range",label:(0,f.t)("Duration"),defaultValue:500,help:(0,f.t)("Setting the value to 200ms, means that an eligible event will be stored as an Uncompressed Asset Issue only if the duration of the span responsible for transferring the uncompressed asset exceeds 200ms."),allowedValues:w.slice(1),disabled:!(e&&t[j.UNCOMPRESSED_ASSET_ENABLED]),formatLabel:o,disabledReason:a}]}]}))}getTitle(){const{projectId:e}=this.props.params;return(0,A.Z)((0,f.t)("Performance"),e,!1)}getProjectEndpoint(e){let{orgId:t,projectId:s}=e;return`/projects/${t}/${s}/`}getPerformanceIssuesEndpoint(e){let{orgId:t,projectId:s}=e;return`/projects/${t}/${s}/performance-issues/configure/`}getEndpoints(){const{params:e,organization:t}=this.props,{projectId:s}=e,a=[["threshold",`/projects/${t.slug}/${s}/transaction-threshold/configure/`],["project",`/projects/${t.slug}/${s}/`]];if(t.features.includes("project-performance-settings-admin")){const e=["performance_issue_settings",`/projects/${t.slug}/${s}/performance-issues/configure/`];a.push(e)}return a}getRetentionPrioritiesData(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];return{dynamicSamplingBiases:Object.entries(t[1].form).map((e=>{let[t,s]=e;return{id:t,active:s}}))}}getEmptyMessage(){return(0,f.t)("There is no threshold set for this project.")}renderLoading(){return(0,x.tZ)(V,{children:(0,x.tZ)(m.Z,{})})}get formFields(){return[{name:"metric",type:"select",label:(0,f.t)("Calculation Method"),options:[{value:"duration",label:(0,f.t)("Transaction Duration")},{value:"lcp",label:(0,f.t)("Largest Contentful Paint")}],help:(0,f._N)("This determines which duration is used to set your thresholds. By default, we use transaction duration which measures the entire length of the transaction. You can also set this to use a [link:Web Vital].",{link:(0,x.tZ)(u.Z,{href:"https://docs.sentry.io/product/performance/web-vitals/"})})},{name:"threshold",type:"string",label:(0,f.t)("Response Time Threshold (ms)"),placeholder:(0,f.t)("300"),help:(0,f._N)("Define what a satisfactory response time is based on the calculation method above. This will affect how your [link1:Apdex] and [link2:User Misery] thresholds are calculated. For example, misery will be 4x your satisfactory response time.",{link1:(0,x.tZ)(u.Z,{href:"https://docs.sentry.io/performance-monitoring/performance/metrics/#apdex"}),link2:(0,x.tZ)(u.Z,{href:"https://docs.sentry.io/product/performance/metrics/#user-misery"})})}]}get areAllConfigurationsDisabled(){let e=!0;return Object.values(j).forEach((t=>{e=e&&!this.state.performance_issue_settings[t]})),e}get performanceIssueFormFields(){return[{name:"performanceIssueCreationRate",type:"range",label:(0,f.t)("Performance Issue Creation Rate"),min:0,max:1,step:.01,defaultValue:0,help:(0,f.t)("This determines the rate at which performance issues are created. A rate of 0.0 will disable performance issue creation.")},{name:"performanceIssueSendToPlatform",type:"boolean",label:(0,f.t)("Send Occurrences To Platform"),defaultValue:!1,help:(0,f.t)("This determines whether performance issue occurrences are sent to the issues platform.")},{name:"performanceIssueCreationThroughPlatform",type:"boolean",label:(0,f.t)("Create Issues Through Issues Platform"),defaultValue:!1,help:(0,f.t)("This determines whether performance issues are created through the issues platform.")}]}get performanceIssueDetectorAdminFields(){return[{name:j.N_PLUS_DB_ENABLED,type:"boolean",label:(0,f.t)("N+1 DB Queries Detection Enabled"),defaultValue:!0,onChange:e=>this.setState({performance_issue_settings:{...this.state.performance_issue_settings,n_plus_one_db_queries_detection_enabled:e}})},{name:j.SLOW_DB_ENABLED,type:"boolean",label:(0,f.t)("Slow DB Queries Detection Enabled"),defaultValue:!0,onChange:e=>this.setState({performance_issue_settings:{...this.state.performance_issue_settings,slow_db_queries_detection_enabled:e}})},{name:j.RENDER_BLOCK_ASSET_ENABLED,type:"boolean",label:(0,f.t)("Large Render Blocking Asset Detection Enabled"),defaultValue:!0,onChange:e=>this.setState({performance_issue_settings:{...this.state.performance_issue_settings,large_render_blocking_asset_detection_enabled:e}})},{name:j.CONSECUTIVE_DB_ENABLED,type:"boolean",label:(0,f.t)("Consecutive DB Queries Detection Enabled"),defaultValue:!0,onChange:e=>this.setState({performance_issue_settings:{...this.state.performance_issue_settings,consecutive_db_queries_detection_enabled:e}})},{name:j.LARGE_HTTP_PAYLOAD_ENABLED,type:"boolean",label:(0,f.t)("Large HTTP Payload Detection Enabled"),defaultValue:!0,onChange:e=>this.setState({performance_issue_settings:{...this.state.performance_issue_settings,large_http_payload_detection_enabled:e}})},{name:j.DB_MAIN_THREAD_ENABLED,type:"boolean",label:(0,f.t)("DB On Main Thread Detection Enabled"),defaultValue:!0,onChange:e=>this.setState({performance_issue_settings:{...this.state.performance_issue_settings,db_on_main_thread_detection_enabled:e}})},{name:j.FILE_IO_ENABLED,type:"boolean",label:(0,f.t)("File I/O on Main Thread Detection Enabled"),defaultValue:!0,onChange:e=>this.setState({performance_issue_settings:{...this.state.performance_issue_settings,file_io_on_main_thread_detection_enabled:e}})},{name:j.UNCOMPRESSED_ASSET_ENABLED,type:"boolean",label:(0,f.t)("Uncompressed Assets Detection Enabled"),defaultValue:!0,onChange:e=>this.setState({performance_issue_settings:{...this.state.performance_issue_settings,uncompressed_assets_detection_enabled:e}})}]}get retentionPrioritiesFormFields(){return[{name:"boostLatestRelease",type:"boolean",label:B.boostLatestRelease,help:(0,f.t)("Captures more transactions for your new releases as they are being adopted"),getData:this.getRetentionPrioritiesData},{name:"boostEnvironments",type:"boolean",label:B.boostEnvironments,help:(0,f.t)('Captures more traces from environments that contain "debug", "dev", "local", "qa", and "test"'),getData:this.getRetentionPrioritiesData},{name:"boostLowVolumeTransactions",type:"boolean",label:B.boostLowVolumeTransactions,help:(0,f.t)("Balance high-volume endpoints so they don't drown out low-volume ones"),getData:this.getRetentionPrioritiesData},{name:"ignoreHealthChecks",type:"boolean",label:B.ignoreHealthChecks,help:(0,f.t)("Captures fewer of your health checks transactions"),getData:this.getRetentionPrioritiesData}]}get initialData(){const{threshold:e}=this.state;return{threshold:e.threshold,metric:e.metric}}renderBody(){const{organization:e,project:t}=this.props,s=`/projects/${e.slug}/${t.slug}/transaction-threshold/configure/`,a=["project:write"],o={orgId:e.slug,projectId:t.slug},c=this.getProjectEndpoint(o),u=this.getPerformanceIssuesEndpoint(o),m=(0,S.M)();return(0,x.BX)(n.Fragment,{children:[(0,x.tZ)(Z.Z,{title:(0,f.t)("Performance")}),(0,x.tZ)(v.Z,{project:t}),(0,x.tZ)(p.Z,{saveOnBlur:!0,allowUndo:!0,initialData:this.initialData,apiMethod:"POST",apiEndpoint:s,onSubmitSuccess:t=>{const s=this.initialData,a=s.metric===t.metric;(0,D.Gi)("performance_views.project_transaction_threshold.change",{organization:e,from:a?s.threshold:s.metric,to:a?t.threshold:t.metric,key:a?"threshold":"metric"}),this.setState({threshold:t})},children:(0,x.tZ)(r.Z,{access:a,project:t,children:e=>{let{hasAccess:t}=e;return(0,x.tZ)(h.Z,{title:(0,f.t)("General"),fields:this.formFields,disabled:!t,renderFooter:()=>(0,x.tZ)(R,{children:(0,x.tZ)(l.zx,{onClick:()=>this.handleDelete(),children:(0,f.t)("Reset All")})})})}})}),(0,x.tZ)(i.Z,{features:["organizations:dynamic-sampling"],children:(0,x.tZ)(p.Z,{saveOnBlur:!0,allowUndo:!0,initialData:t.dynamicSamplingBiases?.reduce(((e,t)=>(e[t.id]=t.active,e)),{})??{},onSubmitSuccess:(s,a,o,n)=>{b.Z.onUpdateSuccess(s),(0,D.Gi)(!0===n?.new?"dynamic_sampling_settings.priority_enabled":"dynamic_sampling_settings.priority_disabled",{organization:e,project_id:t.id,id:o})},apiMethod:"PUT",apiEndpoint:c,children:(0,x.tZ)(r.Z,{access:a,project:t,children:e=>{let{hasAccess:t}=e;return(0,x.tZ)(h.Z,{title:(0,f.t)("Retention Priorities"),fields:this.retentionPrioritiesFormFields,disabled:!t,renderFooter:()=>(0,x.tZ)(R,{children:(0,x.tZ)(l.zx,{external:!0,href:"https://docs.sentry.io/product/performance/performance-at-scale/",children:(0,f.t)("Read docs")})})})}})})}),(0,x.BX)(n.Fragment,{children:[(0,x.tZ)(i.Z,{features:["organizations:performance-issues-dev"],children:(0,x.tZ)(p.Z,{saveOnBlur:!0,allowUndo:!0,initialData:{performanceIssueCreationRate:this.state.project.performanceIssueCreationRate,performanceIssueSendToPlatform:this.state.project.performanceIssueSendToPlatform,performanceIssueCreationThroughPlatform:this.state.project.performanceIssueCreationThroughPlatform},apiMethod:"PUT",apiEndpoint:c,children:(0,x.tZ)(r.Z,{access:a,project:t,children:e=>{let{hasAccess:t}=e;return(0,x.tZ)(h.Z,{title:(0,f.t)("Performance Issues - All"),fields:this.performanceIssueFormFields,disabled:!t})}})})}),(0,x.BX)(i.Z,{features:["organizations:project-performance-settings-admin"],children:[m&&(0,x.tZ)(p.Z,{saveOnBlur:!0,allowUndo:!0,initialData:this.state.performance_issue_settings,apiMethod:"PUT",apiEndpoint:u,children:(0,x.tZ)(h.Z,{title:(0,f.t)("Performance Issues - Admin Detector Settings"),fields:this.performanceIssueDetectorAdminFields,disabled:!m})}),(0,x.tZ)(p.Z,{allowUndo:!0,initialData:this.state.performance_issue_settings,apiMethod:"PUT",apiEndpoint:u,saveOnBlur:!0,onSubmitSuccess:s=>{const[a,o]=Object.entries(s)[0];(0,D.Gi)("performance_views.project_issue_detection_threshold_changed",{organization:e,project_slug:t.slug,threshold_key:a,threshold_value:o})},children:(0,x.tZ)(r.Z,{access:a,project:t,children:e=>{let{hasAccess:t}=e;return(0,x.BX)("div",{children:[(0,x.tZ)(C,{children:(0,f.t)("Performance Issues - Detector Threshold Settings")}),(0,x.tZ)(O,{forms:this.project_owner_detector_settings(t),collapsible:!0,initiallyCollapsed:!0}),(0,x.tZ)(F,{children:(0,x.tZ)(R,{children:(0,x.tZ)(d.Z,{message:(0,f.t)("Are you sure you wish to reset all detector thresholds?"),onConfirm:()=>this.handleThresholdsReset(),disabled:!t||this.areAllConfigurationsDisabled,children:(0,x.tZ)(l.zx,{children:(0,f.t)("Reset All Thresholds")})})})})]})}})})]})]})]})}}const R=(0,o.Z)(_.Lv,{target:"e1gxzgr04"})({name:"1f60if8",styles:"justify-content:flex-end"}),C=(0,o.Z)(_.V9,{target:"e1gxzgr03"})("border:1px solid ",(e=>e.theme.border),";border-bottom:none;"),O=(0,o.Z)(h.Z,{target:"e1gxzgr02"})(_.s_,"{margin-bottom:0;border-radius:0;border-bottom:0;}",c.Z,"{border-top:1px solid ",(e=>e.theme.border),";}",c.Z,"+",c.Z,"{border-top:0;}",_.s_,"+",_.s_,"{border-top:1px solid ",(e=>e.theme.border),";}",_.V9,"{border-bottom:0;text-transform:none;margin-bottom:0;background:none;padding:",(0,E.D)(3)," ",(0,E.D)(2),";}"),F=(0,o.Z)(_.jH,{target:"e1gxzgr01"})("background:",(e=>e.theme.white),";border:1px solid ",(e=>e.theme.border),";border-radius:0 0 calc(",(e=>e.theme.panelBorderRadius)," - 1px) calc(",(e=>e.theme.panelBorderRadius)," - 1px);",R,"{padding:",(0,E.D)(1.5),";}"),V=(0,o.Z)("div",{target:"e1gxzgr00"})({name:"lj2qtm",styles:"margin:18px 18px 0"}),U=N}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_projectPerformance_projectPerformance_tsx.a102dd5a17197a7a873465aba8c4d17c.js.map