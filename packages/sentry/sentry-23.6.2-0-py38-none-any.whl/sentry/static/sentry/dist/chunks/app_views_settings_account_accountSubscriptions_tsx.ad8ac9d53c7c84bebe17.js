(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_account_accountSubscriptions_tsx"],{"./app/components/switchButton.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("../node_modules/react/index.js"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function r(e){let{forwardedRef:t,size:s="sm",isActive:i,forceActiveColor:o,isLoading:r,isDisabled:a,toggle:d,id:l,name:c,className:u,...b}=e;return(0,n.tZ)(p,{ref:t,id:l,name:c,type:"button",className:u,onClick:a?void 0:d,role:"checkbox","aria-checked":i,isLoading:r,disabled:a,isActive:i,size:s,"data-test-id":"switch",...b,children:(0,n.tZ)(m,{isDisabled:a,isActive:i,forceActiveColor:o,size:s})})}r.displayName="Switch";const a=e=>"sm"===e.size?16:24,d=e=>a(e)-("sm"===e.size?4:8),l=e=>"sm"===e.size?1:3,c=e=>e.isActive?l(e)+.875*a(e):l(e),p=(0,i.Z)("button",{target:"e1slsb9u1"})("display:inline-block;background:none;padding:0;border:1px solid ",(e=>e.theme.border),";position:relative;box-shadow:inset ",(e=>e.theme.dropShadowMedium),";height:",a,"px;width:",(e=>1.875*a(e)),"px;border-radius:",a,"px;transition:border 0.1s,box-shadow 0.1s;&[disabled]{cursor:not-allowed;}&:focus,&.focus-visible{outline:none;border-color:",(e=>e.theme.focusBorder),";box-shadow:",(e=>e.theme.focusBorder)," 0 0 0 1px;}"),m=(0,i.Z)("span",{target:"e1slsb9u0"})("display:block;position:absolute;border-radius:50%;transition:0.25s all ease;top:",l,"px;transform:translateX(",c,"px);width:",d,"px;height:",d,"px;background:",(e=>e.isActive||e.forceActiveColor?e.theme.active:e.theme.border),";opacity:",(e=>e.isDisabled?.4:null),";"),u=(0,o.forwardRef)(((e,t)=>(0,n.tZ)(r,{...e,forwardedRef:t})))},"./app/views/asyncView.tsx":(e,t,s)=>{"use strict";s.d(t,{Z:()=>r});var i=s("./app/components/asyncComponent.tsx"),o=s("./app/components/sentryDocumentTitle.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class r extends i.Z{getTitle(){return""}render(){return(0,n.tZ)(o.Z,{title:this.getTitle(),children:this.renderComponent()})}}r.displayName="AsyncView"},"./app/views/settings/account/accountSubscriptions.tsx":(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>A});var i=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),n=s("../node_modules/react/index.js"),r=s("../node_modules/lodash/groupBy.js"),a=s.n(r),d=s("../node_modules/lodash/orderBy.js"),l=s.n(d),c=s("../node_modules/moment/moment.js"),p=s.n(c),m=s("./app/actionCreators/indicator.tsx"),u=s("./app/components/dateTime.tsx"),b=s("./app/components/emptyMessage.tsx"),h=s("./app/components/panels/index.tsx"),g=s("./app/components/switchButton.tsx"),x=s("./app/icons/index.tsx"),y=s("./app/locale.tsx"),Z=s("./app/styles/space.tsx"),w=s("./app/views/asyncView.tsx"),f=s("./app/views/settings/components/settingsPageHeader.tsx"),v=s("./app/views/settings/components/text/textBlock.tsx"),_=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const j="/users/me/subscriptions/";class k extends w.Z{constructor(){super(...arguments),(0,i.Z)(this,"handleToggle",((e,t,s,i)=>{const o=!e.subscribed,n=this.state.subscriptions;this.setState((i=>{const n=[...i.subscriptions],r=n.findIndex((e=>e.listId===s&&e.email===t));return n[r]={...e,subscribed:o,subscribedDate:(new Date).toString()},{...i,subscriptions:n}})),this.api.request(j,{method:"PUT",data:{listId:e.listId,subscribed:o},success:()=>{(0,m.S9)(`${o?"Subscribed":"Unsubscribed"} to ${e.listName}`)},error:()=>{(0,m.Iw)(`Unable to ${o?"":"un"}subscribe to ${e.listName}`),this.setState({subscriptions:n})}})}))}getEndpoints(){return[["subscriptions",j]]}getTitle(){return(0,y.t)("Subscriptions")}renderBody(){const e=l()(Object.entries(a()(this.state.subscriptions,(e=>e.email))),(e=>{let[t]=e;return t}));return(0,_.BX)("div",{children:[(0,_.tZ)(f.Z,{title:this.getTitle()}),(0,_.tZ)(v.Z,{children:(0,y.t)("Sentry is committed to respecting your inbox. Our goal is to\n              provide useful content and resources that make fixing errors less\n              painful. Enjoyable even.")}),(0,_.tZ)(v.Z,{children:(0,y.t)("As part of our compliance with the EU’s General Data Protection\n              Regulation (GDPR), starting on 25 May 2018, we’ll only email you\n              according to the marketing categories to which you’ve explicitly\n              opted-in.")}),(0,_.tZ)(h.s_,{children:this.state.subscriptions.length?(0,_.BX)("div",{children:[(0,_.tZ)(h.V9,{children:(0,y.t)("Subscription")}),(0,_.tZ)(h.N,{children:e.map((t=>{let[s,i]=t;return(0,_.BX)(n.Fragment,{children:[e.length>1&&(0,_.BX)(S,{children:[(0,_.tZ)(x.oe,{})," ",(0,y.t)("Subscriptions for %s",s)]}),i.sort(((e,t)=>e.listId-t.listId)).map((e=>(0,_.BX)(h.Lv,{center:!0,children:[(0,_.BX)(D,{htmlFor:`${e.email}-${e.listId}`,"aria-label":e.listName,children:[(0,_.tZ)(B,{children:e.listName}),e.listDescription&&(0,_.tZ)(T,{children:e.listDescription}),e.subscribed?(0,_.tZ)(z,{children:(0,_.tZ)("div",{children:(0,y._N)("[email] on [date]",{email:e.email,date:(0,_.tZ)(u.Z,{date:p()(e.subscribedDate)})})})}):(0,_.tZ)(z,{children:(0,y.t)("Not currently subscribed")})]}),(0,_.tZ)("div",{children:(0,_.tZ)(g.Z,{id:`${e.email}-${e.listId}`,isActive:e.subscribed,size:"lg",toggle:this.handleToggle.bind(this,e,s,e.listId)})})]},e.listId)))]},s)}))})]}):(0,_.tZ)(b.Z,{children:(0,y.t)("There's no subscription backend present.")})}),(0,_.tZ)(v.Z,{children:(0,y.t)("We’re applying GDPR consent and privacy policies to all Sentry\n              contacts, regardless of location. You’ll be able to manage your\n              subscriptions here and from an Unsubscribe link in the footer of\n              all marketing emails.")}),(0,_.tZ)(v.Z,{children:(0,y._N)("Please contact [email:learn@sentry.io] with any questions or suggestions.",{email:(0,_.tZ)("a",{href:"mailto:learn@sentry.io"})})})]})}}const S=(0,o.Z)(h.Lv,{target:"e1ypnbyl4"})("display:grid;grid-template-columns:max-content 1fr;gap:",(0,Z.D)(1),";align-items:center;font-size:",(e=>e.theme.fontSizeMedium),";padding:",(0,Z.D)(1.5)," ",(0,Z.D)(2),";background:",(e=>e.theme.backgroundSecondary),";color:",(e=>e.theme.subText),";"),D=(0,o.Z)("label",{target:"e1ypnbyl3"})("font-weight:initial;padding-right:",(0,Z.D)(2),";width:85%;@media (min-width: ",(e=>e.theme.breakpoints.small),"){width:75%;}@media (min-width: ",(e=>e.theme.breakpoints.large),"){width:50%;}"),B=(0,o.Z)("div",{target:"e1ypnbyl2"})("font-size:",(e=>e.theme.fontSizeMedium),";"),T=(0,o.Z)("div",{target:"e1ypnbyl1"})("font-size:",(e=>e.theme.fontSizeSmall),";color:",(e=>e.theme.subText),";margin-top:",(0,Z.D)(.5),";"),z=(0,o.Z)(T,{target:"e1ypnbyl0"})("color:",(e=>e.theme.subText),";"),A=k},"../node_modules/lodash/groupBy.js":(e,t,s)=>{var i=s("../node_modules/lodash/_baseAssignValue.js"),o=s("../node_modules/lodash/_createAggregator.js"),n=Object.prototype.hasOwnProperty,r=o((function(e,t,s){n.call(e,s)?e[s].push(t):i(e,s,[t])}));e.exports=r}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_account_accountSubscriptions_tsx.1857a6b77a0d9f58477888c1f300e84b.js.map