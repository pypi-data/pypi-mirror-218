"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_project_projectKeys_details_index_tsx"],{"./app/components/forms/controls/rangeSlider/index.tsx":(e,t,r)=>{r.d(t,{Z:()=>m});var s=r("../node_modules/react/index.js"),o=r("./app/components/input.tsx"),n=r("./app/components/tooltip.tsx"),a=r("./app/locale.tsx"),i=r("./app/utils.tsx"),d=r("./app/components/forms/controls/rangeSlider/slider.tsx"),l=r("./app/components/forms/controls/rangeSlider/sliderAndInputWrapper.tsx");const c=(0,r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js").Z)("label",{target:"e1bimbwo0"})("font-size:14px;margin-bottom:",(e=>e.theme.grid),"px;color:",(e=>e.theme.subText),";");var p=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function u(e){let{id:t,value:r,allowedValues:u,showCustomInput:m,name:h,disabled:b,placeholder:g,formatLabel:f,className:y,onBlur:x,onChange:Z,forwardRef:w,disabledReason:k,showLabel:v=!0,...S}=e;const[j,_]=(0,s.useState)(u?u.indexOf(Number(r||0)):r);function D(e){const t=parseFloat(e.target.value);_(t),Z?.(function(e){return u?u[e]:e}(t),e)}function C(e){"function"==typeof x&&x(e)}(0,s.useEffect)((()=>{!function(){if(!(0,i.ri)(r))return;const e=u?.indexOf(Number(r||0))??-1;_(e>-1?e:r)}()}),[r]);const{min:R,max:N,step:L,actualValue:E,displayValue:I}=function(){if(!u){const{min:e,max:t,step:r}=S;return{min:e,max:t,step:r,actualValue:j,displayValue:j}}const e=u[j];return{step:1,min:0,max:u.length-1,actualValue:e,displayValue:(0,i.ri)(e)?e:(0,a.t)("Invalid value")}}(),P=f?.(E)??I;return(0,p.BX)("div",{className:y,ref:w,children:[!m&&v&&(0,p.tZ)(c,{children:P}),(0,p.tZ)(n.u,{title:k,disabled:!b,skipWrapper:!0,isHoverable:!0,children:(0,p.BX)(l.Z,{showCustomInput:m,children:[(0,p.tZ)(d.Z,{type:"range",name:h,id:t,min:R,max:N,step:L,disabled:b,onChange:D,onInput:D,onMouseUp:C,onKeyUp:C,value:j,hasLabel:!m,"aria-valuetext":P}),m&&(0,p.tZ)(o.Z,{placeholder:g,value:j,onChange:function(e){_(parseFloat(e.target.value)||0)},onBlur:D})]})})]})}u.displayName="RangeSlider";const m=(0,s.forwardRef)((function(e,t){return(0,p.tZ)(u,{...e,forwardRef:t})}))},"./app/components/forms/controls/rangeSlider/slider.tsx":(e,t,r)=>{r.d(t,{Z:()=>s});const s=(0,r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js").Z)("input",{target:"e1mw05q50"})("-webkit-appearance:none;width:100%;background:transparent;margin:",(e=>e.theme.grid),"px 0 ",(e=>e.theme.grid*(e.hasLabel?2:1)),"px;&::-webkit-slider-runnable-track{width:100%;height:3px;cursor:pointer;background:",(e=>e.theme.border),";border-radius:3px;border:0;}&::-moz-range-track{width:100%;height:3px;cursor:pointer;background:",(e=>e.theme.border),";border-radius:3px;border:0;}&::-ms-track{width:100%;height:3px;cursor:pointer;background:",(e=>e.theme.border),";border-radius:3px;border:0;}&::-webkit-slider-thumb{box-shadow:0 0 0 3px ",(e=>e.theme.background),";height:17px;width:17px;border-radius:50%;background:",(e=>e.theme.active),";cursor:pointer;-webkit-appearance:none;margin-top:-7px;border:0;transition:background 0.1s,box-shadow 0.1s;}&::-moz-range-thumb{box-shadow:0 0 0 3px ",(e=>e.theme.background),";height:17px;width:17px;border-radius:50%;background:",(e=>e.theme.active),";cursor:pointer;-webkit-appearance:none;margin-top:-7px;border:0;transition:background 0.1s,box-shadow 0.1s;}&::-ms-thumb{box-shadow:0 0 0 3px ",(e=>e.theme.background),";height:17px;width:17px;border-radius:50%;background:",(e=>e.theme.active),";cursor:pointer;-webkit-appearance:none;margin-top:-7px;border:0;transition:background 0.1s,box-shadow 0.1s;}&::-ms-fill-lower{background:",(e=>e.theme.border),";border:0;border-radius:50%;}&::-ms-fill-upper{background:",(e=>e.theme.border),";border:0;border-radius:50%;}&:focus{outline:none;&::-webkit-slider-runnable-track{background:",(e=>e.theme.border),";}&::-ms-fill-upper{background:",(e=>e.theme.border),";}&::-ms-fill-lower{background:",(e=>e.theme.border),";}}&[disabled]{&::-webkit-slider-thumb{background:",(e=>e.theme.border),";cursor:default;}&::-moz-range-thumb{background:",(e=>e.theme.border),";cursor:default;}&::-ms-thumb{background:",(e=>e.theme.border),";cursor:default;}&::-webkit-slider-runnable-track{cursor:default;}&::-moz-range-track{cursor:default;}&::-ms-track{cursor:default;}}&:not([disabled])::-webkit-slider-runnable-track:hover{background:",(e=>e.theme.activeHover),";}&:not([disabled])::-moz-range-thumb:hover{background:",(e=>e.theme.activeHover),";}&:not([disabled])::-ms-thumb:hover{background:",(e=>e.theme.activeHover),";}&:focus::-webkit-slider-thumb,&.focus-visible::-webkit-slider-thumb{box-shadow:",(e=>e.theme.background)," 0 0 0 3px,",(e=>e.theme.focus)," 0 0 0 6px;}&:focus::-moz-range-thumb,&.focus-visible::-moz-range-thumb{box-shadow:",(e=>e.theme.background)," 0 0 0 3px,",(e=>e.theme.focus)," 0 0 0 6px;}&:focus::-ms-thumb,&.focus-visible::-ms-thumb{box-shadow:",(e=>e.theme.background)," 0 0 0 3px,",(e=>e.theme.focus)," 0 0 0 6px;}")},"./app/components/forms/controls/rangeSlider/sliderAndInputWrapper.tsx":(e,t,r)=>{r.d(t,{Z:()=>n});var s=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=r("./app/styles/space.tsx");const n=(0,s.Z)("div",{target:"ejt5u5d0"})("display:grid;align-items:center;grid-auto-flow:column;grid-template-columns:4fr ",(e=>e.showCustomInput&&"1fr"),";gap:",(0,o.D)(1),";")},"./app/components/forms/fields/booleanField.tsx":(e,t,r)=>{r.d(t,{Z:()=>c});var s=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=r("../node_modules/react/index.js"),n=r("./app/components/confirm.tsx"),a=r("./app/components/forms/formField/index.tsx"),i=r("./app/components/switchButton.tsx"),d=r("./app/components/tooltip.tsx"),l=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class c extends o.Component{constructor(){super(...arguments),(0,s.Z)(this,"handleChange",((e,t,r,s)=>{const o=this.coerceValue(!e);t(o,s),r(o,s)}))}coerceValue(e){return!!e}render(){const{confirm:e,disabledReason:t,...r}=this.props;return(0,l.tZ)(a.Z,{...r,resetOnError:!0,children:r=>{let{children:s,onChange:o,onBlur:a,value:c,disabled:p,...u}=r;const m=this.handleChange.bind(this,c,o,a),{type:h,...b}=u,g={...b,size:"lg",isActive:!!c,isDisabled:p,toggle:m};return e?(0,l.tZ)(n.Z,{renderMessage:()=>e[(!c).toString()],onConfirm:()=>m({}),children:r=>{let{open:s}=r;return(0,l.tZ)(d.u,{title:t,skipWrapper:!0,disabled:!p,children:(0,l.tZ)(i.Z,{...g,toggle:t=>{e[(!c).toString()]?s():m(t)}})})}}):(0,l.tZ)(d.u,{title:t,skipWrapper:!0,disabled:!p,children:(0,l.tZ)(i.Z,{...g})})}})}}c.displayName="BooleanField"},"./app/components/switchButton.tsx":(e,t,r)=>{r.d(t,{Z:()=>m});var s=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=r("../node_modules/react/index.js"),n=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){let{forwardedRef:t,size:r="sm",isActive:s,forceActiveColor:o,isLoading:a,isDisabled:i,toggle:d,id:l,name:c,className:m,...h}=e;return(0,n.tZ)(p,{ref:t,id:l,name:c,type:"button",className:m,onClick:i?void 0:d,role:"checkbox","aria-checked":s,isLoading:a,disabled:i,isActive:s,size:r,"data-test-id":"switch",...h,children:(0,n.tZ)(u,{isDisabled:i,isActive:s,forceActiveColor:o,size:r})})}a.displayName="Switch";const i=e=>"sm"===e.size?16:24,d=e=>i(e)-("sm"===e.size?4:8),l=e=>"sm"===e.size?1:3,c=e=>e.isActive?l(e)+.875*i(e):l(e),p=(0,s.Z)("button",{target:"e1slsb9u1"})("display:inline-block;background:none;padding:0;border:1px solid ",(e=>e.theme.border),";position:relative;box-shadow:inset ",(e=>e.theme.dropShadowMedium),";height:",i,"px;width:",(e=>1.875*i(e)),"px;border-radius:",i,"px;transition:border 0.1s,box-shadow 0.1s;&[disabled]{cursor:not-allowed;}&:focus,&.focus-visible{outline:none;border-color:",(e=>e.theme.focusBorder),";box-shadow:",(e=>e.theme.focusBorder)," 0 0 0 1px;}"),u=(0,s.Z)("span",{target:"e1slsb9u0"})("display:block;position:absolute;border-radius:50%;transition:0.25s all ease;top:",l,"px;transform:translateX(",c,"px);width:",d,"px;height:",d,"px;background:",(e=>e.isActive||e.forceActiveColor?e.theme.active:e.theme.border),";opacity:",(e=>e.isDisabled?.4:null),";"),m=(0,o.forwardRef)(((e,t)=>(0,n.tZ)(a,{...e,forwardedRef:t})))},"./app/views/asyncView.tsx":(e,t,r)=>{r.d(t,{Z:()=>a});var s=r("./app/components/asyncComponent.tsx"),o=r("./app/components/sentryDocumentTitle.tsx"),n=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class a extends s.Z{getTitle(){return""}render(){return(0,n.tZ)(o.Z,{title:this.getTitle(),children:this.renderComponent()})}}a.displayName="AsyncView"},"./app/views/settings/project/permissionAlert.tsx":(e,t,r)=>{r.d(t,{Z:()=>l});var s=r("./app/components/acl/access.tsx"),o=r("./app/components/alert.tsx"),n=r("./app/locale.tsx"),a=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const i=(0,n.t)("These settings can only be edited by users with the organization-level owner, manager, or team-level admin roles.");function d(e){let{access:t=["project:write"],project:r,team:n,...d}=e;return(0,a.tZ)(s.Z,{access:t,project:r,team:n,children:e=>{let{hasAccess:t}=e;return!t&&(0,a.tZ)(o.bZ,{"data-test-id":"project-permission-alert",type:"warning",...d,children:i})}})}d.displayName="PermissionAlert";const l=d},"./app/views/settings/project/projectKeys/details/index.tsx":(e,t,r)=>{r.r(t),r.d(t,{default:()=>te});var s=r("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=(r("../node_modules/core-js/modules/es.array.push.js"),r("../node_modules/react-router/es/index.js")),n=r("./app/locale.tsx"),a=r("./app/utils/withDomainRequired.tsx"),i=r("./app/views/asyncView.tsx"),d=r("./app/views/settings/components/settingsPageHeader.tsx"),l=r("./app/views/settings/project/permissionAlert.tsx"),c=r("../node_modules/react/index.js"),p=r("./app/actionCreators/indicator.tsx"),u=r("./app/components/acl/access.tsx"),m=r("./app/components/button.tsx"),h=r("./app/components/confirm.tsx"),b=r("./app/components/dateTime.tsx"),g=r("./app/components/forms/fieldGroup/index.tsx"),f=r("./app/components/forms/fields/booleanField.tsx"),y=r("./app/components/forms/fields/textField.tsx"),x=r("./app/components/forms/form.tsx"),Z=r("./app/components/panels/index.tsx"),w=r("./app/utils/useApi.tsx"),k=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),v=r("../node_modules/lodash/sortBy.js"),S=r.n(v),j=r("./app/components/acl/feature.tsx"),_=r("./app/components/acl/featureDisabled.tsx"),D=r("./app/components/forms/controls/rangeSlider/index.tsx"),C=r("./app/components/forms/formField/index.tsx"),R=r("./app/components/input.tsx"),N=r("./app/styles/space.tsx"),L=r("./app/utils.tsx"),E=r("./app/utils/formatters.tsx"),I=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const P=[0,60,300,900,3600,7200,14400,21600,43200,86400];function V(e){let{data:t,disabled:r,organization:s,params:o}=e;function a(e,t,r){e({...t,count:Number(r.target.value)},r)}function i(e){const{rateLimit:r}=t,{window:s}=r??{};if((0,L.ri)(s)){if(e!==s)return P;if(!P.includes(s))return S()([...P,s])}return P}const{keyId:d,projectId:l}=o,c=`/projects/${s.slug}/${l}/keys/${d}/`,p=e=>{let{features:t}=e;return(0,I.tZ)(_.Z,{alert:Z.aU,features:t,featureName:(0,n.t)("Key Rate Limits")})};return(0,I.tZ)(x.Z,{saveOnBlur:!0,apiEndpoint:c,apiMethod:"PUT",initialData:t,children:(0,I.tZ)(j.Z,{features:["projects:rate-limits"],hookName:"feature-disabled:rate-limits",renderDisabled:e=>{let{children:t,...r}=e;return"function"==typeof t&&t({...r,renderDisabled:p})},children:e=>{let{hasFeature:t,features:o,project:d,renderDisabled:l}=e;return(0,I.BX)(Z.s_,{children:[(0,I.tZ)(Z.V9,{children:(0,n.t)("Rate Limits")}),(0,I.BX)(Z.N,{children:[(0,I.tZ)(Z.aU,{type:"info",showIcon:!0,children:(0,n.t)("Rate limits provide a flexible way to manage your error\n                    volume. If you have a noisy project or environment you\n                    can configure a rate limit for this key to reduce the\n                    number of errors processed. To manage your transaction\n                    volume, we recommend adjusting your sample rate in your\n                    SDK configuration.")}),!t&&"function"==typeof l&&l({organization:s,project:d,features:o,hasFeature:t,children:null}),(0,I.tZ)(C.Z,{name:"rateLimit",label:(0,n.t)("Rate Limit"),disabled:r||!t,validate:e=>{let{form:t}=e;return t&&t.rateLimit&&void 0!==t.rateLimit.count&&void 0!==t.rateLimit.window?[]:[["rateLimit",(0,n.t)("Fill in both fields first")]]},formatMessageValue:e=>{let{count:t,window:r}=e;return(0,n._N)("[errors] in [timeWindow]",{errors:(0,n.tn)("%s error ","%s errors ",t),timeWindow:0===r?(0,n.t)("no time window"):(0,E._U)(r)})},help:(0,n.t)("Apply a rate limit to this credential to cap the amount of errors accepted during a time window."),inline:!1,children:e=>{let{onChange:s,onBlur:o,value:d}=e;const l="object"==typeof d?d.window:void 0;return(0,I.BX)(B,{children:[(0,I.tZ)(R.Z,{type:"number",name:"rateLimit.count",min:0,value:"object"==typeof d?d.count:void 0,placeholder:(0,n.t)("Count"),disabled:r||!t,onChange:e=>a(s,d,e),onBlur:e=>a(o,d,e)}),(0,I.tZ)(K,{children:(0,n.t)("event(s) in")}),(0,I.tZ)(D.Z,{name:"rateLimit.window",allowedValues:i(l),value:l,placeholder:(0,n.t)("Window"),formatLabel:e=>{if("number"==typeof e)return 0===e?(0,n.t)("None"):(0,E._U)(e)},disabled:r||!t,onChange:(e,t)=>function(e,t,r,s,o){const n={...r,window:s};e(n,o),t(n,o)}(s,o,d,Number(e),t)})]})}})]})]})}})})}V.displayName="KeyRateLimitsForm";const z=V,B=(0,k.Z)("div",{target:"e16o2t481"})("display:grid;grid-template-columns:2fr 1fr 2fr;align-items:center;gap:",(0,N.D)(1),";"),K=(0,k.Z)("small",{target:"e16o2t480"})("font-size:",(e=>e.theme.fontSizeRelativeSmall),";text-align:center;white-space:nowrap;");var T=r("./app/components/forms/fields/selectField.tsx"),A=r("./app/components/links/externalLink.tsx"),O=r("./app/components/textCopyInput.tsx"),U=r("./app/utils/getDynamicText.tsx"),X=r("./app/utils/handleXhrErrorResponse.tsx");function $(e){let{keyId:t,orgSlug:r,project:s,data:o,updateData:a}=e;const i=(0,w.Z)(),[d,l]=(0,c.useState)(!1),[m,h]=(0,c.useState)({browserSdkVersion:o.browserSdkVersion,hasDebug:o.dynamicSdkLoaderOptions.hasDebug,hasPerformance:o.dynamicSdkLoaderOptions.hasPerformance,hasReplay:o.dynamicSdkLoaderOptions.hasReplay}),b=d?m:{browserSdkVersion:o.browserSdkVersion,hasDebug:o.dynamicSdkLoaderOptions.hasDebug,hasPerformance:o.dynamicSdkLoaderOptions.hasPerformance,hasReplay:o.dynamicSdkLoaderOptions.hasReplay},y=`/projects/${r}/${s.slug}/keys/${t}/`,x=(0,U.Z)({value:o.dsn.cdn,fixed:"__JS_SDK_LOADER_URL__"}),Z=(0,c.useCallback)((async e=>{l(!0),h({browserSdkVersion:o.browserSdkVersion,hasDebug:o.dynamicSdkLoaderOptions.hasDebug,hasPerformance:o.dynamicSdkLoaderOptions.hasPerformance,hasReplay:o.dynamicSdkLoaderOptions.hasReplay,...e}),(0,p.E3)();const t=e.browserSdkVersion??o.browserSdkVersion;let r;r=F(t)?{browserSdkVersion:t,dynamicSdkLoaderOptions:{hasDebug:e.hasDebug??o.dynamicSdkLoaderOptions.hasDebug,hasPerformance:e.hasPerformance??o.dynamicSdkLoaderOptions.hasPerformance,hasReplay:e.hasReplay??o.dynamicSdkLoaderOptions.hasReplay}}:{browserSdkVersion:t,dynamicSdkLoaderOptions:{hasDebug:e.hasDebug??o.dynamicSdkLoaderOptions.hasDebug,hasPerformance:!1,hasReplay:!1}};try{const e=await i.requestPromise(y,{method:"PUT",data:r});a(e),(0,p.S9)((0,n.t)("Successfully updated dynamic SDK loader configuration"))}catch(e){const t=(0,n.t)("Unable to updated dynamic SDK loader configuration");(0,X.X)(t,e),(0,p.Iw)(t)}finally{l(!1)}}),[i,y,o.browserSdkVersion,o.dynamicSdkLoaderOptions.hasDebug,o.dynamicSdkLoaderOptions.hasPerformance,o.dynamicSdkLoaderOptions.hasReplay,l,a]);return(0,I.tZ)(u.Z,{access:["project:write"],project:s,children:e=>{let{hasAccess:t}=e;return(0,I.BX)(c.Fragment,{children:[(0,I.tZ)(g.Z,{help:(0,n._N)("Copy this script into your website to setup your JavaScript SDK without any additional configuration. [link]",{link:(0,I.tZ)(A.Z,{href:"https://docs.sentry.io/platforms/javascript/install/lazy-load-sentry/",children:(0,n.t)(" What does the script provide?")})}),inline:!1,flexibleControlStateSize:!0,children:(0,I.tZ)(O.Z,{children:`<script src='${x}' crossorigin="anonymous"><\/script>`})}),(0,I.tZ)(T.Z,{name:"browserSdkVersion",label:(0,n.t)("SDK Version"),options:o.browserSdk?o.browserSdk.choices.map((e=>{let[t,r]=e;return{value:t,label:r}})):[],value:b.browserSdkVersion,onChange:e=>{Z({browserSdkVersion:e})},placeholder:"7.x",allowClear:!1,disabled:!t||d}),(0,I.tZ)(f.Z,{label:(0,n.t)("Enable Performance Monitoring"),name:"has-performance",value:!!F(o.browserSdkVersion)&&b.hasPerformance,onChange:e=>{Z({hasPerformance:e})},disabled:!t||d||!F(o.browserSdkVersion),help:F(o.browserSdkVersion)?void 0:(0,n.t)("Only available in SDK version 7.x and above"),disabledReason:t?void 0:(0,n.t)("You do not have permission to edit this setting")}),(0,I.tZ)(f.Z,{label:(0,n.t)("Enable Session Replay"),name:"has-replay",value:!!F(o.browserSdkVersion)&&b.hasReplay,onChange:e=>{Z({hasReplay:e})},disabled:!t||d||!F(o.browserSdkVersion),help:F(o.browserSdkVersion)?o.dynamicSdkLoaderOptions.hasReplay?(0,n.t)("When using Replay, the loader will load the ES6 bundle instead of the ES5 bundle."):void 0:(0,n.t)("Only available in SDK version 7.x and above"),disabledReason:t?void 0:(0,n.t)("You do not have permission to edit this setting")}),(0,I.tZ)(f.Z,{label:(0,n.t)("Enable Debug Bundles & Logging"),name:"has-logging",value:b.hasDebug,onChange:e=>{Z({hasDebug:e})},disabled:!t||d,disabledReason:t?void 0:(0,n.t)("You do not have permission to edit this setting")})]})}})}function F(e){return"latest"===e||"7.x"===e}$.displayName="LoaderSettings";var M=r("./app/views/settings/project/projectKeys/projectKeyCredentials.tsx");function q(e){let{onRemove:t,organization:r,project:s,params:o,data:a,updateData:i}=e;const d=(0,w.Z)(),{keyId:l,projectId:k}=o,v=`/projects/${r.slug}/${k}/keys/${l}/`,S=(0,c.useCallback)((async()=>{(0,p.E3)((0,n.t)("Revoking key…"));try{await d.requestPromise(`/projects/${r.slug}/${k}/keys/${l}/`,{method:"DELETE"}),t(),(0,p.S9)((0,n.t)("Revoked key"))}catch(e){(0,p.Iw)((0,n.t)("Unable to revoke key"))}}),[r,d,t,l,k]);return(0,I.BX)(c.Fragment,{children:[(0,I.tZ)(u.Z,{access:["project:write"],project:s,children:e=>{let{hasAccess:t}=e;return(0,I.BX)(c.Fragment,{children:[(0,I.tZ)(x.Z,{saveOnBlur:!0,allowUndo:!0,apiEndpoint:v,apiMethod:"PUT",initialData:a,children:(0,I.BX)(Z.s_,{children:[(0,I.tZ)(Z.V9,{children:(0,n.t)("Details")}),(0,I.BX)(Z.N,{children:[(0,I.tZ)(y.Z,{name:"name",label:(0,n.t)("Name"),disabled:!t,required:!1,maxLength:64}),(0,I.tZ)(f.Z,{name:"isActive",label:(0,n.t)("Enabled"),required:!1,disabled:!t,help:"Accept events from this key? This may be used to temporarily suspend a key."}),(0,I.tZ)(g.Z,{label:(0,n.t)("Created"),children:(0,I.tZ)("div",{className:"controls",children:(0,I.tZ)(b.Z,{date:a.dateCreated})})})]})]})}),(0,I.tZ)(z,{organization:r,params:o,data:a,disabled:!t}),(0,I.BX)(Z.s_,{children:[(0,I.tZ)(Z.V9,{children:(0,n.t)("JavaScript Loader Script")}),(0,I.BX)(Z.N,{children:[(0,I.tZ)(Z.aU,{type:"info",showIcon:!0,children:(0,n.t)("Note that it can take a few minutes until changed options are live.")}),(0,I.tZ)($,{orgSlug:r.slug,keyId:o.keyId,project:s,data:a,updateData:i})]})]}),(0,I.BX)(Z.s_,{children:[(0,I.tZ)(Z.V9,{children:(0,n.t)("Credentials")}),(0,I.BX)(Z.N,{children:[(0,I.tZ)(Z.aU,{type:"info",showIcon:!0,children:(0,n.t)("Your credentials are coupled to a public and secret key. Different clients will require different credentials, so make sure you check the documentation before plugging things in.")}),(0,I.tZ)(M.Z,{projectId:`${a.projectId}`,data:a,showPublicKey:!0,showSecretKey:!0,showProjectId:!0})]})]})]})}}),(0,I.tZ)(u.Z,{access:["project:admin"],project:s,children:e=>{let{hasAccess:t}=e;return(0,I.BX)(Z.s_,{children:[(0,I.tZ)(Z.V9,{children:(0,n.t)("Revoke Key")}),(0,I.tZ)(Z.N,{children:(0,I.tZ)(g.Z,{label:(0,n.t)("Revoke Key"),help:(0,n.t)("Revoking this key will immediately remove and suspend the credentials. This action is irreversible."),children:(0,I.tZ)("div",{children:(0,I.tZ)(h.Z,{priority:"danger",message:(0,n.t)("Are you sure you want to revoke this key? This will immediately remove and suspend the credentials."),onConfirm:S,confirmText:(0,n.t)("Revoke Key"),disabled:!t,children:(0,I.tZ)(m.zx,{priority:"danger",children:(0,n.t)("Revoke Key")})})})})})]})}})]})}q.displayName="KeySettings";var H=r("./app/components/charts/miniBarChart.tsx"),W=r("./app/components/emptyMessage.tsx"),Y=r("./app/components/loadingError.tsx"),J=r("./app/components/placeholder.tsx"),G=r("./app/utils/theme.tsx");class Q extends c.Component{constructor(){super(...arguments),(0,s.Z)(this,"state",(()=>{const e=Math.floor((new Date).getTime()/1e3);return{since:e-2592e3,until:e,loading:!0,error:!1,series:[],emptyStats:!1}})()),(0,s.Z)(this,"fetchData",(()=>{const{organization:e}=this.props,{keyId:t,projectId:r}=this.props.params;this.props.api.request(`/projects/${e.slug}/${r}/keys/${t}/stats/`,{query:{since:this.state.since,until:this.state.until,resolution:"1d"},success:e=>{let t=!0;const r=[],s=[];e.forEach((e=>{e.total&&(t=!1),r.push({name:1e3*e.ts,value:e.dropped}),s.push({name:1e3*e.ts,value:e.accepted})}));const o=[{seriesName:(0,n.t)("Accepted"),data:s},{seriesName:(0,n.t)("Rate Limited"),data:r}];this.setState({series:o,emptyStats:t,error:!1,loading:!1})},error:()=>{this.setState({error:!0,loading:!1})}})}))}componentDidMount(){this.fetchData()}render(){return this.state.error?(0,I.tZ)(Y.Z,{onRetry:this.fetchData}):(0,I.BX)(Z.s_,{children:[(0,I.tZ)(Z.V9,{children:(0,n.t)("Key usage in the last 30 days (by day)")}),(0,I.tZ)(Z.N,{withPadding:!0,children:this.state.loading?(0,I.tZ)(J.Z,{height:"150px"}):this.state.emptyStats?(0,I.tZ)(W.Z,{title:(0,n.t)("Nothing recorded in the last 30 days."),description:(0,n.t)("Total events captured using these credentials.")}):(0,I.tZ)(H.Z,{isGroupedByDate:!0,series:this.state.series,height:150,colors:[G.ZP.gray200,G.ZP.red300],stacked:!0,labelYAxisExtents:!0})})]})}}Q.displayName="KeyStats";const ee=Q;class te extends i.Z{constructor(){super(...arguments),(0,s.Z)(this,"handleRemove",(()=>{const{organization:e}=this.props,{projectId:t}=this.props.params;o.browserHistory.push((0,a.D)(`/settings/${e.slug}/projects/${t}/keys/`))})),(0,s.Z)(this,"updateData",(e=>{this.setState((t=>({...t,data:e})))}))}getTitle(){return(0,n.t)("Key Details")}getEndpoints(){const{organization:e}=this.props,{keyId:t,projectId:r}=this.props.params;return[["data",`/projects/${e.slug}/${r}/keys/${t}/`]]}renderBody(){const{organization:e,project:t,params:r}=this.props,{data:s}=this.state;return(0,I.BX)("div",{"data-test-id":"key-details",children:[(0,I.tZ)(d.Z,{title:(0,n.t)("Key Details")}),(0,I.tZ)(l.Z,{project:t}),(0,I.tZ)(ee,{api:this.api,organization:e,params:r}),(0,I.tZ)(q,{data:s,updateData:this.updateData,onRemove:this.handleRemove,organization:e,project:t,params:r})]})}}},"./app/views/settings/project/projectKeys/projectKeyCredentials.tsx":(e,t,r)=>{r.d(t,{Z:()=>b});var s=r("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=r("../node_modules/react/index.js"),n=r("./app/components/forms/fieldGroup/index.tsx"),a=r("./app/components/links/externalLink.tsx"),i=r("./app/components/links/link.tsx"),d=r("./app/components/textCopyInput.tsx"),l=r("./app/locale.tsx"),c=r("./app/styles/space.tsx"),p=r("./app/utils/getDynamicText.tsx"),u=r("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function m(e){let{data:t,projectId:r,showDsn:s=!0,showDsnPublic:c=!0,showMinidump:m=!0,showProjectId:b=!1,showPublicKey:g=!1,showSecretKey:f=!1,showSecurityEndpoint:y=!0,showUnreal:x=!0}=e;const[Z,w]=(0,o.useState)(!1);return(0,u.BX)(o.Fragment,{children:[c&&(0,u.BX)(n.Z,{label:(0,l.t)("DSN"),inline:!1,flexibleControlStateSize:!0,help:(0,l._N)("The DSN tells the SDK where to send the events to. [link]",{link:s?(0,u.tZ)(i.Z,{to:"",onClick:()=>w((e=>!e)),children:Z?(0,l.t)("Hide deprecated DSN"):(0,l.t)("Show deprecated DSN")}):null}),children:[(0,u.tZ)(d.Z,{"aria-label":(0,l.t)("DSN URL"),children:(0,p.Z)({value:t.dsn.public,fixed:"__DSN__"})}),Z&&(0,u.tZ)(h,{label:null,help:(0,l.t)("Deprecated DSN includes a secret which is no longer required by newer SDK versions. If you are unsure which to use, follow installation instructions for your language."),inline:!1,flexibleControlStateSize:!0,children:(0,u.tZ)(d.Z,{children:(0,p.Z)({value:t.dsn.secret,fixed:"__DSN_DEPRECATED__"})})})]}),!c&&s&&(0,u.tZ)(n.Z,{label:(0,l.t)("DSN (Deprecated)"),help:(0,l.t)("Deprecated DSN includes a secret which is no longer required by newer SDK versions. If you are unsure which to use, follow installation instructions for your language."),inline:!1,flexibleControlStateSize:!0,children:(0,u.tZ)(d.Z,{children:(0,p.Z)({value:t.dsn.secret,fixed:"__DSN_DEPRECATED__"})})}),y&&(0,u.tZ)(n.Z,{label:(0,l.t)("Security Header Endpoint"),help:(0,l._N)("Use your security header endpoint for features like [link].",{link:(0,u.tZ)(a.Z,{href:"https://docs.sentry.io/product/security-policy-reporting/",children:(0,l.t)("CSP and Expect-CT reports")})}),inline:!1,flexibleControlStateSize:!0,children:(0,u.tZ)(d.Z,{"aria-label":(0,l.t)("Security Header Endpoint URL"),children:(0,p.Z)({value:t.dsn.security,fixed:"__SECURITY_HEADER_ENDPOINT__"})})}),m&&(0,u.tZ)(n.Z,{label:(0,l.t)("Minidump Endpoint"),help:(0,l._N)("Use this endpoint to upload [link], for example with Electron, Crashpad or Breakpad.",{link:(0,u.tZ)(a.Z,{href:"https://docs.sentry.io/platforms/native/guides/minidumps/",children:"minidump crash reports"})}),inline:!1,flexibleControlStateSize:!0,children:(0,u.tZ)(d.Z,{"aria-label":(0,l.t)("Minidump Endpoint URL"),children:(0,p.Z)({value:t.dsn.minidump,fixed:"__MINIDUMP_ENDPOINT__"})})}),x&&(0,u.tZ)(n.Z,{label:(0,l.t)("Unreal Engine 4 Endpoint"),help:(0,l.t)("Use this endpoint to configure your UE4 Crash Reporter."),inline:!1,flexibleControlStateSize:!0,children:(0,u.tZ)(d.Z,{"aria-label":(0,l.t)("Unreal Engine 4 Endpoint URL"),children:(0,p.Z)({value:t.dsn.unreal||"",fixed:"__UNREAL_ENDPOINT__"})})}),g&&(0,u.tZ)(n.Z,{label:(0,l.t)("Public Key"),inline:!0,flexibleControlStateSize:!0,children:(0,u.tZ)(d.Z,{children:(0,p.Z)({value:t.public,fixed:"__PUBLICKEY__"})})}),f&&(0,u.tZ)(n.Z,{label:(0,l.t)("Secret Key"),inline:!0,flexibleControlStateSize:!0,children:(0,u.tZ)(d.Z,{children:(0,p.Z)({value:t.secret,fixed:"__SECRETKEY__"})})}),b&&(0,u.tZ)(n.Z,{label:(0,l.t)("Project ID"),inline:!0,flexibleControlStateSize:!0,children:(0,u.tZ)(d.Z,{children:(0,p.Z)({value:r,fixed:"__PROJECTID__"})})})]})}m.displayName="ProjectKeyCredentials";const h=(0,s.Z)(n.Z,{target:"edkubn60"})("padding:",(0,c.D)(.5)," 0 0 0;"),b=m}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_project_projectKeys_details_index_tsx.5c20e07f83329f2af6e03bc36b6f241e.js.map