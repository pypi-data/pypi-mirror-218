"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_organizationRateLimits_index_tsx"],{"./app/components/forms/controls/rangeSlider/index.tsx":(e,t,o)=>{o.d(t,{Z:()=>p});var r=o("../node_modules/react/index.js"),a=o("./app/components/input.tsx"),n=o("./app/components/tooltip.tsx"),s=o("./app/locale.tsx"),i=o("./app/utils.tsx"),d=o("./app/components/forms/controls/rangeSlider/slider.tsx"),m=o("./app/components/forms/controls/rangeSlider/sliderAndInputWrapper.tsx");const l=(0,o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js").Z)("label",{target:"e1bimbwo0"})("font-size:14px;margin-bottom:",(e=>e.theme.grid),"px;color:",(e=>e.theme.subText),";");var u=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(e){let{id:t,value:o,allowedValues:c,showCustomInput:p,name:b,disabled:h,placeholder:g,formatLabel:x,className:f,onBlur:w,onChange:k,forwardRef:v,disabledReason:Z,showLabel:y=!0,...L}=e;const[j,R]=(0,r.useState)(c?c.indexOf(Number(o||0)):o);function z(e){const t=parseFloat(e.target.value);R(t),k?.(function(e){return c?c[e]:e}(t),e)}function _(e){"function"==typeof w&&w(e)}(0,r.useEffect)((()=>{!function(){if(!(0,i.ri)(o))return;const e=c?.indexOf(Number(o||0))??-1;R(e>-1?e:o)}()}),[o]);const{min:B,max:N,step:V,actualValue:C,displayValue:I}=function(){if(!c){const{min:e,max:t,step:o}=L;return{min:e,max:t,step:o,actualValue:j,displayValue:j}}const e=c[j];return{step:1,min:0,max:c.length-1,actualValue:e,displayValue:(0,i.ri)(e)?e:(0,s.t)("Invalid value")}}(),S=x?.(C)??I;return(0,u.BX)("div",{className:f,ref:v,children:[!p&&y&&(0,u.tZ)(l,{children:S}),(0,u.tZ)(n.u,{title:Z,disabled:!h,skipWrapper:!0,isHoverable:!0,children:(0,u.BX)(m.Z,{showCustomInput:p,children:[(0,u.tZ)(d.Z,{type:"range",name:b,id:t,min:B,max:N,step:V,disabled:h,onChange:z,onInput:z,onMouseUp:_,onKeyUp:_,value:j,hasLabel:!p,"aria-valuetext":S}),p&&(0,u.tZ)(a.Z,{placeholder:g,value:j,onChange:function(e){R(parseFloat(e.target.value)||0)},onBlur:z})]})})]})}c.displayName="RangeSlider";const p=(0,r.forwardRef)((function(e,t){return(0,u.tZ)(c,{...e,forwardRef:t})}))},"./app/components/forms/controls/rangeSlider/slider.tsx":(e,t,o)=>{o.d(t,{Z:()=>r});const r=(0,o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js").Z)("input",{target:"e1mw05q50"})("-webkit-appearance:none;width:100%;background:transparent;margin:",(e=>e.theme.grid),"px 0 ",(e=>e.theme.grid*(e.hasLabel?2:1)),"px;&::-webkit-slider-runnable-track{width:100%;height:3px;cursor:pointer;background:",(e=>e.theme.border),";border-radius:3px;border:0;}&::-moz-range-track{width:100%;height:3px;cursor:pointer;background:",(e=>e.theme.border),";border-radius:3px;border:0;}&::-ms-track{width:100%;height:3px;cursor:pointer;background:",(e=>e.theme.border),";border-radius:3px;border:0;}&::-webkit-slider-thumb{box-shadow:0 0 0 3px ",(e=>e.theme.background),";height:17px;width:17px;border-radius:50%;background:",(e=>e.theme.active),";cursor:pointer;-webkit-appearance:none;margin-top:-7px;border:0;transition:background 0.1s,box-shadow 0.1s;}&::-moz-range-thumb{box-shadow:0 0 0 3px ",(e=>e.theme.background),";height:17px;width:17px;border-radius:50%;background:",(e=>e.theme.active),";cursor:pointer;-webkit-appearance:none;margin-top:-7px;border:0;transition:background 0.1s,box-shadow 0.1s;}&::-ms-thumb{box-shadow:0 0 0 3px ",(e=>e.theme.background),";height:17px;width:17px;border-radius:50%;background:",(e=>e.theme.active),";cursor:pointer;-webkit-appearance:none;margin-top:-7px;border:0;transition:background 0.1s,box-shadow 0.1s;}&::-ms-fill-lower{background:",(e=>e.theme.border),";border:0;border-radius:50%;}&::-ms-fill-upper{background:",(e=>e.theme.border),";border:0;border-radius:50%;}&:focus{outline:none;&::-webkit-slider-runnable-track{background:",(e=>e.theme.border),";}&::-ms-fill-upper{background:",(e=>e.theme.border),";}&::-ms-fill-lower{background:",(e=>e.theme.border),";}}&[disabled]{&::-webkit-slider-thumb{background:",(e=>e.theme.border),";cursor:default;}&::-moz-range-thumb{background:",(e=>e.theme.border),";cursor:default;}&::-ms-thumb{background:",(e=>e.theme.border),";cursor:default;}&::-webkit-slider-runnable-track{cursor:default;}&::-moz-range-track{cursor:default;}&::-ms-track{cursor:default;}}&:not([disabled])::-webkit-slider-runnable-track:hover{background:",(e=>e.theme.activeHover),";}&:not([disabled])::-moz-range-thumb:hover{background:",(e=>e.theme.activeHover),";}&:not([disabled])::-ms-thumb:hover{background:",(e=>e.theme.activeHover),";}&:focus::-webkit-slider-thumb,&.focus-visible::-webkit-slider-thumb{box-shadow:",(e=>e.theme.background)," 0 0 0 3px,",(e=>e.theme.focus)," 0 0 0 6px;}&:focus::-moz-range-thumb,&.focus-visible::-moz-range-thumb{box-shadow:",(e=>e.theme.background)," 0 0 0 3px,",(e=>e.theme.focus)," 0 0 0 6px;}&:focus::-ms-thumb,&.focus-visible::-ms-thumb{box-shadow:",(e=>e.theme.background)," 0 0 0 3px,",(e=>e.theme.focus)," 0 0 0 6px;}")},"./app/components/forms/controls/rangeSlider/sliderAndInputWrapper.tsx":(e,t,o)=>{o.d(t,{Z:()=>n});var r=o("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=o("./app/styles/space.tsx");const n=(0,r.Z)("div",{target:"ejt5u5d0"})("display:grid;align-items:center;grid-auto-flow:column;grid-template-columns:4fr ",(e=>e.showCustomInput&&"1fr"),";gap:",(0,a.D)(1),";")},"./app/components/forms/fields/rangeField.tsx":(e,t,o)=>{o.d(t,{Z:()=>d});var r=o("./app/components/forms/controls/rangeSlider/index.tsx"),a=o("./app/components/forms/formField/index.tsx"),n=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function s(e,t){let{formatLabel:o}=t;return o?.(e)??e}function i(e){let{formatMessageValue:t=s,disabled:o,...i}=e;const d="function"==typeof o?o(i):o,m={...i,disabled:d,formatMessageValue:t};return(0,n.tZ)(a.Z,{...m,children:e=>{let{children:t,onChange:o,onBlur:a,value:s,...i}=e;return(0,n.tZ)(r.Z,{...i,value:s,onBlur:a,onChange:(e,t)=>function(e,t,o){e(t,o)}(o,e,t)})}})}i.displayName="RangeField";const d=i},"./app/views/settings/organizationRateLimits/index.tsx":(e,t,o)=>{o.r(t),o.d(t,{default:()=>g});var r=o("./app/utils/withOrganization.tsx"),a=(o("../node_modules/core-js/modules/es.array.push.js"),o("./app/components/forms/fieldGroup/index.tsx")),n=o("./app/components/forms/fields/rangeField.tsx"),s=o("./app/components/forms/form.tsx"),i=o("./app/components/panels/index.tsx"),d=o("./app/locale.tsx"),m=o("./app/views/settings/components/settingsPageHeader.tsx"),l=o("./app/views/settings/components/text/textBlock.tsx"),u=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const c=(()=>{const e=[];let t=0;for(;t<=1e6;)e.push(t),t+=t<1e4?1e3:t<1e5?1e4:1e5;return e})();var p={name:"1ykowef",styles:"margin-bottom:0"};function b(e){let{organization:t}=e;const{quota:o}=t,{maxRate:r,maxRateInterval:b,projectLimit:h,accountLimit:g}=o,x={projectRateLimit:h||100,accountRateLimit:g};return(0,u.BX)("div",{children:[(0,u.tZ)(m.Z,{title:(0,d.t)("Rate Limits")}),(0,u.BX)(i.s_,{children:[(0,u.tZ)(i.V9,{children:(0,d.t)("Adjust Limits")}),(0,u.BX)(i.N,{children:[(0,u.tZ)(i.aU,{type:"info",children:(0,d.t)("Rate limits allow you to control how much data is stored for this\n                organization. When a rate is exceeded the system will begin discarding\n                data until the next interval.")}),(0,u.BX)(s.Z,{"data-test-id":"rate-limit-editor",saveOnBlur:!0,allowUndo:!0,apiMethod:"PUT",apiEndpoint:`/organizations/${t.slug}/`,initialData:x,children:[r?(0,u.tZ)(a.Z,{label:(0,d.t)("Account Limit"),help:(0,d.t)("The maximum number of events to accept across this entire organization."),children:(0,u.tZ)(l.Z,{css:p,children:(0,d._N)("Your account is limited to a maximum of [maxRate] events per [maxRateInterval] seconds.",{maxRate:r,maxRateInterval:b})})}):(0,u.tZ)(n.Z,{name:"accountRateLimit",label:(0,d.t)("Account Limit"),min:0,max:1e6,allowedValues:c,help:(0,d.t)("The maximum number of events to accept across this entire organization."),placeholder:"e.g. 500",formatLabel:e=>e?(0,d._N)("[number] per hour",{number:e.toLocaleString()}):(0,d.t)("No Limit")}),(0,u.tZ)(n.Z,{name:"projectRateLimit",label:(0,d.t)("Per-Project Limit"),help:(0,d.t)("The maximum percentage of the account limit (set above) that an individual project can consume."),step:5,min:50,max:100,formatLabel:e=>100!==e?`${e}%`:(0,d.t)("No Limit â€” 100%")})]})]})]})]})}b.displayName="OrganizationRateLimit";const h=b,g=(0,r.Z)((function(e){return e.organization?(0,u.tZ)(h,{...e}):null}))}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_organizationRateLimits_index_tsx.8c06f350194a9c0233d87e1dd0d88f31.js.map