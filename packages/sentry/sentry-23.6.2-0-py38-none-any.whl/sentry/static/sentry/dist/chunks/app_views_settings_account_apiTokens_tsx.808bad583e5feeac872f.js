"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_account_apiTokens_tsx"],{"./app/views/asyncView.tsx":(e,t,n)=>{n.d(t,{Z:()=>a});var i=n("./app/components/asyncComponent.tsx"),s=n("./app/components/sentryDocumentTitle.tsx"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class a extends i.Z{getTitle(){return""}render(){return(0,o.tZ)(s.Z,{title:this.getTitle(),children:this.renderComponent()})}}a.displayName="AsyncView"},"./app/views/settings/account/apiTokens.tsx":(e,t,n)=>{n.r(t),n.d(t,{ApiTokens:()=>B,default:()=>R});var i=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),s=n("./app/actionCreators/indicator.tsx"),o=n("./app/components/alertLink.tsx"),a=n("./app/components/button.tsx"),r=n("./app/components/emptyMessage.tsx"),l=n("./app/components/links/externalLink.tsx"),d=n("./app/components/panels/index.tsx"),p=n("./app/locale.tsx"),c=n("./app/utils/withOrganization.tsx"),h=n("./app/views/asyncView.tsx"),m=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),u=n("./app/components/dateTime.tsx"),g=n("./app/components/textCopyInput.tsx"),k=n("./app/icons/index.tsx"),x=n("./app/styles/space.tsx"),Z=n("./app/utils/getDynamicText.tsx"),v=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function y(e){let{token:t,onRemove:n}=e;return(0,v.BX)(f,{children:[(0,v.BX)(w,{children:[(0,v.tZ)(T,{children:(0,v.tZ)(g.Z,{children:(0,Z.Z)({value:t.token,fixed:"CI_AUTH_TOKEN"})})}),(0,v.tZ)(a.zx,{onClick:()=>n(t),icon:(0,v.tZ)(k.JZ,{isCircled:!0,size:"xs"}),children:(0,p.t)("Remove")})]}),(0,v.BX)(b,{children:[(0,v.BX)(z,{children:[(0,v.tZ)(_,{children:(0,p.t)("Scopes")}),(0,v.tZ)(S,{children:t.scopes.join(", ")})]}),(0,v.BX)("div",{children:[(0,v.tZ)(_,{children:(0,p.t)("Created")}),(0,v.tZ)(A,{children:(0,v.tZ)(u.Z,{date:(0,Z.Z)({value:t.dateCreated,fixed:new Date(150820808e4)})})})]})]})]})}y.displayName="ApiTokenRow";const f=(0,m.Z)(d.Lv,{target:"e70vihd7"})("flex-direction:column;padding:",(0,x.D)(2),";"),w=(0,m.Z)("div",{target:"e70vihd6"})("display:flex;align-items:center;margin-bottom:",(0,x.D)(1),";"),T=(0,m.Z)("div",{target:"e70vihd5"})("font-size:",(e=>e.theme.fontSizeRelativeSmall),";flex:1;margin-right:",(0,x.D)(1),";"),b=(0,m.Z)("div",{target:"e70vihd4"})("display:flex;margin-top:",(0,x.D)(1),";"),z=(0,m.Z)("div",{target:"e70vihd3"})({name:"82a6rk",styles:"flex:1"}),S=(0,m.Z)("div",{target:"e70vihd2"})("font-size:",(e=>e.theme.fontSizeRelativeSmall),";line-height:1.4;"),A=(0,m.Z)("time",{target:"e70vihd1"})("font-size:",(e=>e.theme.fontSizeRelativeSmall),";line-height:1.4;"),_=(0,m.Z)("div",{target:"e70vihd0"})("font-size:",(e=>e.theme.fontSizeMedium),";text-transform:uppercase;color:",(e=>e.theme.subText),";margin-bottom:",(0,x.D)(1),";"),C=y;var D=n("./app/views/settings/components/settingsPageHeader.tsx"),L=n("./app/views/settings/components/text/textBlock.tsx");class B extends h.Z{constructor(){super(...arguments),(0,i.Z)(this,"handleRemoveToken",(e=>{(0,s.E3)();const t=this.state.tokenList;this.setState((t=>({tokenList:t.tokenList?.filter((t=>t.token!==e.token))??[]})),(async()=>{try{await this.api.requestPromise("/api-tokens/",{method:"DELETE",data:{token:e.token}}),(0,s.S9)((0,p.t)("Removed token"))}catch(e){(0,s.Iw)((0,p.t)("Unable to remove token. Please try again.")),this.setState({tokenList:t})}}))}))}getTitle(){return(0,p.t)("User Auth Tokens")}getDefaultState(){return{...super.getDefaultState(),tokenList:[]}}getEndpoints(){return[["tokenList","/api-tokens/"]]}renderBody(){const{organization:e}=this.props,{tokenList:t}=this.state,n=!Array.isArray(t)||0===t.length,i=(0,v.tZ)(a.zx,{priority:"primary",size:"sm",to:"/settings/account/api/auth-tokens/new-token/","data-test-id":"create-token",children:(0,p.t)("Create New Token")});return(0,v.BX)("div",{children:[(0,v.tZ)(D.Z,{title:this.getTitle(),action:i}),(0,v.tZ)(o.Z,{to:`/settings/${e?.slug??""}/developer-settings/new-internal`,children:(0,p.t)("Auth Tokens are tied to the logged in user, meaning they'll stop working if the user leaves the organization! We suggest using internal integrations to create/manage tokens tied to the organization instead.")}),(0,v.tZ)(L.Z,{children:(0,p.t)("Authentication tokens allow you to perform actions against the Sentry API on behalf of your account. They're the easiest way to get started using the API.")}),(0,v.tZ)(L.Z,{children:(0,p._N)("For more information on how to use the web API, see our [link:documentation].",{link:(0,v.tZ)(l.Z,{href:"https://docs.sentry.io/api/"})})}),(0,v.BX)(d.s_,{children:[(0,v.tZ)(d.V9,{children:(0,p.t)("Auth Token")}),(0,v.BX)(d.N,{children:[n&&(0,v.tZ)(r.Z,{children:(0,p.t)("You haven't created any authentication tokens yet.")}),t?.map((e=>(0,v.tZ)(C,{token:e,onRemove:this.handleRemoveToken},e.token)))]})]})]})}}const R=(0,c.Z)(B)}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_account_apiTokens_tsx.e99770f79cc09c0afe0ea8a6149e59b6.js.map