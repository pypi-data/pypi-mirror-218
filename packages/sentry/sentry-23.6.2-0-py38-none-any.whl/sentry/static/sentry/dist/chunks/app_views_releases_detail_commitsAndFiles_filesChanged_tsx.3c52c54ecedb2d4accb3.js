"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_releases_detail_commitsAndFiles_filesChanged_tsx"],{"./app/views/releases/detail/commitsAndFiles/filesChanged.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>D});var i=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=s("../node_modules/react/index.js"),a=s("./app/components/avatar/avatarList.tsx"),n=s("./app/icons/index.tsx"),o=s("./app/utils/fileExtension.tsx"),l=s("./app/utils/theme.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function p(e){let{fileName:t,size:i="sm",className:r}=e;const a=(0,o.m)(t),p=a?(0,o._)(a):null,c=l.ZP.iconSizes[i]??i;return p?(0,d.tZ)("img",{src:s("../node_modules/platformicons/svg sync recursive ^\\.\\/.*\\.svg$")(`./${p}.svg`),width:c,height:c,className:r}):(0,d.tZ)(n.Xh,{size:c,className:r})}p.displayName="FileIcon";const c=p;var m=s("./app/styles/space.tsx");const h=(0,i.Z)("li",{target:"ecti9ye1"})("position:relative;display:block;min-height:36px;border:1px solid ",(e=>e.theme.border),";padding:",(0,m.D)(.5)," ",(0,m.D)(1.5),";margin-bottom:-1px;",(e=>e.centered?"text-align: center;":"")," &:first-child{border-top-left-radius:",(e=>e.theme.borderRadius),";border-top-right-radius:",(e=>e.theme.borderRadius),";}&:last-child{border-bottom-left-radius:",(e=>e.theme.borderRadius),";border-bottom-right-radius:",(e=>e.theme.borderRadius),";}");var u=s("./app/components/textOverflow.tsx");function g(e){let{filename:t,authors:s,className:i}=e;return(0,d.BX)(f,{className:i,children:[(0,d.BX)(b,{children:[(0,d.tZ)(x,{fileName:t}),(0,d.tZ)(u.Z,{children:t})]}),(0,d.tZ)("div",{children:(0,d.tZ)(a.Z,{users:s,avatarSize:25,typeMembers:"authors"})})]})}g.displayName="FileChange";const f=(0,i.Z)(h,{target:"e9p478q2"})({name:"bcffy2",styles:"display:flex;align-items:center;justify-content:space-between"}),b=(0,i.Z)("div",{target:"e9p478q1"})("font-size:",(e=>e.theme.fontSizeMedium),";display:grid;gap:",(0,m.D)(1),";margin-right:",(0,m.D)(3),";align-items:center;grid-template-columns:max-content 1fr;"),x=(0,i.Z)(c,{target:"e9p478q0"})("color:",(e=>e.theme.gray200),";border-radius:3px;"),Z=g;var v=s("./app/components/layouts/thirds.tsx"),y=s("./app/components/loadingIndicator.tsx"),R=s("./app/components/pagination.tsx"),w=s("./app/components/panels/index.tsx"),C=s("./app/locale.tsx"),_=s("./app/utils/formatters.tsx"),N=s("./app/utils/routeTitle.tsx"),j=s("./app/views/asyncView.tsx"),k=s("./app/views/releases/detail/utils.tsx"),F=s("./app/views/releases/detail/commitsAndFiles/emptyState.tsx"),S=s("./app/views/releases/detail/commitsAndFiles/repositorySwitcher.tsx"),B=s("./app/views/releases/detail/commitsAndFiles/withReleaseRepos.tsx");class z extends j.Z{getTitle(){const{params:e,orgSlug:t,projectSlug:s}=this.props;return(0,N.Z)((0,C.t)("Files Changed - Release %s",(0,_.ko)(e.release)),t,!1,s)}getDefaultState(){return{...super.getDefaultState(),fileList:[]}}componentDidUpdate(e,t){e.activeReleaseRepo?.name===this.props.activeReleaseRepo?.name?super.componentDidUpdate(e,t):this.remountComponent()}getEndpoints(){const{activeReleaseRepo:e,location:t,release:s,orgSlug:i}=this.props,r=(0,k.pm)({location:t,activeRepository:e});return[["fileList",`/organizations/${i}/releases/${encodeURIComponent(s)}/commitfiles/`,{query:r}]]}renderLoading(){return this.renderBody()}renderContent(){const{fileList:e,fileListPageLinks:t,loading:s}=this.state,{activeReleaseRepo:i}=this.props;if(s)return(0,d.tZ)(y.Z,{});if(!e.length)return(0,d.tZ)(F.Z,{children:i?(0,C.t)("There are no changed files associated with this release in the %s repository.",i.name):(0,C.t)("There are no changed files associated with this release.")});const a=(0,k.bB)(e),n=(0,k.AN)(Object.keys(a));return(0,d.BX)(r.Fragment,{children:[n.map((e=>{const t=a[e],s=Object.keys(t),i=s.length;return(0,d.BX)(w.s_,{children:[(0,d.BX)(w.V9,{children:[(0,d.tZ)("span",{children:e}),(0,d.tZ)("span",{children:(0,C.tn)("%s file changed","%s files changed",i)})]}),(0,d.tZ)(w.N,{children:s.map((e=>{const{authors:s}=t[e];return(0,d.tZ)(L,{filename:e,authors:Object.values(s)},e)}))})]},e)})),(0,d.tZ)(R.Z,{pageLinks:t})]})}renderBody(){const{activeReleaseRepo:e,releaseRepos:t,router:s,location:i}=this.props;return(0,d.BX)(r.Fragment,{children:[t.length>1&&(0,d.tZ)(S.Z,{repositories:t,activeRepository:e,location:i,router:s}),this.renderContent()]})}renderComponent(){return(0,d.tZ)(v.uT,{children:(0,d.tZ)(v.or,{fullWidth:!0,children:super.renderComponent()})})}}const D=(0,B.Z)(z),L=(0,i.Z)(Z,{target:"ew1uctc0"})({name:"d1zd91",styles:"border-radius:0;border-left:none;border-right:none;border-top:none;:last-child{border:none;border-radius:0;}"})}}]);
//# sourceMappingURL=../sourcemaps/app_views_releases_detail_commitsAndFiles_filesChanged_tsx.16a70de01906694629eda3b7dfa352ee.js.map