"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_projectDataForwarding_index_tsx"],{"./app/components/pluginList.tsx":(t,e,n)=>{n.d(e,{Z:()=>j});var s=n("./app/actionCreators/plugins.tsx"),a=n("./app/components/acl/access.tsx"),i=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=n("./app/components/button.tsx"),r=n("./app/components/panels/index.tsx"),l=n("./app/components/textOverflow.tsx"),p=n("./app/locale.tsx"),d=n("./app/plugins/components/pluginIcon.tsx"),c=n("./app/styles/space.tsx"),g=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function u(t){let{disabled:e,plugins:n,onEnablePlugin:s}=t;return 0===n.length?null:(0,g.BX)(r.s_,{children:[(0,g.tZ)(r.V9,{children:(0,p.t)("Inactive Integrations")}),(0,g.tZ)(r.N,{children:(0,g.tZ)(m,{children:n.map((t=>(0,g.tZ)(h,{disabled:e,title:e?(0,p.t)("You do not have permission to set up an integration."):"",onClick:()=>s(t),className:`ref-plugin-enable-${t.id}`,children:(0,g.BX)(x,{children:[(0,g.tZ)(Z,{pluginId:t.id}),(0,g.tZ)(l.Z,{children:t.shortName||t.name})]})},t.id)))})})]})}u.displayName="InactivePlugins";const m=(0,i.Z)("div",{target:"e1mpcvbx3"})("display:flex;padding:",(0,c.D)(1),";flex:1;flex-wrap:wrap;"),h=(0,i.Z)(o.zx,{target:"e1mpcvbx2"})("margin:",(0,c.D)(1),";width:175px;text-align:center;font-size:",(t=>t.theme.fontSizeSmall),";color:#889ab0;letter-spacing:0.1px;font-weight:600;text-transform:uppercase;border:1px solid #eee;background:inherit;border-radius:",(t=>t.theme.borderRadius),";padding:10px;&:hover{border-color:#ccc;}"),x=(0,i.Z)("div",{target:"e1mpcvbx1"})({name:"1wnowod",styles:"display:flex;align-items:center;justify-content:center"}),Z=(0,i.Z)(d.ZP,{target:"e1mpcvbx0"})("margin-right:",(0,c.D)(1),";"),b=u;var w=n("./app/components/pluginConfig.tsx");function f(t){let{organization:e,project:n,pluginList:i,onDisablePlugin:o=(()=>{}),onEnablePlugin:l=(()=>{})}=t;const d=(0,a.d)(["project:write"],{organization:e,project:n}),c=t=>{(0,s.rR)({projectId:n.slug,orgId:e.slug,pluginId:t.slug}),o(t)};return i.length?(0,g.BX)("div",{children:[i.filter((t=>t.enabled)).map((t=>(0,g.tZ)(w.Z,{data:t,organization:e,project:n,onDisablePlugin:c},t.id))),(0,g.tZ)(b,{disabled:!d,plugins:i.filter((t=>!t.enabled&&!t.isHidden)),onEnablePlugin:t=>{(0,s.Cg)({projectId:n.slug,orgId:e.slug,pluginId:t.slug}),l(t)}})]}):(0,g.tZ)(r.s_,{children:(0,g.tZ)(r.Lv,{children:(0,p.t)("Oops! Looks like there aren't any available integrations installed.")})})}f.displayName="PluginList";const j=f},"./app/views/settings/project/permissionAlert.tsx":(t,e,n)=>{n.d(e,{Z:()=>p});var s=n("./app/components/acl/access.tsx"),a=n("./app/components/alert.tsx"),i=n("./app/locale.tsx"),o=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const r=(0,i.t)("These settings can only be edited by users with the organization-level owner, manager, or team-level admin roles.");function l(t){let{access:e=["project:write"],project:n,team:i,...l}=t;return(0,o.tZ)(s.Z,{access:e,project:n,team:i,children:t=>{let{hasAccess:e}=t;return!e&&(0,o.tZ)(a.bZ,{"data-test-id":"project-permission-alert",type:"warning",...l,children:r})}})}l.displayName="PermissionAlert";const p=l},"./app/views/settings/projectDataForwarding/index.tsx":(t,e,n)=>{n.r(e),n.d(e,{default:()=>P});var s=n("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=n("../node_modules/react/index.js"),i=n("./app/components/acl/access.tsx"),o=n("./app/components/acl/feature.tsx"),r=n("./app/components/acl/featureDisabled.tsx"),l=n("./app/components/alert.tsx"),p=n("./app/components/asyncComponent.tsx"),d=n("./app/components/charts/miniBarChart.tsx"),c=n("./app/components/emptyMessage.tsx"),g=n("./app/components/links/externalLink.tsx"),u=n("./app/components/panels/index.tsx"),m=n("./app/components/pluginList.tsx"),h=n("./app/components/sentryDocumentTitle.tsx"),x=n("./app/locale.tsx"),Z=n("./app/utils/withOrganization.tsx"),b=n("./app/views/settings/components/settingsPageHeader.tsx"),w=n("./app/views/settings/components/text/textBlock.tsx"),f=n("./app/views/settings/project/permissionAlert.tsx"),j=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class v extends p.Z{getEndpoints(){const{orgId:t,projectId:e}=this.props.params,n=Math.floor((new Date).getTime()/1e3);return[["stats",`/projects/${t}/${e}/stats/`,{query:{since:n-2592e3,until:n,resolution:"1d",stat:"forwarded"}}]]}renderBody(){const{projectId:t}=this.props.params,{stats:e}=this.state,n={seriesName:(0,x.t)("Forwarded"),data:e.map((t=>{let[e,n]=t;return{name:1e3*e,value:n}}))},s=n.data.some((t=>{let{value:e}=t;return e>0}));return(0,j.BX)(u.s_,{children:[(0,j.tZ)(h.Z,{title:(0,x.t)("Data Forwarding"),projectSlug:t}),(0,j.tZ)(u.V9,{children:(0,x.t)("Forwarded events in the last 30 days (by day)")}),(0,j.tZ)(u.N,{withPadding:!0,children:s?(0,j.tZ)(d.Z,{isGroupedByDate:!0,showTimeInTooltip:!0,labelYAxisExtents:!0,series:[n],height:150}):(0,j.tZ)(c.Z,{title:(0,x.t)("Nothing forwarded in the last 30 days."),description:(0,x.t)("Total events forwarded to third party integrations.")})})]})}}class y extends p.Z{constructor(){super(...arguments),(0,s.Z)(this,"onEnablePlugin",(t=>this.updatePlugin(t,!0))),(0,s.Z)(this,"onDisablePlugin",(t=>this.updatePlugin(t,!1)))}getEndpoints(){const{organization:t}=this.props,{projectId:e}=this.props.params;return[["plugins",`/projects/${t.slug}/${e}/plugins/`]]}get forwardingPlugins(){return this.state.plugins.filter((t=>"data-forwarding"===t.type&&t.hasConfiguration))}updatePlugin(t,e){const n=this.state.plugins.map((n=>({...n,enabled:n.id===t.id?e:n.enabled})));this.setState({plugins:n})}renderBody(){const{organization:t,project:e}=this.props,n=this.forwardingPlugins,s=(0,i.d)(["project:write"],{organization:t,project:e}),p={...this.props.params,orgId:t.slug},d=n.length>0?(0,j.tZ)(m.Z,{organization:t,project:e,pluginList:n,onEnablePlugin:this.onEnablePlugin,onDisablePlugin:this.onDisablePlugin}):(0,j.tZ)(u.s_,{children:(0,j.tZ)(c.Z,{title:(0,x.t)("There are no integrations available for data forwarding")})});return(0,j.tZ)("div",{"data-test-id":"data-forwarding-settings",children:(0,j.tZ)(o.Z,{features:["projects:data-forwarding"],hookName:"feature-disabled:data-forwarding",children:t=>{let{hasFeature:n,features:i}=t;return(0,j.BX)(a.Fragment,{children:[(0,j.tZ)(b.Z,{title:(0,x.t)("Data Forwarding")}),(0,j.tZ)(w.Z,{children:(0,x._N)("Data Forwarding allows processed events to be sent to your\n                favorite business intelligence tools. The exact payload and\n                types of data depend on the integration you're using. Learn\n                more about this functionality in our [link:documentation].",{link:(0,j.tZ)(g.Z,{href:"https://docs.sentry.io/product/data-management-settings/data-forwarding/"})})}),(0,j.tZ)(f.Z,{project:e}),(0,j.tZ)(l.bZ,{showIcon:!0,children:(0,x._N)("Sentry forwards [em:all applicable error events] to the provider, in\n                some cases this may be a significant volume of data.",{em:(0,j.tZ)("strong",{})})}),!n&&(0,j.tZ)(r.Z,{alert:!0,featureName:(0,x.t)("Data Forwarding"),features:i}),(0,j.tZ)(v,{params:p}),s&&n&&d]})}})})}}const P=(0,Z.Z)(y)}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_projectDataForwarding_index_tsx.d2e2db155ddaebbf98f427ec850fbf3e.js.map