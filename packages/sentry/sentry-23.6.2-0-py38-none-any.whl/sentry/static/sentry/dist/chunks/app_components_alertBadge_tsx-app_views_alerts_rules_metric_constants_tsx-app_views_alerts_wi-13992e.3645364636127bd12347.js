"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_alertBadge_tsx-app_views_alerts_rules_metric_constants_tsx-app_views_alerts_wi-13992e"],{"./app/components/alertBadge.tsx":(e,t,s)=>{s.d(t,{Z:()=>l});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=s("./app/components/diamondStatus.tsx"),n=s("./app/icons/index.tsx"),i=s("./app/locale.tsx"),o=s("./app/styles/space.tsx"),E=s("./app/views/alerts/types.tsx"),R=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function S(e){let{status:t,withText:s,isIssue:r}=e,o=(0,i.t)("Resolved"),S=n.DL,l="successText";return r?(o=(0,i.t)("Issue"),S=u,l="subText"):t===E.vt.CRITICAL?(o=(0,i.t)("Critical"),S=n.zC,l="errorText"):t===E.vt.WARNING&&(o=(0,i.t)("Warning"),S=n.qV,l="warningText"),(0,R.BX)(T,{"data-test-id":"alert-badge",children:[(0,R.tZ)(a.V,{icon:S,color:l,"aria-label":s?void 0:o}),s&&(0,R.tZ)("div",{children:o})]})}S.displayName="AlertBadge";const l=S,u=(0,r.Z)(n.XI,{target:"eyo3n0p1"})({name:"6rcvar",styles:"width:13px"}),T=(0,r.Z)("div",{target:"eyo3n0p0"})("display:flex;align-items:center;gap:",(0,o.D)(1),";")},"./app/components/diamondStatus.tsx":(e,t,s)=>{s.d(t,{V:()=>i});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=s("./app/icons/index.tsx"),n=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function i(e){let{color:t,icon:s,...r}=e;return(0,n.BX)(E,{role:"presentation",color:t,...r,children:[(0,n.tZ)(o,{color:t}),(0,n.tZ)(s,{color:"white"})]})}i.displayName="DiamondStatus";const o=(0,r.Z)(a.Sq,{target:"ehwnb4y1"})({name:"bgbjt4",styles:"width:36px;height:36px"}),E=(0,r.Z)("div",{target:"ehwnb4y0"})({name:"1uzdu7j",styles:"width:36px;height:36px;position:relative;svg:last-child{width:16px;z-index:2;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;}"})},"./app/views/alerts/rules/metric/constants.tsx":(e,t,s)=>{s.d(t,{H9:()=>v,Hq:()=>f,KP:()=>I,Ng:()=>u,P1:()=>c,Q6:()=>y,Vr:()=>l,W7:()=>C,XU:()=>O,Yp:()=>g,b1:()=>E,bp:()=>N,ep:()=>m,hh:()=>T,kV:()=>S,nM:()=>h,rQ:()=>_,wT:()=>R,yq:()=>A});var r=s("./app/locale.tsx"),a=s("./app/utils/fields/index.ts"),n=s("./app/utils/performance/vitals/constants.tsx"),i=s("./app/views/alerts/rules/metric/types.tsx"),o=s("./app/views/alerts/utils/index.tsx");const E=1,R=60,S=10080,l="count()",u="p95(transaction.duration)",T={[i.qz.ERRORS]:"event.type:error",[i.qz.TRANSACTIONS]:"event.type:transaction",[i.qz.GENERIC_METRICS]:"event.type:transaction"},c={[i.Yh.ERROR_DEFAULT]:"event.type:[error, default]",[i.Yh.ERROR]:"event.type:error",[i.Yh.DEFAULT]:"event.type:default",[i.Yh.TRANSACTION]:"event.type:transaction"},A={aggregations:[a.Ac.COUNT,a.Ac.COUNT_UNIQUE],fields:["user"]},d=[a.Ac.AVG,a.Ac.PERCENTILE,a.Ac.P50,a.Ac.P75,a.Ac.P95,a.Ac.P99,a.Ac.P100],p=[...d,a.Ac.FAILURE_RATE,a.Ac.APDEX,a.Ac.COUNT],N=["dataset","eventTypes","aggregate","query","timeWindow","thresholdPeriod","projects","environment","resolveThreshold","thresholdType","owner","name","projectId","comparisonDelta"],O=["alertThreshold","label"],_=["type","targetType","targetIdentifier","inputChannelId","options"],I=[{value:5,label:(0,r.t)("same time 5 minutes ago")},{value:15,label:(0,r.t)("same time 15 minutes ago")},{value:60,label:(0,r.t)("same time one hour ago")},{value:1440,label:(0,r.t)("same time one day ago")},{value:10080,label:(0,r.t)("same time one week ago")},{value:43200,label:(0,r.t)("same time one month ago")}];function h(e,t){return"custom"===e&&t===i.qz.ERRORS?A:{aggregations:"apdex"===e||"custom"===e?p:d,fields:["transaction.duration"],measurementKeys:Object.keys(n.r9)}}const g={aggregations:p,fields:["transaction.duration"],measurementKeys:Object.keys(n.r9)};function C(e){return{label:e,alertThreshold:"",actions:[]}}function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{dataset:i.qz.ERRORS,eventTypes:[i.GM.ERROR],aggregate:l,query:"",timeWindow:60,thresholdPeriod:1,triggers:[C(i.F4.CRITICAL),C(i.F4.WARNING)],projects:[],environment:null,resolveThreshold:"",thresholdType:i.lT.ABOVE,...e}}function v(e){const t=(0,o.A4)(e.query),s=t?o.Ey[t.source]:o.Ey.error;let r=e.getYAxis();return"transactions"===s.dataset&&/^p\d{2,3}\(\)/.test(e.getYAxis())&&(r=e.getYAxis().slice(0,3)+"(transaction.duration)"),{...m(),...s,query:t?.query??e.query,aggregate:r,environment:e.environment.length?e.environment[0]:null}}function y(e){const{eventTypes:t,aggregate:s,dataset:r}=e,a={};return(0,o.Eb)(s)&&(a.thresholdType=i.lT.BELOW,a.timeWindow=i.Tb.ONE_HOUR),s.includes("apdex")&&(a.thresholdType=i.lT.BELOW),{...m(a),eventTypes:[t],aggregate:s,dataset:r}}function f(e,t){return(0,o.Eb)(e)||t===i.t6.CHANGE?"%":e.includes("measurements.cls")?"":e.includes("duration")||e.includes("measurements")?"ms":""}},"./app/views/alerts/rules/metric/types.tsx":(e,t,s)=>{s.d(t,{F4:()=>n,GM:()=>E,LO:()=>c,Lm:()=>A,Tb:()=>u,Us:()=>T,XH:()=>l,Yh:()=>R,hd:()=>d,lK:()=>S,lT:()=>a,qz:()=>o,t6:()=>i});var r=s("./app/locale.tsx");let a,n,i,o,E,R,S,l,u,T;!function(e){e[e.ABOVE=0]="ABOVE",e[e.BELOW=1]="BELOW"}(a||(a={})),function(e){e.CRITICAL="critical",e.WARNING="warning",e.RESOLVE="resolve"}(n||(n={})),function(e){e.COUNT="count",e.CHANGE="change",e.PERCENT="percent"}(i||(i={})),function(e){e.ERRORS="events",e.TRANSACTIONS="transactions",e.GENERIC_METRICS="generic_metrics",e.SESSIONS="sessions",e.METRICS="metrics"}(o||(o={})),function(e){e.DEFAULT="default",e.ERROR="error",e.TRANSACTION="transaction",e.USER="user",e.SESSION="session"}(E||(E={})),function(e){e.ERROR_DEFAULT="error_default",e.DEFAULT="default",e.ERROR="error",e.TRANSACTION="transaction"}(R||(R={})),function(e){e.CRASH_FREE_SESSIONS="percentage(sessions_crashed, sessions) AS _crash_rate_alert_aggregate",e.CRASH_FREE_USERS="percentage(users_crashed, users) AS _crash_rate_alert_aggregate"}(S||(S={})),function(e){e.SIX_HOURS="6h",e.ONE_DAY="1d",e.THREE_DAYS="3d",e.SEVEN_DAYS="10000m",e.FOURTEEN_DAYS="14d",e.THIRTY_DAYS="30d"}(l||(l={})),function(e){e[e.ONE_MINUTE=1]="ONE_MINUTE",e[e.FIVE_MINUTES=5]="FIVE_MINUTES",e[e.TEN_MINUTES=10]="TEN_MINUTES",e[e.FIFTEEN_MINUTES=15]="FIFTEEN_MINUTES",e[e.THIRTY_MINUTES=30]="THIRTY_MINUTES",e[e.ONE_HOUR=60]="ONE_HOUR",e[e.TWO_HOURS=120]="TWO_HOURS",e[e.FOUR_HOURS=240]="FOUR_HOURS",e[e.ONE_DAY=1440]="ONE_DAY"}(u||(u={})),function(e){e.EMAIL="email",e.SLACK="slack",e.PAGERDUTY="pagerduty",e.MSTEAMS="msteams",e.SENTRY_APP="sentry_app"}(T||(T={}));const c={[T.EMAIL]:(0,r.t)("Emai​l"),[T.SLACK]:(0,r.t)("Slack"),[T.PAGERDUTY]:(0,r.t)("Pagerduty"),[T.MSTEAMS]:(0,r.t)("MS Teams"),[T.SENTRY_APP]:(0,r.t)("Notification")};let A;!function(e){e.SPECIFIC="specific",e.USER="user",e.TEAM="team",e.SENTRY_APP="sentry_app"}(A||(A={}));const d={[A.USER]:(0,r.t)("Member"),[A.TEAM]:(0,r.t)("Team")}},"./app/views/alerts/types.tsx":(e,t,s)=>{let r,a,n,i,o,E;s.d(t,{Gb:()=>o,XO:()=>E,lm:()=>a,ok:()=>r,vt:()=>n}),function(e){e.METRIC="metric",e.ISSUE="issue"}(r||(r={})),function(e){e[e.CREATED=0]="CREATED",e[e.DETECTED=1]="DETECTED",e[e.STATUS_CHANGE=2]="STATUS_CHANGE",e[e.COMMENT=3]="COMMENT",e[e.STARTED=4]="STARTED"}(a||(a={})),function(e){e[e.OPENED=1]="OPENED",e[e.CLOSED=2]="CLOSED",e[e.WARNING=10]="WARNING",e[e.CRITICAL=20]="CRITICAL"}(n||(n={})),function(e){e[e.MANUAL=1]="MANUAL",e[e.RULE_UPDATED=2]="RULE_UPDATED",e[e.RULE_TRIGGERED=3]="RULE_TRIGGERED"}(i||(i={})),function(e){e[e.PENDING=0]="PENDING",e[e.SNAPSHOT=4]="SNAPSHOT",e[e.DISABLED=5]="DISABLED"}(o||(o={})),function(e){e.METRIC="alert_rule",e.ISSUE="rule"}(E||(E={}))},"./app/views/alerts/utils/index.tsx":(e,t,s)=>{s.d(t,{A4:()=>p,CM:()=>c,Eb:()=>N,Ey:()=>A,Gm:()=>T,Gu:()=>C,KC:()=>d,LI:()=>y,QR:()=>g,Vc:()=>O,g2:()=>m,lR:()=>_,qn:()=>I,t3:()=>h});var r=s("../node_modules/lodash/round.js"),a=s.n(r),n=s("./app/locale.tsx"),i=s("./app/types/index.tsx"),o=s("./app/utils.tsx"),E=(s("./app/utils/dates.tsx"),s("./app/utils/discover/charts.tsx")),R=s("./app/utils/discover/fields.tsx"),S=s("./app/utils/toArray.tsx"),l=s("./app/views/alerts/rules/metric/types.tsx"),u=s("./app/views/alerts/types.tsx");function T(e){return!e.hasOwnProperty("triggers")}const c={[l.qz.ERRORS]:(0,n.t)("Errors"),[l.qz.TRANSACTIONS]:(0,n.t)("Transactions"),[l.Yh.ERROR_DEFAULT]:"event.type:error OR event.type:default",[l.Yh.ERROR]:"event.type:error",[l.Yh.DEFAULT]:"event.type:default",[l.Yh.TRANSACTION]:"event.type:transaction"},A={[l.Yh.ERROR_DEFAULT]:{dataset:l.qz.ERRORS,eventTypes:[l.GM.ERROR,l.GM.DEFAULT]},[l.Yh.ERROR]:{dataset:l.qz.ERRORS,eventTypes:[l.GM.ERROR]},[l.Yh.DEFAULT]:{dataset:l.qz.ERRORS,eventTypes:[l.GM.DEFAULT]},[l.Yh.TRANSACTION]:{dataset:l.qz.TRANSACTIONS,eventTypes:[l.GM.TRANSACTION]}};function d(e,t){return e===l.qz.TRANSACTIONS||e===l.qz.GENERIC_METRICS?l.Yh.TRANSACTION:t?t.includes(l.GM.DEFAULT)&&t.includes(l.GM.ERROR)?l.Yh.ERROR_DEFAULT:t.includes(l.GM.DEFAULT)?l.Yh.DEFAULT:l.Yh.ERROR:l.Yh.ERROR}function p(e){let t=e.match(/\(?\bevent\.type:(error|default|transaction)\)?\WOR\W\(?event\.type:(error|default|transaction)\)?/i);return t?"default,error"!==t.slice(1,3).sort().join(",")?null:{source:l.Yh.ERROR_DEFAULT,query:e.replace(t[0],"").trim()}:(t=e.match(/(^|\s)event\.type:(error|default|transaction)/i),t&&l.Yh[t[2].toUpperCase()]?{source:l.Yh[t[2].toUpperCase()],query:e.replace(t[0],"").trim()}:null)}function N(e){return Object.values(l.lK).includes(e)}const O={[l.lK.CRASH_FREE_SESSIONS]:i.kI.SESSIONS,[l.lK.CRASH_FREE_USERS]:i.kI.USERS};function _(e,t,s){return N(s)?(0,o.ri)(e)?`${a()(e,2)}%`:"―":(0,E.gu)(e,(0,R.Px)(t))}function I(e,t,s){return N(s)?(0,o.ri)(e)?`${e}%`:"―":(0,E.CX)(e,(0,R.Px)(t))}const h=1.03;function g(e){return N(e)}function C(e,t){return`/organizations/${e.slug}/alerts/rules/details/${t.alertRule.status===u.Gb.SNAPSHOT&&t.alertRule.originalAlertRuleId?t.alertRule.originalAlertRuleId:t.alertRule.id}/`}function m(e){return Array.isArray(e)||""===e?"all":["open","closed"].includes(e)?e:"all"}const v=["myteams","unassigned"];function y(e){return void 0===e?v:""===e?[]:(0,S.Z)(e)}},"./app/views/alerts/wizard/options.tsx":(e,t,s)=>{s.d(t,{A_:()=>u,F4:()=>c,F7:()=>A,FZ:()=>T,KV:()=>_,LH:()=>d,LU:()=>h,S:()=>g,VS:()=>S,gb:()=>l});var r=s("../node_modules/lodash/mapValues.js"),a=s.n(r),n=s("./app/locale.tsx"),i=s("./app/utils/fields/index.ts"),o=s("./app/views/alerts/rules/metric/types.tsx");let E,R;!function(e){e[e.ERROR=0]="ERROR",e[e.PERFORMANCE=1]="PERFORMANCE",e[e.CRASH_RATE=2]="CRASH_RATE"}(E||(E={})),function(e){e.DISCOVER="discover",e.METRICS="metrics",e.METRICS_ENHANCED="metricsEnhanced"}(R||(R={}));const S={[o.qz.ERRORS]:E.ERROR,[o.qz.TRANSACTIONS]:E.PERFORMANCE,[o.qz.GENERIC_METRICS]:E.PERFORMANCE,[o.qz.METRICS]:E.CRASH_RATE,[o.qz.SESSIONS]:E.CRASH_RATE},l={issues:(0,n.t)("Issues"),num_errors:(0,n.t)("Number of Errors"),users_experiencing_errors:(0,n.t)("Users Experiencing Errors"),throughput:(0,n.t)("Throughput"),trans_duration:(0,n.t)("Transaction Duration"),apdex:(0,n.t)("Apdex"),failure_rate:(0,n.t)("Failure Rate"),lcp:(0,n.t)("Largest Contentful Paint"),fid:(0,n.t)("First Input Delay"),cls:(0,n.t)("Cumulative Layout Shift"),custom:(0,n.t)("Custom Metric"),crash_free_sessions:(0,n.t)("Crash Free Session Rate"),crash_free_users:(0,n.t)("Crash Free User Rate")},u=e=>[{categoryHeading:(0,n.t)("Errors"),options:["issues","num_errors","users_experiencing_errors"]},...e.features.includes("crash-rate-alerts")?[{categoryHeading:(0,n.t)("Sessions"),options:["crash_free_sessions","crash_free_users"]}]:[],{categoryHeading:(0,n.t)("Performance"),options:["throughput","trans_duration","apdex","failure_rate","lcp","fid","cls"]},{categoryHeading:(0,n.t)("Other"),options:["custom"]}],T={num_errors:{aggregate:"count()",dataset:o.qz.ERRORS,eventTypes:o.GM.ERROR},users_experiencing_errors:{aggregate:"count_unique(user)",dataset:o.qz.ERRORS,eventTypes:o.GM.ERROR},throughput:{aggregate:"count()",dataset:o.qz.TRANSACTIONS,eventTypes:o.GM.TRANSACTION},trans_duration:{aggregate:"p95(transaction.duration)",dataset:o.qz.TRANSACTIONS,eventTypes:o.GM.TRANSACTION},apdex:{aggregate:"apdex(300)",dataset:o.qz.TRANSACTIONS,eventTypes:o.GM.TRANSACTION},failure_rate:{aggregate:"failure_rate()",dataset:o.qz.TRANSACTIONS,eventTypes:o.GM.TRANSACTION},lcp:{aggregate:"p95(measurements.lcp)",dataset:o.qz.TRANSACTIONS,eventTypes:o.GM.TRANSACTION},fid:{aggregate:"p95(measurements.fid)",dataset:o.qz.TRANSACTIONS,eventTypes:o.GM.TRANSACTION},cls:{aggregate:"p95(measurements.cls)",dataset:o.qz.TRANSACTIONS,eventTypes:o.GM.TRANSACTION},custom:{aggregate:"p95(measurements.fp)",dataset:o.qz.TRANSACTIONS,eventTypes:o.GM.TRANSACTION},crash_free_sessions:{aggregate:o.lK.CRASH_FREE_SESSIONS,dataset:o.qz.SESSIONS,eventTypes:o.GM.SESSION},crash_free_users:{aggregate:o.lK.CRASH_FREE_USERS,dataset:o.qz.SESSIONS,eventTypes:o.GM.USER}},c=T.num_errors,A=new Set(["num_errors","users_experiencing_errors","throughput","apdex","failure_rate","crash_free_sessions","crash_free_users"]),d=new Set(["trans_duration","lcp","fid","cls"]),p=[i.Sh.RELEASE,i.Sh.TRANSACTION,i.Sh.TRANSACTION_OP,i.Sh.TRANSACTION_STATUS,i.Sh.HTTP_METHOD,i.Sh.HTTP_STATUS_CODE,i.Sh.BROWSER_NAME,i.Sh.GEO_COUNTRY_CODE,i.Sh.OS_NAME],N=[i.Sh.RELEASE],O=[i.Sh.AGE,i.Sh.ASSIGNED,i.Sh.ASSIGNED_OR_SUGGESTED,i.Sh.BOOKMARKS,i.Sh.DEVICE_MODEL_ID,i.Sh.EVENT_TIMESTAMP,i.Sh.EVENT_TYPE,i.Sh.FIRST_RELEASE,i.Sh.FIRST_SEEN,i.Sh.IS,i.Sh.ISSUE_CATEGORY,i.Sh.ISSUE_TYPE,i.Sh.LAST_SEEN,i.Sh.PLATFORM_NAME,...Object.values(i.Zl),...Object.values(i.$n),...Object.values(i.pd),...Object.values(i.P2)];function _(e,t){return a()({[o.qz.ERRORS]:void 0,[o.qz.TRANSACTIONS]:t.features.includes("alert-allow-indexed")?void 0:I(t),[o.qz.METRICS]:N,[o.qz.GENERIC_METRICS]:t.features.includes("alert-allow-indexed")?void 0:I(t),[o.qz.SESSIONS]:N},(e=>e?(0,i.yE)(e):void 0))[e]}function I(e){return e.features.includes("on-demand-metrics-extraction")?[...p,i.Sh.TRANSACTION_DURATION]:p}function h(e,t){return{[o.qz.ERRORS]:[i.Sh.EVENT_TYPE,i.Sh.RELEASE_VERSION,i.Sh.RELEASE_STAGE,i.Sh.RELEASE_BUILD,i.Sh.PROJECT,...Object.values(i.Zl),...Object.values(i.$n),...Object.values(i.l1),i.Sh.TRANSACTION,i.Sh.TRANSACTION_DURATION,i.Sh.TRANSACTION_OP,i.Sh.TRANSACTION_STATUS],[o.qz.TRANSACTIONS]:t.features.includes("alert-allow-indexed")?O:void 0,[o.qz.METRICS]:void 0,[o.qz.GENERIC_METRICS]:t.features.includes("alert-allow-indexed")?O:void 0,[o.qz.SESSIONS]:void 0}[e]}function g(e,t){return e===o.qz.ERRORS?R.DISCOVER:t?R.METRICS_ENHANCED:e===o.qz.GENERIC_METRICS?R.METRICS:R.DISCOVER}}}]);
//# sourceMappingURL=../sourcemaps/app_components_alertBadge_tsx-app_views_alerts_rules_metric_constants_tsx-app_views_alerts_wi-13992e.2ef6c924ceca2431bb12028e40db6995.js.map