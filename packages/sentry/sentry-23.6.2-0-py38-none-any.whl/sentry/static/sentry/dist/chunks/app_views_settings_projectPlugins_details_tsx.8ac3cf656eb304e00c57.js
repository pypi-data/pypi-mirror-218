"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_projectPlugins_details_tsx"],{"./app/utils/withPlugins.tsx":(t,e,i)=>{i.d(e,{Z:()=>u});var s=i("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=i("../node_modules/react/index.js"),a=i("./app/actionCreators/plugins.tsx"),r=i("./app/stores/pluginsStore.tsx"),o=i("./app/utils.tsx"),l=i("./app/utils/getDisplayName.tsx"),p=i("./app/utils/withOrganization.tsx"),d=i("./app/utils/withProject.tsx"),c=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const u=function(t){class e extends n.Component{constructor(){super(...arguments),(0,s.Z)(this,"state",{plugins:[],loading:!0}),(0,s.Z)(this,"unsubscribe",r.Z.listen((t=>{let{plugins:e,loading:i}=t;this.setState({plugins:e,loading:i})}),void 0))}componentDidMount(){this.fetchPlugins()}componentDidUpdate(t,e,i){const{organization:s,project:n}=this.props,a=t.organization||i?.organization,r=t.project||i?.project;if(!(0,o.ri)(r)||!(0,o.ri)(a))return;const l=a.slug===s.slug,p=r.slug===n?.slug;l&&p||this.fetchPlugins()}componentWillUnmount(){this.unsubscribe()}fetchPlugins(){const{organization:t,project:e}=this.props;e&&t&&(0,a.MM)({projectId:e.slug,orgId:t.slug})}render(){return(0,c.tZ)(t,{...this.props,plugins:this.state})}}return e.displayName="WithPlugins",(0,s.Z)(e,"displayName",`withPlugins(${(0,l.Z)(t)})`),(0,p.Z)((0,d.Z)(e))}},"./app/views/asyncView.tsx":(t,e,i)=>{i.d(e,{Z:()=>r});var s=i("./app/components/asyncComponent.tsx"),n=i("./app/components/sentryDocumentTitle.tsx"),a=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class r extends s.Z{getTitle(){return""}render(){return(0,a.tZ)(n.Z,{title:this.getTitle(),children:this.renderComponent()})}}r.displayName="AsyncView"},"./app/views/settings/projectPlugins/details.tsx":(t,e,i)=>{i.r(e),i.d(e,{ProjectPluginDetails:()=>x,default:()=>w});var s=i("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),n=i("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),a=i("./app/actionCreators/indicator.tsx"),r=i("./app/actionCreators/plugins.tsx"),o=i("./app/components/button.tsx"),l=i("./app/components/links/externalLink.tsx"),p=i("./app/components/pluginConfig.tsx"),d=i("./app/locale.tsx"),c=i("./app/styles/space.tsx"),u=i("./app/utils/getDynamicText.tsx"),g=i("./app/utils/integrationUtil.tsx"),h=i("./app/utils/withPlugins.tsx"),m=i("./app/views/asyncView.tsx"),Z=i("./app/views/settings/components/settingsPageHeader.tsx"),b=i("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class x extends m.Z{constructor(){super(...arguments),(0,s.Z)(this,"handleReset",(()=>{const{organization:t}=this.props,{projectId:e,pluginId:i}=this.props.params;(0,a.E3)((0,d.t)("Saving changesâ€¦")),(0,g.Db)("integrations.uninstall_clicked",{integration:i,integration_type:"plugin",view:"plugin_details",organization:this.props.organization}),this.api.request(`/projects/${t.slug}/${e}/plugins/${i}/`,{method:"POST",data:{reset:!0},success:t=>{this.setState({pluginDetails:t}),(0,a.S9)((0,d.t)("Plugin was reset")),(0,g.Db)("integrations.uninstall_completed",{integration:i,integration_type:"plugin",view:"plugin_details",organization:this.props.organization})},error:()=>{(0,a.Iw)((0,d.t)("An error occurred"))}})})),(0,s.Z)(this,"handleEnable",(()=>{const{organization:t,params:e}=this.props;(0,r.Cg)({...e,orgId:t.slug}),this.analyticsChangeEnableStatus(!0)})),(0,s.Z)(this,"handleDisable",(()=>{const{organization:t,params:e}=this.props;(0,r.rR)({...e,orgId:t.slug}),this.analyticsChangeEnableStatus(!1)})),(0,s.Z)(this,"analyticsChangeEnableStatus",(t=>{const{pluginId:e}=this.props.params,i=t?"integrations.enabled":"integrations.disabled";(0,g.Db)(i,{integration:e,integration_type:"plugin",view:"plugin_details",organization:this.props.organization})}))}componentDidUpdate(t,e){super.componentDidUpdate(t,e),t.params.pluginId!==this.props.params.pluginId&&this.recordDetailsViewed()}componentDidMount(){super.componentDidMount(),this.recordDetailsViewed()}recordDetailsViewed(){const{pluginId:t}=this.props.params;(0,g.Db)("integrations.details_viewed",{integration:t,integration_type:"plugin",view:"plugin_details",organization:this.props.organization})}getTitle(){const{plugin:t}=this.state;return t&&t.name?t.name:"Sentry"}getEndpoints(){const{organization:t}=this.props,{projectId:e,pluginId:i}=this.props.params;return[["pluginDetails",`/projects/${t.slug}/${e}/plugins/${i}/`]]}trimSchema(t){return t.split("//")[1]}getEnabled(){const{pluginDetails:t}=this.state,{plugins:e}=this.props,i=e&&e.plugins&&e.plugins.find((t=>{let{slug:e}=t;return e===this.props.params.pluginId}));return i?i.enabled:t&&t.enabled}renderActions(){const{pluginDetails:t}=this.state;if(!t)return null;const e=this.getEnabled(),i=(0,b.tZ)(D,{size:"sm",onClick:this.handleEnable,children:(0,d.t)("Enable Plugin")}),s=(0,b.tZ)(D,{size:"sm",priority:"danger",onClick:this.handleDisable,children:(0,d.t)("Disable Plugin")}),n=e?s:i;return(0,b.BX)("div",{className:"pull-right",children:[t.canDisable&&n,(0,b.tZ)(o.zx,{size:"sm",onClick:this.handleReset,children:(0,d.t)("Reset Configuration")})]})}renderBody(){const{organization:t,project:e}=this.props,{pluginDetails:i}=this.state;return i?(0,b.BX)("div",{children:[(0,b.tZ)(Z.Z,{title:i.name,action:this.renderActions()}),(0,b.BX)("div",{className:"row",children:[(0,b.tZ)("div",{className:"col-md-7",children:(0,b.tZ)(p.Z,{organization:t,project:e,data:i,enabled:this.getEnabled(),onDisablePlugin:this.handleDisable})}),(0,b.tZ)("div",{className:"col-md-4 col-md-offset-1",children:(0,b.BX)("div",{className:"pluginDetails-meta",children:[(0,b.tZ)("h4",{children:(0,d.t)("Plugin Information")}),(0,b.BX)("dl",{className:"flat",children:[(0,b.tZ)("dt",{children:(0,d.t)("Name")}),(0,b.tZ)("dd",{children:i.name}),(0,b.tZ)("dt",{children:(0,d.t)("Author")}),(0,b.tZ)("dd",{children:i.author?.name}),i.author?.url&&(0,b.BX)("div",{children:[(0,b.tZ)("dt",{children:(0,d.t)("URL")}),(0,b.tZ)("dd",{children:(0,b.tZ)(l.Z,{href:i.author.url,children:this.trimSchema(i.author.url)})})]}),(0,b.tZ)("dt",{children:(0,d.t)("Version")}),(0,b.tZ)("dd",{children:(0,u.Z)({value:i.version,fixed:"1.0.0"})})]}),i.description&&(0,b.BX)("div",{children:[(0,b.tZ)("h4",{children:(0,d.t)("Description")}),(0,b.tZ)("p",{className:"description",children:i.description})]}),i.resourceLinks&&(0,b.BX)("div",{children:[(0,b.tZ)("h4",{children:(0,d.t)("Resources")}),(0,b.tZ)("dl",{className:"flat",children:i.resourceLinks.map((t=>{let{title:e,url:i}=t;return(0,b.tZ)("dd",{children:(0,b.tZ)(l.Z,{href:i,children:e})},i)}))})]})]})})]})]}):null}}const w=(0,h.Z)(x),D=(0,n.Z)(o.zx,{target:"e1fwj8nk0"})("margin-right:",(0,c.D)(.75),";")}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_projectPlugins_details_tsx.6a6acec639ca4754c578c6b2a16891ac.js.map