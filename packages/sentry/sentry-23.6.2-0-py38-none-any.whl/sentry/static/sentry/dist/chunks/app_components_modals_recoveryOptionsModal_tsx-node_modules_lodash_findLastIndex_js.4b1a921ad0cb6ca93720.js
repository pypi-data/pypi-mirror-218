(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_modals_recoveryOptionsModal_tsx-node_modules_lodash_findLastIndex_js"],{"./app/components/modals/recoveryOptionsModal.tsx":(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>h});var s=o("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),n=o("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),a=o("../node_modules/react/index.js"),r=o("./app/components/alert.tsx"),i=o("./app/components/asyncComponent.tsx"),c=o("./app/components/button.tsx"),d=o("./app/locale.tsx"),l=o("./app/styles/space.tsx"),u=o("./app/views/settings/components/text/textBlock.tsx"),p=o("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class m extends i.Z{constructor(){super(...arguments),(0,n.Z)(this,"handleSkipSms",(()=>{this.setState({skipSms:!0})}))}getDefaultState(){return{...super.getDefaultState(),skipSms:!1}}getEndpoints(){return[["authenticators","/users/me/authenticators/"]]}renderBody(){const{authenticatorName:e,closeModal:t,Body:o,Header:n,Footer:i}=this.props,{authenticators:m,skipSms:h}=this.state,{recovery:y,sms:x}=m.reduce(((e,t)=>(e[t.id]=t,e)),{}),b=y&&y.isEnrolled,_=x&&!x.isEnrolled&&!h&&!x.disallowNewEnrollment;return(0,p.BX)(a.Fragment,{children:[(0,p.tZ)(n,{closeButton:!0,children:(0,d.t)("Two-Factor Authentication Enabled")}),(0,p.BX)(o,{children:[(0,p.tZ)(u.Z,{children:(0,d.t)("Two-factor authentication via %s has been enabled.",e)}),(0,p.tZ)(u.Z,{children:(0,d.t)("You should now set up recovery options to secure your account.")}),_?(0,p.tZ)(r.bZ,{type:"warning",children:(0,d.t)("We recommend adding a phone number as a backup 2FA method.")}):(0,p.tZ)(r.bZ,{type:"warning",children:(0,d.t)("Recovery codes are the only way to access your account if you lose\n                  your device and cannot receive two-factor authentication codes.")})]}),_?(0,p.BX)(i,{children:[(0,p.tZ)(c.zx,{onClick:this.handleSkipSms,name:"skipStep",autoFocus:!0,children:(0,d.t)("Skip this step")}),(0,p.tZ)(c.zx,{priority:"primary",onClick:t,to:`/settings/account/security/mfa/${x.id}/enroll/`,name:"addPhone",css:(0,s.iv)({marginLeft:(0,l.D)(1)},"",""),autoFocus:!0,children:(0,d.t)("Add a Phone Number")})]}):(0,p.tZ)(i,{children:(0,p.tZ)(c.zx,{priority:"primary",onClick:t,to:b?`/settings/account/security/mfa/${y.authId}/`:"/settings/account/security/",name:"getCodes",autoFocus:!0,children:(0,d.t)("Get Recovery Codes")})})]})}}const h=m},"../node_modules/lodash/findLastIndex.js":(e,t,o)=>{var s=o("../node_modules/lodash/_baseFindIndex.js"),n=o("../node_modules/lodash/_baseIteratee.js"),a=o("../node_modules/lodash/toInteger.js"),r=Math.max,i=Math.min;e.exports=function(e,t,o){var c=null==e?0:e.length;if(!c)return-1;var d=c-1;return void 0!==o&&(d=a(o),d=o<0?r(c+d,0):i(d,c-1)),s(e,n(t,3),d,!0)}}}]);
//# sourceMappingURL=../sourcemaps/app_components_modals_recoveryOptionsModal_tsx-node_modules_lodash_findLastIndex_js.ae19960ac4241cae3e171ccef8ccc628.js.map