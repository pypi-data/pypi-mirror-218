"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_gridEditable_sortLink_tsx-app_views_performance_landing_widgets_components_per-5df0e3"],{"./app/components/gridEditable/sortLink.tsx":(e,t,n)=>{n.d(t,{Z:()=>g});var i=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=n("../node_modules/react-router/es/index.js"),a=n("./app/components/links/link.tsx"),o=n("./app/icons/index.tsx"),s=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function d(e){let{align:t,title:n,canSort:i,generateSortLink:a,onClick:o,direction:d,replace:g}=e;const m=a();if(!m||!i)return(0,s.tZ)(c,{align:t,children:n});const u=d?(0,s.tZ)(p,{size:"xs",direction:"desc"===d?"down":"up"}):null;return(0,s.BX)(l,{align:t,to:m,onClick:e=>{g&&(e.preventDefault(),r.browserHistory.replace(m)),o?.(e)},children:[n," ",u]})}d.displayName="SortLink";const l=(0,i.Z)((e=>{const{align:t,css:n,...i}=e;return(0,s.tZ)(a.Z,{...i})}),{target:"esdhr0u2"})("display:block;width:100%;white-space:nowrap;color:inherit;&:hover,&:active,&:focus,&:visited{color:inherit;}",(e=>e.align?`text-align: ${e.align};`:""),";"),c=(0,i.Z)("div",{target:"esdhr0u1"})("display:block;width:100%;white-space:nowrap;",(e=>e.align?`text-align: ${e.align};`:""),";"),p=(0,i.Z)(o.CC,{target:"esdhr0u0"})({name:"40f4ru",styles:"vertical-align:top"}),g=d},"./app/views/performance/landing/widgets/components/performanceWidget.tsx":(e,t,n)=>{n.d(t,{I:()=>z});var i=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=n("../node_modules/react/index.js"),a=n("./app/components/charts/errorPanel.tsx"),o=n("./app/components/placeholder.tsx"),s=n("./app/icons/iconWarning.tsx"),d=n("./app/styles/space.tsx"),l=n("./app/utils/analytics.tsx"),c=n("./app/utils/getDynamicText.tsx"),p=n("./app/utils/performance/contexts/metricsEnhancedPerformanceDataContext.tsx"),g=n("./app/utils/useApi.tsx"),m=n("./app/components/panels/index.tsx");const u=(0,i.Z)(m.s_,{target:"ekfeesi1"})("padding-top:",(0,d.D)(2),";margin-bottom:0;"),h=(0,i.Z)("div",{target:"ekfeesi0"})(""),y=e=>{let{containerType:t}=e;return"panel"===t?u:h};var f=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function x(e){return e.isErrored?e.errorComponent:e.isLoading&&e.loadingComponent?e.loadingComponent:e.hasData?(0,f.tZ)(r.Fragment,{children:e.dataComponents}):e.emptyComponent}x.displayName="DataStateSwitch";var Z=n("./app/utils/dates.tsx");function w(e){const t=e.children??(0,f.tZ)(r.Fragment,{});return e.queries.length?(0,f.tZ)(r.Fragment,{children:e.queries.filter((t=>!t.enabled||t.enabled(e.widgetData))).map((t=>(0,f.tZ)(b,{...e,query:t},t.queryKey)))}):(0,f.tZ)(r.Fragment,{children:t})}function b(e){const t=e.query,n=e.queryProps.eventView.getPageFilters(),i=n.datetime.start?(0,Z.hC)(n.datetime.start):null,a=n.datetime.end?(0,Z.hC)(n.datetime.end):null;return(0,r.useEffect)((()=>()=>{e.removeWidgetDataForKey(t.queryKey)}),[]),(0,f.tZ)(t.component,{fields:t.fields,yAxis:t.fields,start:i,end:a,period:n.datetime.period,project:n.projects,environment:n.environments,organization:e.queryProps.organization,orgSlug:e.queryProps.organization.slug,eventView:e.queryProps.eventView,query:e.queryProps.eventView.getQueryWithAdditionalConditions(),widgetData:e.widgetData,referrer:(o=e.queryProps.chartSetting,`api.performance.generic-widget-chart.${o.replace(/_/g,"-")}`),children:n=>(0,f.tZ)(r.Fragment,{children:(0,f.tZ)(v,{results:n,...e,query:t})})},t.queryKey);var o}function v(e){const t=(0,p.EA)(),{results:n,query:i}=e,a=i.transform(e.queryProps,n,e.query);return(0,r.useEffect)((()=>{const r=(0,p.AQ)(n,e.queryProps.fields[0]);t.setIsMetricsData(r),e.setWidgetDataForKey(i.queryKey,a)}),[a?.hasData,a?.isLoading,a?.isErrored]),(0,f.tZ)(r.Fragment,{})}w.displayName="QueryHandler",b.displayName="SingleQueryHandler",v.displayName="QueryResultSaver";var q=n("./app/components/charts/styles.tsx"),D=n("./app/components/questionTooltip.tsx"),j=n("./app/components/textOverflow.tsx");function k(e){const{title:t,titleTooltip:n,Subtitle:i,HeaderActions:r,InteractiveTitle:a}=e;return(0,f.BX)(_,{children:[(0,f.BX)(C,{children:[(0,f.BX)(S,{"data-test-id":"performance-widget-title",children:[a?(0,f.tZ)(a,{...e}):(0,f.tZ)(j.Z,{children:t}),(0,f.tZ)(p.hX,{}),n&&(0,f.tZ)(D.Z,{position:"top",size:"sm",title:n})]}),i?(0,f.tZ)(i,{...e}):null]}),(0,f.tZ)(P,{children:r&&(0,f.tZ)(r,{...e})})]})}k.displayName="WidgetHeader";const S=(0,i.Z)(q.ws,{target:"e1sjff3s3"})("position:relative;z-index:initial;top:-",(0,d.D)(.5),";"),C=(0,i.Z)("div",{target:"e1sjff3s2"})({name:"6kz1wu",styles:"display:flex;flex-direction:column;align-items:flex-start"}),_=(0,i.Z)("div",{target:"e1sjff3s1"})("display:flex;justify-content:space-between;align-items:flex-start;gap:",(0,d.D)(1),";"),P=(0,i.Z)("div",{target:"e1sjff3s0"})("display:flex;align-items:center;gap:",(0,d.D)(1),";");function z(e){const[t,n]=(0,r.useState)({}),i=t[e.chartSetting]??{},a=(0,r.useRef)(i),o=(0,r.useCallback)(((t,i)=>{const r={...a.current,[t]:i};a.current=r,n({[e.chartSetting]:r})}),[t,n]),s=(0,r.useCallback)((t=>{const i={...a.current};delete i[t],a.current=i,n({[e.chartSetting]:i})}),[t,n]),d={widgetData:i,setWidgetDataForKey:o,removeWidgetDataForKey:s},l=Object.entries(e.Queries).map((e=>{let[t,n]=e;return{...n,queryKey:t}})),c=(0,g.Z)(),m=e.Visualizations.reduce(((e,t)=>e+t.height),0);return(0,f.tZ)(r.Fragment,{children:(0,f.BX)(p.UT,{chartSetting:e.chartSetting,children:[(0,f.tZ)(w,{eventView:e.eventView,widgetData:i,setWidgetDataForKey:o,removeWidgetDataForKey:s,queryProps:e,queries:l,api:c}),(0,f.tZ)(E,{...e,...d,totalHeight:m})]})})}function E(e){const{Visualizations:t,chartHeight:n,totalHeight:i,containerType:r,EmptyComponent:a}=e,s=y({containerType:r}),d=Object.keys(e.Queries).length,p=Object.values(e.widgetData).length!==d,g=!p&&Object.values(e.widgetData).every((e=>!e||e.hasData)),m=Object.values(e.widgetData).some((e=>!e||e.isLoading)),u=!p&&Object.values(e.widgetData).some((e=>e&&e.isErrored));return(0,f.BX)(s,{"data-test-id":"performance-widget-container",children:[(0,f.tZ)(L,{children:(0,f.tZ)(k,{...e})}),(0,f.tZ)(x,{isLoading:m,isErrored:u,hasData:g,errorComponent:(0,f.tZ)(F,{height:i}),dataComponents:t.map(((t,i)=>(0,f.tZ)(L,{noPadding:t.noPadding,bottomPadding:t.bottomPadding,"data-test-id":"widget-state-has-data",onClick:()=>{return t=e.chartSetting,n=e.organization,void(0,l.Gi)("performance_views.landingv3.widget.interaction",{organization:n,widget_type:t});var t,n},children:(0,c.Z)({value:(0,f.tZ)(t.component,{grid:N,queryFields:t.fields,widgetData:e.widgetData,height:n}),fixed:(0,f.tZ)(o.Z,{height:`${n}px`})})},i))),loadingComponent:(0,f.tZ)(W,{height:`${i}px`}),emptyComponent:a?(0,f.tZ)(a,{}):(0,f.tZ)(W,{height:`${i}px`})})]})}function F(e){return(0,f.tZ)(a.Z,{"data-test-id":"widget-state-is-errored",height:`${e.height}px`,children:(0,f.tZ)(s.F,{color:"gray300",size:"lg"})})}z.displayName="GenericPerformanceWidget",E.displayName="DataDisplay",F.displayName="DefaultErrorComponent";const N={left:(0,d.D)(0),right:(0,d.D)(0),top:(0,d.D)(2),bottom:(0,d.D)(1)},L=(0,i.Z)("div",{target:"e1fmuurf1"})("padding-left:",(e=>e.noPadding?(0,d.D)(0):(0,d.D)(2)),";padding-right:",(e=>e.noPadding?(0,d.D)(0):(0,d.D)(2)),";padding-bottom:",(e=>e.bottomPadding?(0,d.D)(1):(0,d.D)(0)),";"),W=(0,i.Z)(o.Z,{target:"e1fmuurf0"})({name:"cs3onb",styles:"border-color:transparent;border-bottom-right-radius:inherit;border-bottom-left-radius:inherit"});z.defaultProps={containerType:"panel",chartHeight:200}},"./app/views/performance/landing/widgets/components/selectableList.tsx":(e,t,n)=>{n.d(t,{Nm:()=>w,QE:()=>f,S$:()=>y,ZP:()=>u,qL:()=>x,xq:()=>Z});var i=n("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),r=n("./app/components/emptyStateWarning.tsx"),a=n("./app/components/forms/controls/radioGroup.tsx"),o=n("./app/components/links/link.tsx"),s=n("./app/components/radio.tsx"),d=n("./app/components/tooltip.tsx"),l=n("./app/icons/index.tsx"),c=n("./app/locale.tsx"),p=n("./app/styles/space.tsx"),g=n("../node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),m=n("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function u(e){return(0,m.tZ)("div",{children:e.items.map(((t,n)=>(0,g.az)(h,{...e,isSelected:n===e.selectedIndex,currentIndex:n,key:n},t())))})}function h(e){let{isSelected:t,currentIndex:n,children:i,setSelectedIndex:r,radioColor:o}=e;return(0,m.BX)(k,{children:[(0,m.tZ)(S,{color:o??"",children:(0,m.tZ)(a.V,{index:n,role:"radio",children:(0,m.tZ)(s.Z,{checked:t,onChange:()=>r(n)})})}),i]})}u.displayName="SelectableList",h.displayName="SelectableItem";const y=(0,i.Z)("div",{target:"e1qhgdqj9"})("text-align:right;display:flex;align-items:center;justify-content:center;padding:0 ",(0,p.D)(1),";"),f=(0,i.Z)("span",{target:"e1qhgdqj8"})("color:",(e=>e.theme.gray300),";font-size:",(e=>e.theme.fontSizeMedium),";display:inline-block;"),x=(0,i.Z)(o.Z,{target:"e1qhgdqj7"})({name:"pu304d",styles:"flex-grow:1;display:inherit"});function Z(){return(0,m.BX)(q,{children:[(0,m.tZ)(D,{children:(0,c.t)("No results found")}),(0,m.tZ)(j,{children:(0,c.t)("Transactions may not be listed due to the filters above or a low sampling rate")})]})}function w(e){return(0,m.tZ)(b,{title:(0,c.t)("Exclude this transaction from the search filter."),children:(0,m.tZ)(v,{onClick:()=>{e.onClick(),e.setSelectListIndex(0)}})})}Z.displayName="WidgetEmptyStateWarning",w.displayName="ListClose";const b=(0,i.Z)(d.u,{target:"e1qhgdqj6"})({name:"1wnowod",styles:"display:flex;align-items:center;justify-content:center"}),v=(0,i.Z)(l.bM,{target:"e1qhgdqj5"})("cursor:pointer;color:",(e=>e.theme.gray200),";"),q=(0,i.Z)(r.Z,{target:"e1qhgdqj4"})({name:"1d607mx",styles:"min-height:300px;justify-content:center;display:flex;align-items:center;flex-direction:column"}),D=(0,i.Z)("span",{target:"e1qhgdqj3"})("font-size:",(e=>e.theme.fontSizeExtraLarge),";color:",(e=>e.theme.gray300),";font-weight:600;margin:0 auto ",(0,p.D)(1),";"),j=(0,i.Z)("p",{target:"e1qhgdqj2"})("font-size:",(e=>e.theme.fontSizeMedium),";color:",(e=>e.theme.gray300),";max-width:300px;"),k=(0,i.Z)("div",{target:"e1qhgdqj1"})("display:flex;border-top:1px solid ",(e=>e.theme.border),";padding:",(0,p.D)(1)," ",(0,p.D)(2),";font-size:",(e=>e.theme.fontSizeMedium),";"),S=(0,i.Z)("div",{target:"e1qhgdqj0"})("grid-row:1/3;input{cursor:pointer;}input:checked::after{background-color:",(e=>e.color),";}")}}]);
//# sourceMappingURL=../sourcemaps/app_components_gridEditable_sortLink_tsx-app_views_performance_landing_widgets_components_per-5df0e3.244b899fcad9187aeea3f02c9ace27b4.js.map