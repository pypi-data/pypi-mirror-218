"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_components_asyncComponent_tsx"],{"./app/components/asyncComponent.tsx":(e,t,s)=>{s.d(t,{Z:()=>q});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=(s("../node_modules/core-js/modules/es.error.cause.js"),s("../node_modules/react/index.js")),n=s("../node_modules/@sentry/core/esm/exports.js"),i=s("../node_modules/lodash/isEqual.js"),a=s.n(i),d=s("../node_modules/prop-types/index.js"),l=s("./app/api.tsx"),u=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),m=(s("../node_modules/core-js/modules/es.array.push.js"),s("../node_modules/lodash/debounce.js")),p=s.n(m),c=s("./app/components/input.tsx"),h=s("./app/components/loadingIndicator.tsx"),g=s("./app/locale.tsx"),x=s("./app/utils/withSentryRouter.tsx"),y=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class b extends o.Component{constructor(){super(...arguments),(0,r.Z)(this,"state",{query:"",busy:!1}),(0,r.Z)(this,"immediateQuery",(async e=>{const{location:t,api:s}=this.props;this.setState({busy:!0});try{const[r,,o]=await s.requestPromise(`${this.props.url}`,{includeAllArgs:!0,method:"GET",query:{...t.query,query:e}});this.state.query===e&&this.props.onSuccess(r,o)}catch{this.props.onError()}this.setState({busy:!1})})),(0,r.Z)(this,"query",p()(this.immediateQuery,this.props.debounceWait)),(0,r.Z)(this,"handleChange",(e=>{this.query(e),this.setState({query:e})})),(0,r.Z)(this,"handleInputChange",(e=>this.handleChange(e.target.value))),(0,r.Z)(this,"handleSearch",(e=>{const{updateRoute:t,onSearchSubmit:s}=this.props;if(e.preventDefault(),t){const{router:e,location:t}=this.props;e.push({pathname:t.pathname,query:{query:this.state.query}})}"function"==typeof s&&s(this.state.query,e)}))}render(){const{placeholder:e,children:t,className:s}=this.props,{busy:r,query:o}=this.state,n=(0,y.BX)(Z,{onSubmit:this.handleSearch,children:[(0,y.tZ)(c.Z,{value:o,onChange:this.handleInputChange,className:s,placeholder:e}),r&&(0,y.tZ)(f,{size:18,hideMessage:!0,mini:!0})]});return void 0===t?n:t({defaultSearchBar:n,busy:r,value:o,handleChange:this.handleChange})}}b.displayName="AsyncComponentSearchInput",(0,r.Z)(b,"defaultProps",{placeholder:(0,g.t)("Search..."),debounceWait:200});const f=(0,u.Z)(h.Z,{target:"e8ucxis1"})({name:"1jyfazj",styles:"position:absolute;right:25px;top:50%;transform:translateY(-13px)"}),Z=(0,u.Z)("form",{target:"e8ucxis0"})({name:"bjn8wh",styles:"position:relative"}),w=(0,x.Z)(b);var j=s("./app/components/loadingError.tsx"),v=s("./app/utils/analytics.tsx"),S=s("./app/utils/getRouteStringFromRoutes.tsx"),R=s("./app/views/permissionDenied.tsx"),D=s("./app/views/routeError.tsx");function _(e,t){return function(){try{return t(...arguments)}catch(t){return console.error(t),window.setTimeout((()=>{throw t})),e.setState({error:t}),null}}}class E extends o.Component{constructor(e,t){var s;super(e,t),s=this,(0,r.Z)(this,"reloadOnVisible",!1),(0,r.Z)(this,"shouldReloadOnVisible",!1),(0,r.Z)(this,"shouldReload",!1),(0,r.Z)(this,"shouldRenderBadRequests",!1),(0,r.Z)(this,"disableErrorReport",!0),(0,r.Z)(this,"api",new l.KU),(0,r.Z)(this,"_measurement",void 0),(0,r.Z)(this,"markShouldMeasure",(function(){let{remainingRequests:e,error:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s._measurement.hasMeasured||(s._measurement.finished=0===e,s._measurement.error=t||s._measurement.error)})),(0,r.Z)(this,"remountComponent",(()=>{this.shouldReload?this.reloadData():this.setState(this.getDefaultState(),this.fetchData)})),(0,r.Z)(this,"visibilityReloader",(()=>this.shouldReloadOnVisible&&!this.state.loading&&!document.hidden&&this.reloadData())),(0,r.Z)(this,"fetchData",(e=>{const t=this.getEndpoints();t.length?(this.api.clear(),this.setState({loading:!0,error:!1,remainingRequests:t.length,...e}),t.forEach((e=>{let[t,s,r,o]=e;o=o||{};const n=this.props.location&&this.props.location.query||{};let i=r&&r.query||{};!o.paginate&&!n.cursor||o.disableEntireQuery||(i={...n,...i}),this.api.request(s,{method:"GET",...r,query:i,success:(e,s,r)=>{this.handleRequestSuccess({stateKey:t,data:e,resp:r},!0)},error:e=>{o.allowError&&o.allowError(e)&&(e=null),this.handleError(e,[t,s,r,o])}})}))):this.setState({loading:!1,error:!1})})),this.api=new l.KU,this.fetchData=_(this,this.fetchData.bind(this)),this.render=_(this,this.render.bind(this)),this.state=this.getDefaultState(),this._measurement={hasMeasured:!1},e.routes&&v.oF.mark({name:`async-component-${(0,S.Z)(e.routes)}`})}componentDidMount(){this.fetchData(),this.reloadOnVisible&&document.addEventListener("visibilitychange",this.visibilityReloader)}componentDidUpdate(e,t){const s=!!t.router,r=void 0!==e.location,o=r?this.props.location:s?this.context.router.location:null,n=r?e.location:s?t.router.location:null;if(o&&n){if(!this._measurement.hasMeasured&&this._measurement.finished&&this.props.routes){const e=(0,S.Z)(this.props.routes);v.oF.measure({name:"app.component.async-component",start:`async-component-${e}`,data:{route:e,error:this._measurement.error}}),this._measurement.hasMeasured=!0}a()(this.props.params,e.params)&&o.search===n.search&&o.state===n.state||this.remountComponent()}}componentWillUnmount(){this.api.clear(),document.removeEventListener("visibilitychange",this.visibilityReloader)}getDefaultState(){const e=this.getEndpoints(),t={loading:!0,reloading:!1,error:!1,errors:{},remainingRequests:e.length||void 0};return e.length||(t.loading=!1),e.forEach((e=>{let[s,r]=e;t[s]=null})),t}reloadData(){this.fetchData({reloading:!0})}onRequestSuccess(e){}onRequestError(e,t){}onLoadAllEndpointsSuccess(){}handleRequestSuccess(e,t){let{stateKey:s,data:r,resp:o}=e;this.setState((e=>{const n={[s]:r,[`${s}PageLinks`]:o?.getResponseHeader("Link")};return t&&(n.remainingRequests=e.remainingRequests-1,n.loading=e.remainingRequests>1,n.reloading=e.reloading&&n.loading,this.markShouldMeasure({remainingRequests:n.remainingRequests})),n}),(()=>{0!==this.state.remainingRequests||this.state.error||this.onLoadAllEndpointsSuccess()})),this.onRequestSuccess({stateKey:s,data:r,resp:o})}handleError(e,t){const[s]=t;e&&e.responseText&&n.n_({message:e.responseText,category:"xhr",level:"error"}),this.setState((t=>{const r=t.remainingRequests>1,o={[s]:null,errors:{...t.errors,[s]:e},error:t.error||!!e,remainingRequests:t.remainingRequests-1,loading:r,reloading:t.reloading&&r};return this.markShouldMeasure({remainingRequests:o.remainingRequests,error:!0}),o})),this.onRequestError(e,t)}getEndpoints(){return[]}renderSearchInput(e){let{stateKey:t,url:s,...r}=e;const[o]=this.getEndpoints()||[null],n=t||o&&o[0],i=s||o&&o[1];return(0,y.tZ)(w,{url:i,...r,api:this.api,onSuccess:(e,t)=>{this.handleRequestSuccess({stateKey:n,data:e,resp:t})},onError:()=>{this.renderError(new Error("Error with AsyncComponentSearchInput"))}})}renderLoading(){return(0,y.tZ)(h.Z,{})}renderError(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{errors:s}=this.state,r=Object.values(s).find((e=>401===e?.status)),o=Object.values(s).find((e=>403===e?.status)),n=!!Object.values(s).find((e=>0!==e?.status))||t;if(r)return(0,y.tZ)(j.Z,{message:(0,g.t)("You are not authorized to access this resource.")});if(o)return(0,y.tZ)(R.Z,{});if(this.shouldRenderBadRequests){const e=Object.values(s).filter((e=>400===e?.status&&e?.responseJSON?.detail)).map((e=>e.responseJSON.detail));if(e.length)return(0,y.tZ)(j.Z,{message:[...new Set(e)].join("\n")})}return(0,y.tZ)(D.Z,{error:e,disableLogSentry:!n,disableReport:this.disableErrorReport})}get shouldRenderLoading(){return this.state.loading&&(!this.shouldReload||!this.state.reloading)}renderComponent(){return this.shouldRenderLoading?this.renderLoading():this.state.error?this.renderError():this.renderBody()}renderBody(){throw new Error("Not implemented")}render(){return this.renderComponent()}}E.displayName="AsyncComponent",(0,r.Z)(E,"contextTypes",{router:d.object});const q=E},"./app/components/layouts/thirds.tsx":(e,t,s)=>{s.d(t,{Dx:()=>u,MF:()=>h,T3:()=>i,h4:()=>a,kP:()=>l,mL:()=>m,oB:()=>d,or:()=>c,uT:()=>p});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("./app/components/navTabs.tsx"),n=s("./app/styles/space.tsx");const i=(0,r.Z)("main",{target:"e1hxddla8"})("display:flex;flex-direction:column;flex:1;",(e=>e.withPadding&&`padding: ${(0,n.D)(3)} ${(0,n.D)(4)}`),";"),a=(0,r.Z)("header",{target:"e1hxddla7"})("display:grid;grid-template-columns:",(e=>e.noActionWrap?"minmax(0, 1fr) auto":"minmax(0, 1fr)"),";padding:",(0,n.D)(2)," ",(0,n.D)(2)," 0 ",(0,n.D)(2),";background-color:transparent;border-bottom:1px solid ",(e=>e.theme.border),";@media (min-width: ",(e=>e.theme.breakpoints.medium),"){padding:",(0,n.D)(2)," ",(0,n.D)(4)," 0 ",(0,n.D)(4),";grid-template-columns:minmax(0, 1fr) auto;}"),d=(0,r.Z)("div",{target:"e1hxddla6"})("display:flex;flex-direction:column;justify-content:normal;margin-bottom:",(0,n.D)(2),";overflow:hidden;max-width:100%;@media (max-width: ",(e=>e.theme.breakpoints.medium),"){margin-bottom:",(0,n.D)(1),";}"),l=(0,r.Z)("div",{target:"e1hxddla5"})("display:flex;flex-direction:column;justify-content:normal;min-width:max-content;margin-top:",(0,n.D)(.25),";@media (max-width: ",(e=>e.theme.breakpoints.medium),"){width:max-content;margin-bottom:",(0,n.D)(2),";}"),u=(0,r.Z)("h1",{target:"e1hxddla4"})((e=>e.theme.overflowEllipsis),";",(e=>e.theme.text.pageTitle),";color:",(e=>e.theme.headingColor),";margin:0;margin-bottom:",(e=>e.withMargins&&(0,n.D)(3)),";margin-top:",(e=>e.withMargins&&(0,n.D)(1)),";line-height:40px;display:flex;gap:",(0,n.D)(1),";align-items:center;"),m=(0,r.Z)(o.Z,{target:"e1hxddla3"})("margin:0;border-bottom:0!important;&>li{margin-right:",(0,n.D)(3),";}&>li>a{display:flex;align-items:center;height:1.25rem;padding:",(0,n.D)(1)," 0;margin-bottom:4px;box-sizing:content-box;}&>li.active>a{margin-bottom:0;}"),p=(0,r.Z)("div",{target:"e1hxddla2"})("padding:",(0,n.D)(2),";margin:0;background-color:",(e=>e.theme.background),";flex-grow:1;@media (min-width: ",(e=>e.theme.breakpoints.medium),"){padding:",(e=>e.noRowGap?`${(0,n.D)(2)} ${(0,n.D)(4)}`:`${(0,n.D)(3)} ${(0,n.D)(4)}`),";}@media (min-width: ",(e=>e.theme.breakpoints.large),"){display:grid;grid-template-columns:minmax(100px, auto) 325px;align-content:start;gap:",(e=>e.noRowGap?`0 ${(0,n.D)(3)}`:`${(0,n.D)(3)}`),";}"),c=(0,r.Z)("section",{target:"e1hxddla1"})("grid-column:",(e=>e.fullWidth?"1/3":"1/2"),";max-width:100%;"),h=(0,r.Z)("aside",{target:"e1hxddla0"})({name:"pyv407",styles:"grid-column:2/3"})},"./app/components/loadingError.tsx":(e,t,s)=>{s.d(t,{Z:()=>u});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("./app/components/alert.tsx"),n=s("./app/components/button.tsx"),i=s("./app/components/panels/index.tsx"),a=s("./app/locale.tsx"),d=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function l(e){let{className:t,onRetry:s,message:r=(0,a.t)("There was an error loading data.")}=e;return(0,d.tZ)(m,{type:"error","data-test-id":"loading-error",showIcon:!0,className:t,trailingItems:s&&(0,d.tZ)(n.zx,{onClick:s,priority:"default",size:"sm",children:(0,a.t)("Retry")}),children:r})}l.displayName="LoadingError";const u=l,m=(0,r.Z)(o.bZ,{target:"eqva5sa0"})(i.s_," &{border-radius:0;border-width:1px 0;}")},"./app/components/navTabs.tsx":(e,t,s)=>{s.d(t,{Z:()=>d});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("../node_modules/classnames/index.js"),n=s.n(o),i=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function a(e){let{underlined:t,className:s,...r}=e;const o=n()("nav nav-tabs",s,{"border-bottom":t});return(0,i.tZ)(l,{className:o,...r})}a.displayName="NavTabs";const d=a,l=(0,r.Z)("ul",{target:"e16i8lfr0"})("font-size:",(e=>e.theme.fontSizeMedium),";")},"./app/components/sentryDocumentTitle.tsx":(e,t,s)=>{s.d(t,{Z:()=>d});var r=s("../node_modules/react/index.js"),o=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const n="Sentry",i=(0,r.createContext)(n);function a(e){let{title:t="",orgSlug:s,projectSlug:a,noSuffix:d,children:l}=e;const u=(0,r.useContext)(i),m=(0,r.useMemo)((()=>s&&a?`${t} — ${s} — ${a}`:s?`${t} — ${s}`:a?`${t} — ${a}`:t),[s,a,t]),p=(0,r.useMemo)((()=>d?m:""!==m?`${m} — Sentry`:n),[d,m]);return document.title!==p&&(document.title=p),(0,r.useEffect)((()=>()=>{document.title=u}),[u]),(0,o.tZ)(i.Provider,{value:p,children:l})}a.displayName="SentryDocumentTitle";const d=a},"./app/utils/getRouteStringFromRoutes.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});var r=s("../node_modules/lodash/findLastIndex.js"),o=s.n(r);function n(e){if(!Array.isArray(e))return"";const t=e.filter((e=>!!e.path)),s=o()(t,(e=>{let{path:t}=e;return t.startsWith("/")}));return t.slice(s).filter((e=>{let{path:t}=e;return!!t})).map((e=>{let{path:t}=e;return t})).join("")}},"./app/utils/useRoutes.tsx":(e,t,s)=>{s.d(t,{V:()=>o});var r=s("./app/utils/useRouteContext.tsx");function o(){return(0,r.s)().routes}},"./app/utils/withProject.tsx":(e,t,s)=>{s.d(t,{Z:()=>d});var r=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),o=s("../node_modules/react/index.js"),n=s("./app/sentryTypes.tsx"),i=s("./app/utils/getDisplayName.tsx"),a=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");const d=e=>{var t;return t=class extends o.Component{render(){const{project:t,...s}=this.props;return(0,a.tZ)(e,{project:t??this.context.project,...s})}},(0,r.Z)(t,"displayName",`withProject(${(0,i.Z)(e)})`),(0,r.Z)(t,"contextTypes",{project:n.Z.Project}),t}},"./app/views/permissionDenied.tsx":(e,t,s)=>{s.d(t,{Z:()=>h});var r=s("../node_modules/react/index.js"),o=s("../node_modules/@sentry/core/esm/exports.js"),n=s("./app/components/layouts/thirds.tsx"),i=s("./app/components/links/externalLink.tsx"),a=s("./app/components/loadingError.tsx"),d=s("./app/components/sentryDocumentTitle.tsx"),l=s("./app/locale.tsx"),u=s("./app/utils/getRouteStringFromRoutes.tsx"),m=s("./app/utils/useRoutes.tsx"),p=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function c(){const e=(0,m.V)();return(0,r.useEffect)((()=>{const t=(0,u.Z)(e);o.n_({category:"auth",message:"Permission Denied"+(t?` : ${t}`:""),level:"error"})}),[]),(0,p.tZ)(d.Z,{title:(0,l.t)("Permission Denied"),children:(0,p.tZ)(n.T3,{withPadding:!0,children:(0,p.tZ)(a.Z,{message:(0,l._N)("Your role does not have the necessary permissions to access this\n             resource, please read more about [link:organizational roles]",{link:(0,p.tZ)(i.Z,{href:"https://docs.sentry.io/product/accounts/membership/"})})})})})}c.displayName="PermissionDenied";const h=c},"./app/views/routeError.tsx":(e,t,s)=>{s.d(t,{Z:()=>w});var r=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),o=s("../node_modules/react/index.js"),n=s("../node_modules/@sentry/core/esm/exports.js"),i=s("../node_modules/@sentry/browser/esm/sdk.js"),a=s("./app/components/alert.tsx"),d=s("./app/components/links/externalLink.tsx"),l=s("./app/components/list/index.tsx"),u=s("./app/components/list/listItem.tsx"),m=s("./app/locale.tsx"),p=s("./app/stores/organizationStore.tsx"),c=s("./app/stores/useLegacyStore.tsx"),h=s("./app/styles/space.tsx"),g=s("./app/utils/getRouteStringFromRoutes.tsx"),x=s("./app/utils/useRoutes.tsx"),y=s("./app/utils/withProject.tsx"),b=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function f(e){let{error:t,disableLogSentry:s,disableReport:r,project:h}=e;const y=(0,x.V)(),{organization:f}=(0,c.X)(p.Z);return(0,o.useEffect)((()=>{if(s)return;if(!t)return;const e=(0,g.Z)(y),o=t=>(t.setExtra("route",e),t.setExtra("orgFeatures",f?.features??[]),t.setExtra("orgAccess",f?.access??[]),t.setExtra("projectFeatures",h?.features??[]),t);if(e)try{t.message=`${t.message}: ${e}`}catch(e){n.$e((e=>{o(e),e.setExtra("cannotSetMessage",!0)}))}const a=window.setTimeout((()=>{n.$e((e=>{o(e),n.Tb(t)})),r||i.jp()}));return function(){window.clearTimeout(a)}}),[t,s]),(0,o.useEffect)((()=>()=>document.querySelector(".sentry-error-embed-wrapper")?.remove())),(0,b.BX)(a.bZ,{type:"error",children:[(0,b.tZ)(Z,{children:(0,m.t)("Oops! Something went wrong")}),(0,b.tZ)("p",{children:(0,m.t)("\n          It looks like you've hit an issue in our client application. Don't worry though!\n          We use Sentry to monitor Sentry and it's likely we're already looking into this!\n          ")}),(0,b.tZ)("p",{children:(0,m.t)("If you're daring, you may want to try the following:")}),(0,b.BX)(l.Z,{symbol:"bullet",children:[window&&window.adblockSuspected&&(0,b.tZ)(u.Z,{children:(0,m.t)("We detected something AdBlock-like. Try disabling it, as it's known to cause issues.")}),(0,b.tZ)(u.Z,{children:(0,m._N)("Give it a few seconds and [link:reload the page].",{link:(0,b.tZ)("a",{onClick:()=>{window.location.href=window.location.href}})})}),(0,b.tZ)(u.Z,{children:(0,m._N)("If all else fails, [link:contact us] with more details.",{link:(0,b.tZ)(d.Z,{href:"https://github.com/getsentry/sentry/issues/new/choose"})})})]})]})}f.displayName="RouteError";const Z=(0,r.Z)("h1",{target:"e1a5se1x0"})("font-size:",(e=>e.theme.fontSizeLarge),";line-height:1.4;margin-bottom:",(0,h.D)(1),";"),w=(0,y.Z)(f)}}]);
//# sourceMappingURL=../sourcemaps/app_components_asyncComponent_tsx.64b453c2ca4e69b929e43fb94dce49f9.js.map