"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["app_views_settings_project_projectServiceHooks_tsx"],{"./app/components/switchButton.tsx":(e,t,s)=>{s.d(t,{Z:()=>m});var o=s("../node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),i=s("../node_modules/react/index.js"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function n(e){let{forwardedRef:t,size:s="sm",isActive:o,forceActiveColor:i,isLoading:n,isDisabled:a,toggle:c,id:d,name:p,className:m,...u}=e;return(0,r.tZ)(l,{ref:t,id:d,name:p,type:"button",className:m,onClick:a?void 0:c,role:"checkbox","aria-checked":o,isLoading:n,disabled:a,isActive:o,size:s,"data-test-id":"switch",...u,children:(0,r.tZ)(h,{isDisabled:a,isActive:o,forceActiveColor:i,size:s})})}n.displayName="Switch";const a=e=>"sm"===e.size?16:24,c=e=>a(e)-("sm"===e.size?4:8),d=e=>"sm"===e.size?1:3,p=e=>e.isActive?d(e)+.875*a(e):d(e),l=(0,o.Z)("button",{target:"e1slsb9u1"})("display:inline-block;background:none;padding:0;border:1px solid ",(e=>e.theme.border),";position:relative;box-shadow:inset ",(e=>e.theme.dropShadowMedium),";height:",a,"px;width:",(e=>1.875*a(e)),"px;border-radius:",a,"px;transition:border 0.1s,box-shadow 0.1s;&[disabled]{cursor:not-allowed;}&:focus,&.focus-visible{outline:none;border-color:",(e=>e.theme.focusBorder),";box-shadow:",(e=>e.theme.focusBorder)," 0 0 0 1px;}"),h=(0,o.Z)("span",{target:"e1slsb9u0"})("display:block;position:absolute;border-radius:50%;transition:0.25s all ease;top:",d,"px;transform:translateX(",p,"px);width:",c,"px;height:",c,"px;background:",(e=>e.isActive||e.forceActiveColor?e.theme.active:e.theme.border),";opacity:",(e=>e.isDisabled?.4:null),";"),m=(0,i.forwardRef)(((e,t)=>(0,r.tZ)(n,{...e,forwardedRef:t})))},"./app/views/asyncView.tsx":(e,t,s)=>{s.d(t,{Z:()=>n});var o=s("./app/components/asyncComponent.tsx"),i=s("./app/components/sentryDocumentTitle.tsx"),r=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");class n extends o.Z{getTitle(){return""}render(){return(0,r.tZ)(i.Z,{title:this.getTitle(),children:this.renderComponent()})}}n.displayName="AsyncView"},"./app/views/settings/project/projectServiceHooks.tsx":(e,t,s)=>{s.r(t),s.d(t,{default:()=>Z});var o=s("../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),i=s("../node_modules/react/index.js"),r=s("./app/actionCreators/indicator.tsx"),n=s("./app/components/button.tsx"),a=s("./app/components/emptyMessage.tsx"),c=s("./app/components/forms/fieldGroup/index.tsx"),d=s("./app/components/links/link.tsx"),p=s("./app/components/panels/index.tsx"),l=s("./app/components/switchButton.tsx"),h=s("./app/components/truncate.tsx"),m=s("./app/icons/index.tsx"),u=s("./app/locale.tsx"),g=s("./app/utils/withOrganization.tsx"),x=s("./app/views/asyncView.tsx"),v=s("./app/views/settings/components/settingsPageHeader.tsx"),b=s("../node_modules/@emotion/react/jsx-runtime/dist/emotion-react-jsx-runtime.browser.esm.js");function w(e){let{orgId:t,projectId:s,hook:o,onToggleActive:i}=e;return(0,b.tZ)(c.Z,{label:(0,b.tZ)(d.Z,{"data-test-id":"project-service-hook",to:`/settings/${t}/projects/${s}/hooks/${o.id}/`,children:(0,b.tZ)(h.Z,{value:o.url})}),help:(0,b.tZ)("small",{children:o.events&&0!==o.events.length?o.events.join(", "):(0,b.tZ)("em",{children:(0,u.t)("no events configured")})}),children:(0,b.tZ)(l.Z,{isActive:"active"===o.status,size:"lg",toggle:i})})}w.displayName="ServiceHookRow";class k extends x.Z{constructor(){super(...arguments),(0,o.Z)(this,"onToggleActive",(e=>{const{organization:t,params:s}=this.props,{hookList:o}=this.state;o&&((0,r.E3)((0,u.t)("Saving changesâ€¦")),this.api.request(`/projects/${t.slug}/${s.projectId}/hooks/${e.id}/`,{method:"PUT",data:{isActive:"active"!==e.status},success:e=>{(0,r.B8)(),this.setState({hookList:o.map((t=>t.id===e.id?{...t,...e}:t))})},error:()=>{(0,r.Iw)((0,u.t)("Unable to remove application. Please try again."))}}))}))}getEndpoints(){const{organization:e,params:t}=this.props,s=t.projectId;return[["hookList",`/projects/${e.slug}/${s}/hooks/`]]}renderEmpty(){return(0,b.tZ)(a.Z,{children:(0,u.t)("There are no service hooks associated with this project.")})}renderResults(){const{organization:e,params:t}=this.props;return(0,b.BX)(i.Fragment,{children:[(0,b.tZ)(p.V9,{children:(0,u.t)("Service Hook")},"header"),(0,b.BX)(p.N,{children:[(0,b.tZ)(p.aU,{type:"info",showIcon:!0,children:(0,u.t)("Service Hooks are an early adopter preview feature and will change in the future.")}),this.state.hookList?.map((s=>(0,b.tZ)(w,{orgId:e.slug,projectId:t.projectId,hook:s,onToggleActive:this.onToggleActive.bind(this,s)},s.id)))]},"body")]})}renderBody(){const{hookList:e}=this.state,t=e&&e.length>0?this.renderResults():this.renderEmpty(),{organization:s,params:o}=this.props;return(0,b.BX)(i.Fragment,{children:[(0,b.tZ)(v.Z,{title:(0,u.t)("Service Hooks"),action:s.access.includes("project:write")?(0,b.tZ)(n.zx,{"data-test-id":"new-service-hook",to:`/settings/${s.slug}/projects/${o.projectId}/hooks/new/`,size:"sm",priority:"primary",icon:(0,b.tZ)(m.N_,{size:"xs",isCircled:!0}),children:(0,u.t)("Create New Hook")}):null}),(0,b.tZ)(p.s_,{children:t})]})}}const Z=(0,g.Z)(k)}}]);
//# sourceMappingURL=../sourcemaps/app_views_settings_project_projectServiceHooks_tsx.9819b3ba6918d1a4765e8f8fc12b41ad.js.map