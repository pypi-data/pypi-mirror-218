[tox]
envlist =
  dj32-py{38, 39, 310}-{sqlite}
  dj40-py{38, 39, 310}-{sqlite}
  dj41-py{38, 39, 310, 311}-{sqlite}
  dj42-py{38, 39, 310, 311}-{sqlite}
skipsdist = true

[gh-actions]
python =
  3.6: py36
  3.7: py37
  3.8: py38
  3.9: py39
  3.10: py310
  3.11: py311

[testenv]
env =
  sqlite: DJANGO_DATABASE = sqlite
deps =
  dj32: django >= 3.2, < 3.3
  dj40: django >= 4.0, < 4.1
  dj41: django >= 4.1, < 4.2
  dj42: django >= 4.2, < 4.3
  -r requirements.txt
  -r requirements-dev.txt
commands =
  pytest

[testenv:lint]
deps =
  black
  flake8
  flake8-pyproject
  isort
commands =
  black --check --diff .
  flake8 .
  isort --check --diff .
